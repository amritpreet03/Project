define(function(){"use strict";function a(a){var b=document.cookie.indexOf(a+"="),c=b+a.length+1;if(!b&&a!=document.cookie.substring(0,a.length))return"";if(b==-1)return"";var d=document.cookie.indexOf(";",c);return d==-1&&(d=document.cookie.length),decodeURI(document.cookie.substring(c,d))}function b(a,c,d){this.maxSize_=a||-1,this.debug_=c||!1,this.storage_=d||new b.BasicCacheStorage,this.fillFactor_=.75,this.stats_={},this.stats_.hits=0,this.stats_.misses=0,this.log_("Initialized cache with size "+a)}b.Priority={LOW:1,NORMAL:2,HIGH:4},b.BasicCacheStorage=function(){this.items_={},this.count_=0},b.BasicCacheStorage.prototype.get=function(a){return this.items_[a]},b.BasicCacheStorage.prototype.set=function(a,b){"undefined"==typeof this.get(a)&&this.count_++,this.items_[a]=b},b.BasicCacheStorage.prototype.size=function(a,b){return this.count_},b.BasicCacheStorage.prototype.remove=function(a){var b=this.get(a);return"undefined"!=typeof b&&this.count_--,delete this.items_[a],b},b.BasicCacheStorage.prototype.keys=function(){var a,b=[];for(a in this.items_)b.push(a);return b},b.LocalStorageCacheStorage=function(a){this.prefix_="cache-storage."+(a||"default")+".";var b=this.prefix_.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&");this.regexp_=new RegExp("^"+b)},b.LocalStorageCacheStorage.prototype.get=function(a){var b=window.localStorage[this.prefix_+a];return b?JSON.parse(b):null},b.LocalStorageCacheStorage.prototype.set=function(a,b){window.localStorage[this.prefix_+a]=JSON.stringify(b)},b.LocalStorageCacheStorage.prototype.size=function(a,b){return this.keys().length},b.LocalStorageCacheStorage.prototype.remove=function(a){var b=this.get(a);return delete window.localStorage[this.prefix_+a],b},b.LocalStorageCacheStorage.prototype.keys=function(){var a,b=[];for(a in window.localStorage)a.match(this.regexp_)&&b.push(a.replace(this.prefix_,""));return b},b.prototype.getItem=function(a){var b=this.storage_.get(a);null!=b&&(this.isExpired_(b)?(this.removeItem(a),b=null):b.lastAccessed=(new Date).getTime());var c=b?b.value:null;return c?(this.stats_.hits++,this.log_("Cache HIT for key "+a)):(this.stats_.misses++,this.log_("Cache MISS for key "+a)),c},b._CacheItem=function(a,c,d){if(!a)throw new Error("key cannot be null or empty");this.key=a,this.value=c,d=d||{},d.expirationAbsolute&&(d.expirationAbsolute=d.expirationAbsolute.getTime()),d.priority||(d.priority=b.Priority.NORMAL),this.options=d,this.lastAccessed=(new Date).getTime()},b.prototype.setItem=function(a,c,d){if(null!=this.storage_.get(a)&&this.removeItem(a),this.addItem_(new b._CacheItem(a,c,d)),this.log_("Setting key "+a),this.maxSize_>0&&this.size()>this.maxSize_){var e=this;setTimeout(function(){e.purge_.call(e)},0)}},b.prototype.clear=function(){for(var a=this.storage_.keys(),b=0;b<a.length;b++)this.removeItem(a[b]);this.log_("Cache cleared")},b.prototype.getStats=function(){return this.stats_},b.prototype.toHtmlString=function(){for(var a=this.size()+" item(s) in cache<br /><ul>",b=this.storage_.keys(),c=0;c<b.length;c++){var d=this.storage_.get(b[c]);a=a+"<li>"+d.key.toString()+" = "+d.value.toString()+"</li>"}return a+="</ul>"},b.prototype.resize=function(a){this.log_("Resizing Cache from "+this.maxSize_+" to "+a);var b=this.maxSize_;this.maxSize_=a,a>0&&(b<0||a<b)&&this.size()>a&&this.purge_(),this.log_("Resizing done")},b.prototype.purge_=function(){var a=new Array,b=Math.round(this.maxSize_*this.fillFactor_);this.maxSize_<0&&(b=this.size()*this.fillFactor_);for(var c=this.storage_.keys(),d=0;d<c.length;d++){var e=c[d],f=this.storage_.get(e);this.isExpired_(f)?this.removeItem(e):a.push(f)}if(a.length>b)for(a=a.sort(function(a,b){return a.options.priority!=b.options.priority?b.options.priority-a.options.priority:b.lastAccessed-a.lastAccessed});a.length>b;){var g=a.pop();this.removeItem(g.key)}this.log_("Purged cached")},b.prototype.addItem_=function(a,b){try{this.storage_.set(a.key,a)}catch(c){if(b)throw this.log_("Failed setting again, giving up: "+c.toString()),c;this.log_("Error adding item, purging and trying again: "+c.toString()),this.purge_(),this.addItem_(a,!0)}},b.prototype.removeItem=function(a){var b=this.storage_.remove(a);return this.log_("removed key "+a),b&&b.options&&b.options.callback&&setTimeout(function(){b.options.callback.call(null,b.key,b.value)},0),b?b.value:null},b.prototype.removeWhere=function(a){for(var b=this.storage_.keys(),c=0;c<b.length;c++){var d=b[c],e=this.storage_.get(d);a(d,e.value)===!0&&this.removeItem(d)}},b.prototype.size=function(){return this.storage_.size()},b.prototype.isExpired_=function(a){var b=(new Date).getTime(),c=!1;if(a.options.expirationAbsolute&&a.options.expirationAbsolute<b&&(c=!0),!c&&a.options.expirationSliding){var d=a.lastAccessed+1e3*a.options.expirationSliding;d<b&&(c=!0)}return c},b.prototype.log_=function(a){this.debug_};var c=window;"undefined"!=typeof module&&module.exports?module.exports=b:"function"==typeof define&&define.amd?define("ncCache",function(){return b}):c.Cache=b,b.UserDataCacheStorage=function(a){var a=a,b=document.createElement("div");b.style.display="none",document.getElementsByTagName("head")[0].appendChild(b),b.addBehavior("#default#userdata"),this.get=function(c){b.load(a);var d=b.getAttribute(c);return d?$.parseJSON(d):null},this.set=function(c,d){b.load(a),b.setAttribute(c,$.stringify(d)),b.save(a)},this.size=function(a,c){return b.XMLDocument.documentElement.attributes.length},this.remove=function(c){b.load(a),b.removeAttribute(c),b.save(a)},this.keys=function(){b.load(a);for(var c,d=-1,e=[];c=b.XMLDocument.documentElement.attributes[++d];)e.push(c.name);return e}};var d=function(){};d.getCache=function(a,c){if("undefined"==typeof a||parseInt(a)<=0)throw new"Invalid app id: "+a;c=c||"localStorage";var d=window.navigator.userAgent.match(/MSIE 7/),e=null;if("localStorage"==c&&(d?e=new b.UserDataCacheStorage(String(a)):"undefined"!=typeof window.localStorage&&(e=new b.LocalStorageCacheStorage(String(a)))),null==e)throw"Unsupported storage type: "+c;return new b((-1),(!1),e)},function(a){function b(){}function c(a){g=[a]}function d(a,b,c){return a&&a.apply(b.context||b,c)}function e(a){return/\?/.test(a)?"&":"?"}function f(f){function n(a){X++||(Y(),S&&(A[U]={s:[a]}),O&&(a=O.apply(f,[a])),d(L,f,[a,v,f]),d(N,f,[f,v]))}function F(a){X++||(Y(),S&&a!=w&&(A[U]=a),d(M,f,[f,a]),d(N,f,[f,a]))}f=a.extend({},C,f);var G,H,I,J,K,L=f.success,M=f.error,N=f.complete,O=f.dataFilter,P=f.callbackParameter,Q=f.callback,R=f.cache,S=f.pageCache,T=f.charset,U=f.url,V=f.data,W=f.timeout,X=0,Y=b;return y&&y(function(a){a.done(L).fail(M),L=a.resolve,M=a.reject}).promise(f),f.abort=function(){!X++&&Y()},d(f.beforeSend,f,[f])===!1||X?f:(U=U||j,V=V?"string"==typeof V?V:a.param(V,f.traditional):j,U+=V?e(U)+V:j,P&&(U+=e(U)+encodeURIComponent(P)+"=?"),!R&&!S&&(U+=e(U)+"_"+(new Date).getTime()+"="),U=U.replace(/=\?(&|$)/,"="+Q+"$1"),S&&(G=A[U])?G.s?n(G.s[0]):F(G):(x[Q]=c,I=a(u)[0],I.id=m+B++,T&&(I[i]=T),D&&D.version()<11.6?(J=a(u)[0]).text="document.getElementById('"+I.id+"')."+p+"()":I[h]=h,E&&(I.htmlFor=I.id,I.event=o),I[q]=I[p]=I[r]=function(a){if(!I[s]||!/i/.test(I[s])){try{I[o]&&I[o]()}catch(b){}a=g,g=0,a?n(a[0]):F(k)}},I.src=U,Y=function(a){K&&clearTimeout(K),I[r]=I[q]=I[p]=null,z[t](I),J&&z[t](J)},z[l](I,H=z.firstChild),J&&z[l](J,H),K=W>0&&setTimeout(function(){F(w)},W)),f)}var g,h="async",i="charset",j="",k="error",l="insertBefore",m="_jqjsp",n="on",o=n+"click",p=n+k,q=n+"load",r=n+"readystatechange",s="readyState",t="removeChild",u="<script>",v="success",w="timeout",x=window,y=a.Deferred,z=a("head")[0]||document.documentElement,A={},B=0,C={callback:m,url:location.href},D=x.opera,E=!!a("<div>").html("<!--[if IE]><i><![endif]-->").find("i").length;f.setup=function(b){a.extend(C,b)},a.jsonp=f}(window.jQuery||window.Zepto);var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};!function(b){function c(a){return/^true$/gi.test(a)||!/^false$/gi.test(a)&&a}function f(){m=!0,b(document).on("click.suggestor",function(a){if(l){var c=Object.keys(g);c.forEach(function(a){var c=b("#"+a);c.parents(".suggest").find(".sugCont").removeClass("slideDown"),h=c.val(),h&&c.val(h.replace(/,\s*$/,"")),delete g[a]})}})}var g={},h=void 0,i={},j=void 0,k=[],l=!1,m=!1,n=function(a,b){for(var d in a){var e=!1,f=d.toLowerCase();b[f]?e=f:void 0!==b[d]&&null!==b[d]&&(e=d),e&&(a[d]=c(b[e]))}return a},o=d.getCache("sgtr"),p=function(){return"undefined"!=typeof Storage},q=function(a,b){var c=JSON.stringify(b);navigator.sendBeacon&&a?navigator.sendBeacon(a,c):p()&&o.setItem("sug_Tracking",b)},r=function(a,b,c,d,e,f){var g;return g="autoconcepts"==d?{type:"ac",acFor:c,sel:a,pos:b,cached:e}:"relatedConcept"==d?{type:"rc",rcFor:f,sel:a,pos:b,cached:e}:{sel:a,pos:b}},s=function(a,b,c,d,e,f,g){i[a]&&i[a].Events.push(r(b,c,d,e,f,g))},t=function(){b(".sugInp").each(function(a,c){var d,e=b(this),f=e.attr("trackParams"),g=e.val();f=f?b.parseJSON(f):null,f&&(g||i[f.id]&&i[f.id].Events.length?(i[f.id].Events.length||(k=[],s(f.id,g,0)),f.sourceId&&(i[f.id].sId=f.sourceId),f.appId&&(i[f.id].appId=f.appId),f.platform&&(i[f.id].platform=f.platform),f.formId&&(i[f.id].formId=f.formId),f.trackingSrc&&(i[f.id].trackingSrc=f.trackingSrc),d=e.attr("vertical"),d&&(i.vertical=d)):i[f.id]&&!i[f.id].Events.length&&delete i[f.id])}),b.isEmptyObject(i)||q(j,{lgData:i})};window.onunload=function(){t()},b.fn.suggestor=function(c){if(!(c.domain||c.url.autoComplete&&c.url.relatedConcept&&c.url.checkVersion&&c.url.prefetch))throw Error("One or more mandatory parameters are missing, please refer documentation. https://github.com/saeed3e/suggestjs/blob/gh-pages/README.md");var d={id:null,url:{autoComplete:c.domain+"/suggest/autosuggest?",relatedConcept:c.domain+"/suggest/autoconcepts?",checkVersion:c.domain+"/suggest/v?",prefetch:c.domain+"/suggest/prefetch?"},relatedConcept_dataLayer:!0,autoCorrect_dataLayer:!0,maxSuggestions:15,maxHeight:300,multiSearch:!1,startSearchAfter:1,suggestOnClick:!1,whiteListSpecialChar:[],relatedCorrectionText:"Did you mean ?",relatedConceptText:"Related Skills",glbArray:!1,placeholder:!1,trackUserInteraction:!1,grouping:!0,isPrefetch:!0,source:c.data?"local":"server",category:{},categoryOrder:[],qParams:{},searchLimit:{},relatedConceptCategory:null,getRelatedConcepts:null,onSelect:!1,scrollStyle:"",width:null,preventClose:!1,returnFocus:!0,form:!1,showDataOnFocus:!1,storageKey:{prefetchKey:"__suggest_prefetch",versionKey:"__suggest_versions"},userCookie:null,titleForSingleBucket:"Last Searched Keywords",appId:null,relatedConceptsLimit:1/0,defaultPrefetchLookup:!0,toolTip:!1};for(var h in c.category)"object"===e(c.category[h])?(d.category[h]=d.category[h]||c.category[h].title,d.searchLimit[h]=d.searchLimit[h]||c.category[h],d.categoryOrder.push(h)):d.category[h]=c.category[h]||d.categoryOrder;c.categoryOrder=c.category&&c.category.order||d.categoryOrder,c.category=d.category,c.searchLimit=d.searchLimit;var q=b.extend(!0,{},n(d,c));q.storageKey.userCookie=q.storageKey.userCookie||q.userCookie,q.preventClose||m||f();var r=function(a,c,d){if(a){var e=this,f=e.id;b.jsonp({url:a+"&callback=suggestCallback",cache:!0,callback:"suggestCallback",beforeSend:function(){d||b("#"+f+" .nLoder").show()},success:function(a){e.cached=!1,a.resultList?b.isEmptyObject(a.resultList)&&e.dropCont.hasClass("slideDown")?$.call(e):(e.dataType="autoconcepts",c(a),q.vertical=a.vertical,e.inpElm.attr("vertical",q.vertical)):a.resultConcepts?(b.isEmptyObject(a.resultConcepts)?$.call(e):(e.dataType="relatedConcept",q.getRelatedConcepts&&q.getRelatedConcepts(a,e.Qry),q.relatedConcept_dataLayer?c(a):$.call(e)),e.RCMaxCntr++):a.resultCorrections?(b.isEmptyObject(a.resultCorrections)?$.call(e):(e.dataType="relatedConcept",q.getAutoCorrect&&q.getAutoCorrect(a,e.Qry),q.autoCorrect_dataLayer&&c(a)),e.RCMaxCntr++):c(a)},complete:function(){e.node.find(".nLoder").hide()},error:function(a,b){e.node.find(".nLoder").hide(),$.call(e)}})}},u=function(){var b=this;b.rs_kWrds=[],b.rs_kWrdsStr="";var c=q.showDataOnFocus;c&&(b.rs_kWrds=c,b.rs_kWrds.length&&(b.rs_kWrdsStr=b.rs_kWrds.join(",").replace(/\s,|,\s/g,",")));var d=q.storageKey;b.isLoggedIn=!!d.userCookie&&a(d.userCookie);var e=q.vertical?"&vertical="+q.vertical:"",f=T();return b.isLoggedIn?{key:d.prefetchKey+"/uId/"+b.isLoggedIn,url:q.url.prefetch+"&"+Math.random(1,100)+"&keywords="+b.rs_kWrdsStr+"&uid="+b.isLoggedIn+e+f,keywords:b.rs_kWrdsStr}:b.rs_kWrdsStr?{key:d.prefetchKey,url:q.url.prefetch+"&"+Math.random(1,100)+"&keywords="+b.rs_kWrdsStr+e+f,keywords:b.rs_kWrdsStr}:{key:d.prefetchKey,url:q.url.prefetch+"&"+Math.random(1,100)+"&keywords="+e+f,keywords:b.rs_kWrdsStr}},v=function(a,c){if(q.vertical=c.vertical,q.vertical){var d=c.ac,e=c.rc,f=q.category,g=q.relatedConceptCategory;for(var h in d)for(var i in d[h])if(f[i]){var j=i+"_"+q.vertical;d[h][j]=d[h][i],delete d[h][i]}else delete d[h][i];for(var k in e)for(var l in e[k])if(g[l]){var j=l+"_"+q.vertical;e[k][j]=e[k][l],delete e[k][l]}else delete e[k][l];var m=b.extend(!0,{},a.ac,d),n=b.extend(!0,{},a.rc,e)}else var m=b.extend(!0,{},a.ac,c.ac),n=b.extend(!0,{},a.rc,c.rc);return{ac:m,rc:n,ttl:c.ttl,segments:c.segments,keyword_based_data:c.keyword_based_data}},w=function(){var a=this;q.url.checkVersion+=Math.random(0,100),a.prefetchObj=u.call(a),!window.isFistCall&&q.url.prefetch&&p()&&q.isPrefetch&&(r.call(a,q.url.checkVersion,function(b){B(q.storageKey.versionKey,b);var c,d=o.getItem(a.prefetchObj.key);if(d)(a.prefetchObj.keywords&&d.keyword_based_data===!1||+new Date(d.ttl)-+new Date<0)&&r.call(a,a.prefetchObj.url+"&segments="+d.segments,function(b){B(a.prefetchObj.key,v(d,b))});else{c=o.getItem(q.storageKey.prefetchKey);var e=c?c.segments:"";r.call(a,a.prefetchObj.url+"&segments="+e,function(b){B(a.prefetchObj.key,b)},!0)}},!0),window.isFistCall=!0)},x=function(a,b){var c=b,d=b;if(a.setSelectionRange)a.focus(),a.setSelectionRange(c,d);else if(a.createTextRange){var e=a.createTextRange();e.collapse(!0),e.moveEnd("character",d),e.moveStart("character",c),e.select()}},y=function(a){return a?a.replace(/(<([^>]+)>)/gi,"").replace(/&amp;/gi,"&"):""},z=function(a){return a=b.trim(a).toLowerCase(),a=b.trim(a.substring(a.lastIndexOf(",")+1,a.length))},A=function(a){var c=b.trim(a).replace(/,*$/g,"");return b.trim(c.substring(c.lastIndexOf(",")+1,c.length)).toLowerCase()},B=function(a,b){o.setItem(a,b)},C=function(a,b){if(this.prefetchObj){var c=o.getItem(this.prefetchObj.key);return!q.defaultPrefetchLookup||c&&c[b]&&c[b][a]||(c=o.getItem(q.storageKey.prefetchKey)),!!c&&c[b][a]}return!1},D=function(a){var b=this,c=(b.id,{}),d=a.toLowerCase(),e=new RegExp("^"+[d]+"|\\s"+[d]);for(var f in q.data[0]){var g=q.data[0][f].filter(function(a,b){return!!a.displayTextEn.toLowerCase().match(e)});c[f]=g}V.call(b,a,c)},E=function(){var a=this,b=a.inpElm.val();b&&a.inpElm.val(b.replace(/,\s*$/,""))},F=function(a){var c=this,d=c.inpElm.val(),e=d.substring(0,d.lastIndexOf(",")+1);return e=e?e+" ":"",a=b.trim(y(a).replace(/,*$/g,"")),q.multiSearch?e+a+", ":a},G=function(a,c){return b.inArray(a[0],c.find("li.sugTouple"))+1},H=function(a,b,c){var d=this,e=d.id,f=d.inpElm,g=a.html(),h=F.call(d,g);h=h&&h.replace(", ",""),d.enableRC_for_onfocus=!1;var i=1/0;q.hasOwnProperty("maxlength")&&(i=d.inpElm.attr("maxlength")?d.inpElm.attr("maxlength"):q.maxlength),h&&h.length<=i?(f.val(h),q.trackUserInteraction&&(k=[],s(e,z(h.replace(/[,\s]*$/,"")),d.posIndex,z(d.queryChar),d.dataType,d.cached,d.Qry)),q.returnFocus&&x(f[0],f.val().length),b&&d.get_RCdata(f.val()),q.onSelect&&q.onSelect(e,y(g),f,d,c)):q.onSelect&&q.onSelect(e,"Warning: maximum length reached",f,d,c),$.call(d)},I=function(a){var b=this,c=b.dropCont.find(a);return c=c.hasClass("category")?c.next():c},J=function(a){a&&a.find(".sAct").removeClass("sAct")},K=function(a,b){var c=this,d=a;return a="prev"==b?a.prev().hasClass("category")?a.prev().prev().length?a.prev().prev():I.call(c," li:last-child"):a.prev().length?a.prev():I.call(c," li:last-child"):a.next().length?a.next().hasClass("category")?a.next().next():a.next():I.call(c," li:first-child"),c.curElm.find(".Sarw").hasClass("sAct")?a.find(".Sarw").addClass("sAct"):a.find(".Sbtn").addClass("sAct"),J(d),q.multiSearch||c.inpElm.val(y(a.find(".Sbtn").html())),a},L=function(a,c){var d=this;return c=b("#"+a),c=c.hasClass("category")?c.next():c,c.find(".Sbtn").addClass("sAct"),q.multiSearch||d.inpElm.val(y(c.find(".Sbtn").html())),c},M=function(a,b){var c,d="";"object"==("undefined"==typeof a?"undefined":e(a))?(c=a.displayTextEn,d=a.id):c=a;var f="",g="",h="",i="";c=c.replace(/&amp;/gi,"&"),b.split(",")[1]&&q.multiSearch&&(b=Y(b)),b=b.replace(/[\s]+/g," ").replace(/^\s/,"").toLowerCase();var j=c,k=j.toLowerCase(),l=k.indexOf(b),m=k,n=b,o=!(m.indexOf(" "+n)<0)&&m.indexOf(" "+n),p=!(m.indexOf("("+n)<0)&&m.indexOf("("+n),r=!(m.indexOf("/"+n)<0)&&m.indexOf("/"+n);(l>=0&&(o||p||r)||0===l)&&(l&&(o?l=o+1:p?l=p+1:r&&(l=r+1)),g=j.substr(0,l),h=j.substr(l,b.length),i="<strong>"+j.substr(l+b.length,j.length)+"</strong>"),h=h?h:c;var s;s=b?g+h+i:h;var t=q.toolTip?g+h+new3:"",u=q.suggestOnClick?'<div class="wrapTable"><div tabindex="-1" class="Sbtn" title="'+t+'">'+g+h+i+'</div></div><span class="Sarw"></span>':'<div tabindex="-1" class="Sbtn" title="'+t+'" style="width:100%">'+s+"</div>";return f='<li class="sugTouple" data-id="'+d+'">'+u+"</li>"},N=function(a,b){var c={},d=0,e="";for(var f in b)q.vertical&&(e=f+"_"+q.vertical),(a[e]||a[f])&&(c[f]=a[e]||a[f],d++);return[c,d]},O=function(a,c,d){var e,f,g=this,h="";e="resultConcepts"==d?q.relatedConceptCategory:q.category,f=!d&&q.showTitleForSingleBucket?N(c,{rs:"rs"}):N(c,e);var i=f[1];c=f[0];var j="",k="";if(a=a.replace(/&amp;/gi,"&"),b.isEmptyObject(q.searchLimit))for(var l in c){var m=0;for(var n in c[l])if(d||m++<q.maxSuggestions){if(k=g.inpElm.val().replace(/\s,/g,",").replace(/,\s/g,",").toLowerCase(),k.indexOf(",")!=-1&&b.inArray(c[l][n].displayTextEn.toLowerCase(),k.split(","))!=-1)continue;j+=M.call(g,c[l][n],a)}j&&i>1?h+=q.grouping?'<li class="category '+l+'">'+(q.category[l]?q.category[l]:l)+"</li>"+j:j:!d&&q.showTitleForSingleBucket?h+='<li class="category '+l+'">Last Searched Keywords</li>'+j:h=j}else for(var o=0;o<q.categoryOrder.length;o++)if(c.hasOwnProperty(q.categoryOrder[o])){for(var p=c[q.categoryOrder[o]].length>parseInt(q.searchLimit[q.categoryOrder[o]].limit)?parseInt(q.searchLimit[q.categoryOrder[o]].limit):c[q.categoryOrder[o]].length,r=0;r<p;r++)k=g.inpElm.val().replace(/\s,/g,",").replace(/,\s/g,",").toLowerCase(),k.indexOf(",")!=-1&&b.inArray(c[q.categoryOrder[o]][r].displayTextEn.toLowerCase(),k.split(","))!=-1||(j+=M.call(g,c[q.categoryOrder[o]][r],a));h=j?q.grouping?'<li class="category '+q.categoryOrder[o]+'">'+(q.searchLimit[q.categoryOrder[o]].title?q.searchLimit[q.categoryOrder[o]].title:q.categoryOrder[o])+"</li>"+j:j:!d&&q.showTitleForSingleBucket?'<li class="category '+q.categoryOrder[o]+'">Last Searched Keywords</li>'+j:j}return b.isEmptyObject(c)||("resultCorrections"==d?h='<li class="category">'+q.relatedCorrectionText+"</li>"+h:"resultConcepts"==d&&(h='<li class="category">'+q.relatedConceptText+"</li>"+h)),h},P=function(){var a=this,b=a.inpElm;q.placeholderTxt=b?b[0].getAttribute("placeholder"):"",b.val(q.placeholderTxt)},Q=function(){var a=this;a.inpElm.val("").css({color:"#444"})},R=function(a){var b=this;V.call(b,b.queryChar,a.resultList,"autoComplete")},S=function(a,b){var c,d="",b=b||0;c=a?q.relatedConceptCategory:q.category;for(var e in c)!a&&q.searchLimit[e]&&q.searchLimit[e].startSearchAfter?b>=q.searchLimit[e].startSearchAfter&&(d+=e+","):d+=e+",";return d.replace(/,$/g,"")},T=function(){return b.isEmptyObject(q.qParams)?"":"&"+b.param(q.qParams)},U=function(a,b,c){var d=this,e="",f=q.appId?"&appId="+q.appId:"",g=q.sourceId?"&sourceId="+q.sourceId:"",h=new RegExp("[^a-zA-Z0-9,\\s"+q.whiteListSpecialChar+"]","g");if(d.Qry=b.replace(h,""),d.Qry){if(p()&&d.prefetchObj)var i=o.getItem(q.storageKey.versionKey),e=i?"&version="+i.suggester_v:"";return a+"query="+encodeURIComponent(d.Qry)+f+"&vertical="+q.vertical+"&category="+S.call(d,c,d.Qry.length)+"&limit="+q.maxSuggestions+g+e+T()}return!1},V=function(a,b,c){var d=this;d.curElm=void 0;var e=O.call(d,Y(a),b,c);e?(d.dropCont.find("ul").html(e),_.call(d)):$.call(d)},W=function(a){var b=this;if(q.multiSearch&&(a=Y(a)),a){var c=U.call(b,q.url.autoComplete,a,!1);r.call(b,c,function(a){R.call(b,a)})}},X=function(a,b,c){var d,e=0;if(a&&p()&&(d=C.call(this,a,b))){for(var f in c)d[f]&&(e=1,this.cached=!0)}return[e,d]},Y=function(a){var c=b.trim(a).replace(/,*$/g,"").toLowerCase();return b.trim(c.substring(c.lastIndexOf(",")+1,c.length))},Z=function(){var a=this;return function(c){var d,e,f,g=b(this),h=g.data("id");b(c.target).hasClass("Sarw")?(d=b(c.target).parents("li"),f=!0):(b(c.target).hasClass("Sbtn")||b(c.target).is("strong"))&&(d=b(c.target).closest("li"),f=!q.suggestOnClick),e=d.find(".Sbtn"),(!q.relatedConceptCategory||a.RCMaxCntr>=q.relatedConceptsLimit-1)&&(f=!1,$.call(a)),a.posIndex=G(d,a.dropCont),q.suggestOnClick&&$.call(a),setTimeout(function(){H.call(a,e,f,h)},50)}},$=function(){var a=this,c=a.id;J(a.curElm),a.dropCont.removeClass("slideDown"),a.curElm="",b("#"+c).find(".sWrap").removeClass("sOpen").addClass("sHide"),delete g[c],q.onHide&&q.onHide(),setTimeout(function(){a.enableRC_for_onfocus=!0},500)},_=function(){var a=this,c=a.id;q.width?a.wth=q.width:a.wth=b(document.getElementById(c)).outerWidth()+"px",a.dropCont.css({width:a.wth}).addClass("slideDown"),b("#"+c).find(".sWrap").removeClass("sHide").addClass("sOpen"),g[c]=a.dropCont,q.onShow&&q.onShow()},aa=function(){var a=this;a.dropCont.on("mouseover",".Sbtn,.Sarw,strong",function(c){b(this).hasClass("Sbtn")?b(this).addClass("sAct"):b(this).is("strong")?b(this).parent().addClass("sAct"):b(this).addClass("sAct"),J(a.curElm),a.curElm=b(this)}).mouseout(function(c){a.curElm=void 0,J(b(this))})},ba=function(a){var c=a.target||a.srcElement;b(c).hasClass("inpWrap")&&b(this).find(".sugInp").focus()},ca=function(){var a={},b=[];for(var c in this.rs_kWrds)b.push({displayTextEn:this.rs_kWrds[c]});return a.rs=b,a},da=function(a){var c=this,d=b.trim(c.inpElm.val());c.curOpenSugg=c.id,q.showDataOnFocus&&(b.trim(c.inpElm.val())||(q.category=b.extend({},q.category,{rs:"rs"}),c.rs_kWrdsStr?V.call(c,"",ca.call(c)):(u.call(c),c.rs_kWrdsStr&&V.call(c,"",ca.call(c))))),q.multiSearch&&d&&d!=q.placeholderTxt?(c.inpElm.val(d.replace(/[,\s]*$/,", ")),q.relatedConceptCategory&&c.enableRC_for_onfocus&&c.RCMaxCntr<q.relatedConceptsLimit-1&&c.get_RCdata(A(d))):!b.support.placeholder&&q.placeholder&&q.placeholderTxt==d&&Q.call(c)},ea=function(){var a=this.val();return a.charCodeAt(a.length-1)},fa=function(a,c){var d=this,e=(a.attr("id"),c.keyCode||c.which);0!=e&&229!=e||(e=ea.call(a));var f=d.inpElm,g=d.id,h=b.trim(f.val());if(d.queryChar=h,13==e&&"block"==d.dropCont.css("display"))if(d.curElm){d.posIndex=G(d.curElm,d.dropCont);var i;!q.relatedConceptCategory||d.RCMaxCntr>=q.relatedConceptsLimit-1?(i=!1,d.RCMaxCntr++):i=!q.suggestOnClick||!d.curElm.find(".Sbtn").hasClass("sAct"),H.call(d,d.curElm.find(".Sbtn"),i,d.curElm.data("id")),i||$.call(d)}else $.call(d);else if(27==e)$.call(d);else if(h||8!=e&&46!=e)if(e>=48&&e<90||e>=97&&e<=122||16==e||188==e||8==e){if(c.ctrlKey&&86===e&&(h=h.replace(/,$/,""),f.val(h)),h)if("server"==q.source)if(188==e&&h.lastIndexOf(",")!=-1&&q.multiSearch)q.relatedConceptCategory?d.get_RCdata(A(h)):$.call(d);else{var j=q.multiSearch?z(h):h;if(j.length>q.startSearchAfter-1){var k=X.call(d,j,"ac",q.category);k[0]?q.bypassPrefetchAfter&&q.bypassPrefetchAfter<=parseInt(j.length)?W.call(d,h):(d.dataType="autoconcepts",V.call(d,h,k[1],"autoComplete")):W.call(d,h)}}else"local"==q.source&&D.call(d,h);b("#"+g).find(".sCross").show().click(function(){d.inpElm.val("").focus(),b(this).hide(),$.call(d),d.dropCont.find("ul").html("")})}else c.ctrlKey&&39==e||c.ctrlKey&&40==e?(d.curElm.find(".Sbtn").removeClass("sAct"),d.curElm.children(".Sarw").addClass("sAct")):c.ctrlKey&&37==e||c.ctrlKey&&38==e?(d.curElm.children(".Sarw").removeClass("sAct"),d.curElm.find(".Sbtn").addClass("sAct")):d.dropCont.find("li").length&&("none"==d.dropCont.css("display")&&40==e?_.call(d):38==e?(d.curElm?d.curElm=K.call(d,d.curElm,"prev"):d.curElm=L.call(d,g+" li:last-child",d.curElm),_.call(d)):40==e&&(d.curElm?d.curElm=K.call(d,d.curElm,"next"):d.curElm=L.call(d,g+" li:first-child",d.curElm)));else b("#"+g+" .sCross").hide(),$.call(d)},ga=function(a){var b=this,c=a.which||a.keyCode;if(38==c)a.preventDefault();else if(13==c)"block"==b.dropCont.css("display")&&b.curElm&&a.preventDefault();else if(9==c){if(b.curElm){var d=b.curElm.html().replace(/(<([^>]+)>)/gi,"").replace(/&amp;/gi,"&");b.inpElm.val(F.call(b,d))}E.call(b),$.call(b)}},ha=function(a){var c,d=this;if(j=q.url.trackingURL,d.id=q.id||a.attr("id"),d.enableRC_for_onfocus=!0,d.RCMaxCntr=0,d.inpElm=a.find(".sugInp"),q.placeholderTxt=d.inpElm.attr("placeholder"),i[d.id]={},i[d.id].Events=[],q.trackUserInteraction&&(c={trackParams:JSON.stringify({id:d.id?d.id:"",sourceId:q.sourceId?q.sourceId:"",platform:q.platform?q.platform:"",appId:q.appId?q.appId:"",trackingSrc:q.trackingSrc?q.trackingSrc:""})}),d.inpElm.attr(b.extend({autocomplete:"off"},c)),q.maxlength=d.inpElm.attr("maxlength")||1e4,d.dropCont=b('<div class="sugCont '+q.scrollStyle+'" id="sugDrp_'+d.id+'">').append('<ul class="Sdrop"></ul>'),a.append(d.dropCont),!q.placeholder||b.support.placeholder||b.trim(d.inpElm.val())||P.call(this),d.inpElm.focus(function(){da.call(d)}).keyup(function(a){fa.call(d,b(this),a)}).keydown(function(a){d.curOpenSugg||(d.curOpenSugg=d.id),ga.call(d,a)}),a.on("mouseenter",function(){l=!1}).on("mouseleave",function(){l=!0}),a.find(".sWrap").click(ba),aa.call(d),d.dropCont.on("click",".sugTouple",Z.call(d)),w.call(d),q.trackUserInteraction&&p()&&j){var e=o.getItem("sug_Tracking");e&&r.call(d,j+"?lgData="+JSON.stringify(e),function(){o.removeItem("sug_Tracking")})}},ia=function(a){this.node=a,ha.call(this,a),this.setTrackingObject=s};ia.prototype=function(){var a=function(a){return this.inpElm.val()},b=function(a){var b=this,c=Y(a),d=X.call(b,c,"rc",q.relatedConceptCategory);if(d[0])$.call(b),b.dataType="relatedConcept",V.call(b,c,d[1],"resultConcepts"),b.RCMaxCntr++;else{var e=U.call(b,q.url.relatedConcept,c,!0);r.call(b,e,function(a){$.call(b);for(var d in a);V.call(b,c,a[d],d)})}};return{getValue:a,get_RCdata:b,sendTrackingData:t}}();var ja=this.data("suggestor");return ja||this.each(function(a,c){var d=b(c);ja=new ia(d),d.data("suggestor",ja)}),ja}}(window.jQuery||window.Zepto)});