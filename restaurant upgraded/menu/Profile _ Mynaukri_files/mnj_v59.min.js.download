define(function(){"use strict";function a(a){if(a){var b=a.replace(/-/g,"/").match(/\d{4}\/\d{2}\/\d{2}/);if(b){var c=new Date(b[0]);return Vb[c.getMonth()]+" "+("0"+c.getDate()).slice(-2)+", "+c.getFullYear()}}}function b(a){if(a){var b=Lb(a);Ub()||window.dataLayer&&dataLayer.push({event:"spa-pageview","spa-page-name":b.pageName,"spa-page-title":document.title,"spa-page-referrer":b.previous});var c=gc[b.pageName];if(!c)var c=b.pageName+"View";var d=b.pageName+"View";ub.track(d,{actionType:"View",label:b.pageName,pageName:c})}}function c(a,b,c,d,e,f,g){if("saveError"==d||"deleteError"==d||"cancelError"==d||"editError"==d)var h="Error";else if("Click"==d)var h="Click";else var h=d;if("Save"==d)var i={actionType:h,status:d,layerName:c,errMsg:e};else var i={actionType:h,status:d,layerName:c,errMsg:e};var j=Qb({},i,{sectionName:f,cardClick:f,cardName:f},g),i={actionType:h,status:d,layerName:c,errMsg:e};if(b)var k=b[0].toLowerCase()+b.substring(1)+"click";else var k="click";ub.track(k,j)}function d(a,b,d,e){var f=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",g=arguments[5],h=arguments[6];a=a||"spa-event",Ub()||window.dataLayer&&dataLayer.push({event:a,"spa-event-category":b,"spa-event-label":d,"spa-event-action":e}),c(a,b,d,e,f,g,h)}function e(a){a&&window.interfaces.newMonk&&window.interfaces.newMonk.postData&&window.interfaces.newMonk.postData({data:{r:encodeURIComponent(document.location.host+a.previous),u:encodeURIComponent(document.location.host+a.current),tag:a.routeName}})}function f(a){e(a),setTimeout(function(){b(a)},0)}function g(a){for(var b in a)if(a.hasOwnProperty(b))return!1;return!0}function h(a,b,c){return"EXPERIENCE_YEAR"===b||"EXPERIENCE_YEAR_ITSKILL"===b?1==a||0==a?" Year":" Years":"EXPERIENCE_MONTH"===b?1==a||0==a?" Month":" Months":"SALARY_LACS"===b?1==a||0==a?" Lac":" Lacs":"SALARY_THOUSANDS"===b?" Thousand":c}function i(a,b,c,d){d=d?" "+d.trim():"";try{if(a.constructor!==Object||!b)throw"wrong data format";for(var e in a){if(null===a[e])return{data:null,timestamp:b};var f=e,i=a[f],j={};for(var k in i){var l=l||{},m=k.replace("a","#");g(l)&&(j[m]={});var n,o=i[k],p={},q="";for(var r in o){if("object"!==Mb(o[r])){i[k].labelType&&"s"===i[k].labelType.toLowerCase()?(l[i[k].label]={},n=i[k].label):n?"EXPERIENCE_YEAR"===c.toUpperCase()&&isNaN(parseInt(i[k].label))?l[n]["#"+i[k].value]=i[k].label:l[n]["#"+i[k].value]=i[k].label+h(o.label,c.toUpperCase(),d):"EXPERIENCE_YEAR"===c.toUpperCase()&&isNaN(parseInt(i[k].label))?j[m]=o.label:j[m]=o.label+h(o.label,c.toUpperCase(),d);break}"s"===o[r].labelType.toLowerCase()?(p[o[r].label]={},q=o[r].label):q?p[q]["#"+o[r].value]=o[r].label:p["#"+o[r].value]=o[r].label}g(p)?j=g(l)?j:l:j[m]=p}var s={},t=f.replace(/\-/,"&").split("&");try{if(!t[1]){var u="";throw"version is missing"}u=t[1].split("-")[1]}catch(v){return v}return s={data:j,version:u,timestamp:b}}}catch(v){return v}}function j(a,b,c){c&&(b.timestamp=c);var d=wc.setItem(a.toUpperCase(),b);return d}function k(a,b){var c=void 0,d=1,e=""+vb+a+"/list?appid="+d+"&languageId=1&prefix=a&formatType=nested&srcAppId=105",f=$.ajax({url:e,xhrFields:{withCredentials:!1},method:"GET"});return f.then(function(d){var e=m(),f=i(d,e,a,b);return c=j(a,f,e)},function(a,b,c){})}function l(a){var b=xc.getItem(a.toUpperCase());return b}function m(){var a=new Date,b=a.setHours(24,0,0,0);return b}function n(a){return l(a).then(function(b){var c="",d="",e="";if(b&&(c=b.data,d=b.timestamp,e=b.version||""),c&&(new Date).getTime()<d)return c;var f=k(a,e);return f.then(function(){return l(a).then(function(a){return a.data})})})}function o(a,b,c,d){return!(a&&a[b.toUpperCase()]===c||!a&&d)}function p(a,b){ge[a]=b}function q(a,b){b||(b=window.location.href),a=a.replace(/[\[\]]/g,"\\$&");var c=new RegExp("[?&]"+a+"(=([^&#]*)|&|#|$)"),d=c.exec(b);return d?d[2]?decodeURIComponent(d[2].replace(/\+/g," ")):"":null}function r(a){var b=[];if(a){var c=a.id,d=a.value?a.value.split(","):"";c&&c.forEach(function(a,c){var e={};e.id=a,e.value=d[c],b.push(e)})}return b}function s(b){try{var c=function(a){if(a){var b=a.replace(/-/g,"/").match(/\d{4}\/\d{2}\/\d{2}/),c=new Date(b[0]);return{year:c.getFullYear(),month:c.getMonth()+1,date:c.getDate()}}return{year:"",month:"",date:""}},d=function(a,b){var c=[],d="";a&&a.length>0&&(a.forEach(function(b,e){c.push(b.id+""),d+=e==a.length-1?b.value:b.value+", "}),e.otherDetails[b]={id:c,value:d})},e=void 0,f="city",g="mobile";return b.profile=b.profile?b.profile[0]:{},b.noticePeriod=b.noticePeriod?b.noticePeriod[0]:{},e={basicDetails:{fullName:b.profile&&b.profile.name||"",country:b.profile&&b.profile.country||{},city:b.profile&&b.profile[f]||{},expYears_keys:b.profile&&b.profile.experience&&"fresher"==b.profile.experience.year?"":b.profile&&b.profile.experience&&b.profile.experience.year||"",expMonths_keys:b.profile&&b.profile.experience&&b.profile.experience.month||"",currency:b.profile&&b.profile.currency||"INR",ctcLacs_value:b.profile&&b.profile.ctc&&b.profile.ctc.lacs&&b.profile.ctc.lacs.value||"",ctcLacs_keys:function(){return b.profile&&b.profile.ctc&&b.profile.ctc.lacs&&(0===b.profile.ctc.lacs.id?0:b.profile.ctc.lacs.id||"")}(),ctcThousands_value:b.profile&&b.profile.ctc&&b.profile.ctc.thousands&&b.profile.ctc.thousands.value||"",ctcThousands_keys:function(){return b.profile&&b.profile.ctc&&b.profile.ctc.thousands&&(0===b.profile.ctc.thousands.id?0:b.profile.ctc.thousands.id||"")}(),mobCCode:"",mobNum:b.user&&b.user[g]||"",telCCode:b.user&&b.user.residencePhone&&b.user.residencePhone.countryCode||"",telACode:b.user&&b.user.residencePhone&&b.user.residencePhone.areaCode||"",telNum:b.user&&b.user.residencePhone&&b.user.residencePhone.phoneNumber||"",isNationalLocation:!(!b.profile||!b.profile.country||11!=b.profile.country.id),workStatus:b.profile&&b.profile.experience&&(99==b.profile.experience.year||0==b.profile.experience.year&&0==b.profile.experience.month||"fresher"==b.profile.experience.year?"fresher":"experienced"),emailId:b.user&&b.user.email||"",isEmailVerified:b.user&&b.user.isEmailVerified,alternateEmail:b.user&&b.user.alternateEmail||"",isMobileNumberVerified:b.user&&b.user.isMobileVerified},empDetails:{},eduDetails:{},certifications:{},projectTagDD:{},accomplishments:{},keySkills:b.profile.keySkills,projectDetails:{},languages:{},photoUpload:{photoInfo:b.profile.photoInfo},resume:function(){var c=b.profile.cvInfo;return Qb({},c,{uploadDate:a(c.uploadDate),textUploadDate:a(c.textUploadDate),uploadButtonTitle:c.isAvailable?"Update Resume":"Upload Resume"})}(),resumeHeadline:b.profile.resumeHeadline,profileSummary:b.profile.summary,self:{name:b.profile&&b.profile.name||"",cityName:b.profile&&b.profile.city&&"9999"==b.profile.city.id&&b.profile.city.subValue||b.profile&&b.profile.city&&b.profile.city.id&&b.profile.city.value||"",countryName:b.profile&&b.profile.country&&b.profile.country.value||"",cvInfo:b.profile&&b.profile.cvInfo||{},isEmailVerified:!(!b.user||!b.user.isEmailVerified),isMobileNumberVerified:!(!b.user||!b.user.isMobileVerified),empList:b.employments||[],projectList:b.projects||[],itSkills:b.itskills||[],eduList:b.educations||[],schoolList:b.schools||[],certiList:b.certifications||[],langList:b.languages||[],noticePeriod:{id:b.profile&&b.profile.noticePeriod&&b.profile.noticePeriod.id||"",value:b.profile&&b.profile.noticePeriod&&b.profile.noticePeriod.value||""},isZUser:!(!b.profile||!b.profile.profileFlag||"z"!=b.profile.profileFlag),pfAreaId:b.profile&&b.profile.predictiveFuncAreaId||""},itSkills:{},otherDetails:{dobYear:"",dobMonth:"",dobDate:"",gender:b.profile.gender,mailCity:b.profile.mailCity,pincode:b.profile.pincode,maritalStatus:b.profile.maritalStatus,contactAddress:b.profile.contactAddress,category:b.profile.category,disability:Qb({},b.profile.disability,b.disability[0]),workPermitUS:b.profile.workStatus,workPermitForCountry:{id:"",value:""},role:b.profile.role||{id:"",value:""},functionalArea:b.profile.functionalArea||{id:"",value:""},industry:b.profile.industry||{id:"",value:""},desiredJobType:b.profile.desiredJobType||[],preferredIndustry:{id:"",value:""},desiredEmploymentType:b.profile.desiredEmploymentType||[],shiftPrefTime:b.profile.shiftPrefTime||{id:"",value:""},preferredLocation:{id:"",value:""},predictiveFuncAreaId:b.profile.predictiveFuncAreaId,expectedCtcLac:b.profile.expectedCtc&&b.profile.expectedCtc.lacs||{id:"",value:""},expectedCtcThou:b.profile.expectedCtc&&b.profile.expectedCtc.thousands||{id:"",value:""},expectedCtcCurrency:b.profile.expectedCtcCurrency||"INR",isImmediateAvail:b.profile.joinDate&&"immediately"==b.profile.joinDate.toLowerCase()?"immediately":"",joinDateYear:{id:"",value:""},joinDateMonth:{id:"",value:""},userIdentification:b&&b.userIdentification&&b.userIdentification[0]||{},lastModAgo:b&&b.profile&&b.profile.lastModAgo||""}},function(){var a=b.employments,c=b.educations,d=b.schools;a.forEach(function(a){var b=a.designation,c=a.organization,d="#"+ie.EMPLOYMENT+"_"+a.employmentId;e.projectTagDD[d]=b&&c?b+" - "+c:b||c}),c.forEach(function(a){var b="#"+ie.EDUCATION+"_"+a.educationId;e.projectTagDD[b]=a.educationType.value+" - "+a.specialisation.value}),d.forEach(function(a){var b="#"+ie.SCHOOL+"_"+a.schoolId;e.projectTagDD[b]=a.educationType.value})}(e),function(){var a,d=b.profile.joinDate;d&&"immediately"!=d.toLowerCase()&&(a=c(d),e.otherDetails.joinDateYear={id:a.year,value:a.year},e.otherDetails.joinDateMonth={id:a.month,value:a.month})}(e),function(){var a,d=b.profile.birthDate;d&&(a=c(d),e.otherDetails.dobYear=a.year,e.otherDetails.dobMonth=a.month,e.otherDetails.dobDate=a.date)}(e),b.profile&&(d(b.profile.locationPrefId,"preferredLocation"),d(b.profile.desiredIndustryTypeId,"preferredIndustry"),d(b.profile.workPermitForCountry,"workPermitForCountry")),function(){e.projectDetails.prefillId=-1;for(var a,d,f,g,h=b.projects,i=h?h.length:0,j=0;j<i;j++)d={},f=c(h[j].startDate),g=c(h[j].endDate),a=h[j].projectId,d.clientName=h[j].clientName,d.projStartYear=f.year,d.projStartMonth=f.month,d.projEndYear=g.year,d.projEndMonth=g.month,d.employmentType=h[j].employmentType,d.isOnSiteProject=h[j].isOnSiteProject,d.projectDetails=h[j].projectDetails,d.projectLocation=h[j].projectLocation,d.projectTitle=h[j].projectTitle,d.designation=h[j].designation,d.role=h[j].role,d.skillsUsed=h[j].skills,d.teamSize=h[j].teamSize,d.eduExpId=h[j].eduExpId,d.eduExpFlag=h[j].eduExpFlag,e.projectDetails[a]=d}(e),function(){e.empDetails.prefillId=-1;var a=b.employments;if(a)for(var d,f,g=a.length,h=0;h<g;h++){if(f={},f.keySkills=a[h].keySkills||"",d=a[h].employmentId,f.designation=a[h].designation,f.cname=a[h].organization,f.startedYear=a[h].startDate&&new Date(a[h].startDate).getFullYear(),f.startedMonth=a[h].startDate&&new Date(a[h].startDate).getMonth()+1,f.workedTillYear=a[h].endDate&&new Date(a[h].endDate).getFullYear(),f.workedTillMonth=a[h].endDate&&new Date(a[h].endDate).getMonth()+1,f.jobDescription=a[h].jobDescription,f.isCurrent="current"==a[h].employmentType?"yes":"no","yes"==f.isCurrent&&(e.empDetails.prefillId=d,f.np_keys=b.profile&&b.profile.noticePeriod&&b.profile.noticePeriod.id||"","6"==f.np_keys&&(f.nextDesignation=b.noticePeriod&&b.noticePeriod.offeredDesig||"",f.nextCompany=b.noticePeriod&&b.noticePeriod.nextEmployer||"",f.currency=b.noticePeriod&&b.noticePeriod.salary&&b.noticePeriod.salary.currency||"INR",f.ctcLacs_keys=b.noticePeriod&&b.noticePeriod.salary&&b.noticePeriod.salary.lakhs||"",f.ctcThousands_keys=b.noticePeriod&&b.noticePeriod.salary&&b.noticePeriod.salary.thousands||"",b.noticePeriod&&b.noticePeriod.notice_endDate))){var i=c(b.noticePeriod.notice_endDate);f.lwdYear=i.year,f.lwdMonth=i.month,f.lwdDay=i.date}e.empDetails[d]=f}}(e),function(){e.eduDetails.prefillId=-1;var a=b.schools;if(a)for(var c,d,f=a.length,g=0;g<f;g++)d={},c=a[g].schoolId,d.educationType=a[g].educationType,d.schoolBoardIdField=a[g].schoolBoard,d.schoolCompletionYearField={id:a[g].schoolCompletionYear,value:a[g].schoolCompletionYear},d.schoolMediumIdField=a[g].schoolMedium,d.schoolPercentageIdField=a[g].schoolPercentage,d.schoolEnglishMarks=a[g].schoolEnglishMarks,d.schoolMathematicsMarks=a[g].schoolMathematicsMarks,d.projects=a[g].projects||[],e.eduDetails[c]=d}(e),function(){var a=b.educations;if(a)for(var c,d,f=a.length,g=0;g<f;g++)d={},c=a[g].educationId,d.educationType=a[g].educationType,d.courseType={id:"",value:a[g].courseType||""},d.course=a[g].course||{id:"",value:"",subValue:""},d.institute=a[g].institute||"",d.specialization=a[g].specialisation||{id:"",value:"",subValue:""},d.yearOfCompletion={id:a[g].yearOfCompletion!=-1&&a[g].yearOfCompletion||"",value:a[g].yearOfCompletion!=-1&&a[g].yearOfCompletion||""},d.grade=a[g].grade||{id:"",value:"",subValue:""},d.marks=a[g].marks||"",d.projects=a[g].projects||[],e.eduDetails[c]=d}(e),function(){e.itSkills.prefillId=-1;var a=b.itskills;if(a)for(var c,d,f=a.length,g=0;g<f;g++)d={},c=a[g].skillId,d.skill=a[g].skill,d.version=a[g].version,d.lastUsed={id:a[g].lastUsed&&a[g].lastUsed.id&&parseInt(a[g].lastUsed.id)||"",value:a[g].lastUsed&&a[g].lastUsed.id&&parseInt(a[g].lastUsed.id)||""},d.experienceTime={year:(a[g].experienceTime&&a[g].experienceTime.year)>-1?a[g].experienceTime.year:"",month:(a[g].experienceTime&&a[g].experienceTime.month)>-1?a[g].experienceTime.month:""},e.itSkills[c]=d}(e),function(){e.languages.prefillId=-1;var a=b.languages;if(!a)return[];for(var c,d,f=a.length,g=0;g<f;g++)d={},c=a[g].languageId,d.ability=a[g].ability,d.language=a[g].lang,d.proficiency=a[g].proficiency,e.languages[c]=d}(e),function(){e.certifications.prefillId=-1;var a=b.certifications;if(a)for(var c,d,f=a.length,g=0;g<f;g++)d={},c=a[g].certificationId,d.certificateName=a[g].course,d.certifiedFrom=a[g].certificationBody,d.yearOfCompletion=a[g].certificationCompletionYear,e.certifications[c]=d}(e),function(){["workSample","publication","certifications","patent","onlineProfile","presentation"].forEach(function(a){if(b[a]&&b[a].length){var c={},d="certifications"===a?"certificationId":"id";b[a].forEach(function(a){a[d]&&(c[a[d]]=a)}),e.accomplishments[a]=c}})}(e),e}catch(h){}}function t(a){var b=document.cookie.indexOf(a+"="),c=b+a.length+1;if(!b&&a!=document.cookie.substring(0,a.length))return"";if(b==-1)return"";var d=document.cookie.indexOf(";",c);return d==-1&&(d=document.cookie.length),decodeURI(document.cookie.substring(c,d))}function u(){var a="guaranteed|100% garunteed|100 garunteed|video sax|mom tube|tube mom|six wap|sixwap|bp hindi|japanese tube|ponhub|100% guaranteed|100 guaranteed|100% Job Assistance|100 Job Assistance|Account no|Account number|Amount|Application fee|Arsehole|Ass|Ass fuck|Ass hole|Asshole|Attractive discounts|Auctus|Bastard|Bescumber|Bimbo|Bitch|Bomb blast|Boobs|Breast|Blow|Bullshit|Butt|By Industry Professionals|Certification Program|Certification Programme|Charges|Coccydynia|Cock|Cocksucker|Complimentary cover letter|Congratulations|Costs|Courses we offer|Criminal|Cunt|Dag|Degree Program|Degree Programme|Deposit cash|Deposit the cash|Detailed resume critique|Dick|Discount|Discover a bright future in ERP|Donkey|Dope|Dork|Early Bird Offer|Economy Pack|Electronic mail award promotion|Express Resume|Facial|Fart|FESTIVAL OFFER|For admission|For Enquiries|For Enquiries and Registration|For Registration|Freak|Free|Free Class|Free Demo|Free Demo Class|Free registration|Frenchify|Fuck|Fucking|Fucker|Fuckhole|Full Payment|Funds to an account|Gangbang|Garunteed placement|Gasbag|Get Certified|Get Trained|Get Trained Certified & Placed !|Goose|Guarantee|Guaranteed placement|Guaranty|High Paying|I luv You|Illegal|In favor of|In favour of|Interview knowhows|Jackpot lottery|Jerk|Job opportunities|LIC of India|Lick|Lottery|LOTTERY DRAW|Lotto|Loudmouth|Lucky winners|Microphallus|Mothafucka|Motherfucker|Murder|Murderer|New Batch|New Batches|NEW BATCHES STARTING|Nigerian local office|Nigga|Nigger|Nominated bank account|Nonsense|Nut|Offer letter|Opportunities!!!!!!!!!|Opportunity!!!|Paedophile|Participate as an investor|Partner naukri.com|Payment|Penis|Placement assistance|Porn|Premium Resume Development|Privately looking|Pussy|Pyt|Rape|Rapist|Redneck|Refugee camp|Refundable|Replacement Clause|Resume Critique|Resume Development|Resume Flash|Scam|Scholarship|Scum|Scumbag|Sex|Shit|Sicko|Skill oriented course|Smartass|Start-Up Kit|Student visa|Suck|Through Industry Professionals|Tight ass|Tits|Training Cum Placement|Turd|Twat|Twerp|Twit|Urgent Attention|Valid till|Value Pack|We charge|Will of god|Winning|Wish to invite|Wog|Wop|WORLDWIDE OPPORTUNITIES|Yid|Yob|You are a winner|sexual harassment|terror|terrorist|anus|assclown|asses|ass-hole|assbanger|assbite|asshead|asswipe|boob|bar girl|bar girls|bitchy|bisexual|sexual|blowjob|blowjobs|bollocks|call girl|call girls|cunnilingus|cuntface|cuntass|cum|dickbag|dickfuck|dickfucker|dickhead|dickjuice|dickweed|dumass|fag|faggot|female escort|fellatio|fuckbutt|fuckhead|fuckup|gay|gayass|gayfuck|gringo|guido|gooch|handjob|homo|hump|homosexual|homo|hot mms|humping|hell|hoe|ho|jackass|jagoff|jap|jizz|jerkoff|kyke|kraut|kunt|lesbian|lesbo|lezzie|muthafucka|male escort|motherfucking|nude|nude jobs|nude girl|nude girls|nude party girls|nude party girl|negro|nutsack|paki|pecker|party girls|party girl|piss|poontang|pedophile|pedo|prostitute|puta|queef|queer|schlong|shitass|shitbrains|shitter|shitting|suckass|titfuck|titty|titties|twat|vag|vagina|vajayjay|wank|whore|whorebag|whoreface|whores|xxx|xxxgirls|xxx girls|gigolo|prostitution|terrorism|sexy|nude boy|nude boys|nude party boys|bf indian|six video|sax video|nude party boy|premium|cheat|job|xxxxx|red wap|indian bf|gujarati bp|radwap|hindi bp|video six|redwap|indian sax|reftube|bedwap|jav hd|nx video|pon video|oriya bp|malayalamsax|bengali bp|xxc|rad wap|hindi sax|xivideo|hindi mms|saxvideo|tamilsax|indian mms|tamil sax|marathi bp|momtube|red wep|english bp|mom sax|animal sax|pon hub|x hubs|hotwap|indiansax|malayalam sax|nxvideo|hd pon|tamilsix|bengali video|pontube|red wap.com|pon hd|xivideos|hindisax|odia bp|kolkata bf|bed wap|momsax|india bf|bedwep|village bf|rectube|xxxcxx|jav.me|xxxxxxnx|muslim bf|sax com|fsiblog|esx video|animalsax|sixvideo|call boy|badawap|drp av|jav me|japanese av|japanesetube|india sax|smart value|dabwap|state street hyderabad|japanese mom|9x video|redwep|dvd wap|b[*]+.com|tamil play|tamilplay|dvdwap|teluguwap|gujarati|tamilmv|yahoo cricket|playtamil|x video|bf india|Xnxx",b=a.split("|");return b}function v(a,b,c){document.getElementById("photoFrame").src=c,document.getElementById("uploadedPhotoUrlFromDisk").src=c,document.getElementById("photoFrame").onload=function(){var a=z();window.imgCrop=new ImageCropper;var c=document.getElementById("photoFrame");if(c.style.width="496px",c.style.height="auto",window.actual_width=c.offsetWidth,window.actual_height=c.offsetHeight,imgCrop)for(var d=document.getElementById("photoUploadCropArea"),e=d.getElementsByTagName("div"),f=e.length;f>0;f--)e[f-1].parentNode.removeChild(e[f-1]);w(),parseFloat(document.getElementById(b).style.top)<0&&(document.getElementById(b).style.top=a+"px")}}function w(){var a=document.getElementById("uploadedPhotoUrlFromDisk"),b="//static.naukimg.com/s/1/105/images/small-dot.png",c=document.getElementById("imageContainer"),d={cropToolBorderWidth:1,smallSquareWidth:7,crop_minimumWidthHeight:15,updateFormValuesAsYouDrag:!1,crop_script_alwaysPreserveAspectRatio:!0,crop_script_fixedRatio:.85,percentageIntitialCrop:20};imgCrop.init_imageCrop(a,c,x,y,"submit","cancel",b,d),Le||(imgCrop.setAction(x,y,"submit","cancel"),Le++)}function x(a,b,c,d){document.getElementById("x1").value=a,document.getElementById("y1").value=b,document.getElementById("x2").value=c,document.getElementById("y2").value=d}function y(){hidemodal()}function z(){var a=0;return"number"==typeof window.pageYOffset?a=window.pageYOffset:document.body&&document.body.scrollTop?a=document.body.scrollTop:document.documentElement&&document.documentElement.scrollTop&&(a=document.documentElement.scrollTop),a}function A(){for(var a="",b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",c=0;c<13;c++)a+=b.charAt(Math.floor(Math.random()*b.length));return a}function B(a,b){return function(b){function c(a){Nb(this,c);var b=Sb(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,a));return b.forceUpdateDashboard=function(){b.forceUpdate()},b}return Rb(c,b),Ob(c,[{key:"render",value:function(){return Se.createElement(a,Qb({forceUpdate:this.forceUpdateDashboard,uploadTempleateVisibility:!0},this.props))}}]),c}(Se.Component)}function C(a,b,c){this.maxSize_=a||-1,this.debug_=b||!1,this.storage_=c||new C.BasicCacheStorage,this.fillFactor_=.75,this.stats_={},this.stats_.hits=0,this.stats_.misses=0,this.log_("Initialized cache with size "+a)}function D(a){var b={resumeHeadline:a.resumeHeadline.replace(/\n\s*\n/g,"\n").replace(/  +/g," ")};return b}function E(a,b){if(a)if("save"==b)var c={summary:a.profileSummary.replace(/\n\s*\n/g,"\n").replace(/  +/g," ")};else if("delete"==b)var c={summary:""};return c}function F(a){return/^true$/gi.test(a)||!/^false$/gi.test(a)&&a}function G(a,b){if(a)if("save"==b)var c={keySkills:a.keySkills};else if("delete"==b)var c={keySkills:""};return c}function H(a,b){var c={keywords:a.keySkills};return c}function I(a){var b=[];for(var c in a)b.push(a[c]);return b}function J(a){var b=[];if(a){var c=a.id,d=a.value?a.value.split(","):"";c&&c.forEach(function(a,c){var e={};e.id=a,e.value=d[c],b.push(e)})}return b}function K(a,b){b.functionalArea.id?b.functionalArea.id=parseInt(b.functionalArea.id):"",b.role.id?b.role.id=parseInt(b.role.id):"";var c={industry:b.industry,functionalArea:b.functionalArea,role:b.role,desiredJobType:b.desiredJobType,desiredEmploymentType:b.desiredEmploymentType,locationPrefId:J(b.preferredLocation),desiredIndustryTypeId:J(b.preferredIndustry),shiftPrefTime:b.shiftPrefTime,expectedCtcCurrency:b.expectedCtcCurrency,expectedCtc:{lacs:b.expectedCtcLac.id||0==b.expectedCtcLac.id?b.expectedCtcLac:{id:-1,value:"-1"},thousands:b.expectedCtcThou.id||0==b.expectedCtcThou.id?b.expectedCtcThou:{id:-1,value:"-1"}}};return"fresher"==a&&("immediately"==b.isImmediateAvail?c.joinDate="immediately":b.joinDateYear.id?c.joinDate=b.joinDateYear.id+"-"+("0"+b.joinDateMonth.id).slice(-2)+"-01":c.joinDate=""),c}function L(a){var b={skill:a.skill,version:a.version,lastUsed:a.lastUsed==-1?"":a.lastUsed,experienceTime:{year:a.experienceTimeYear&&a.experienceTimeYear.id||"",month:a.experienceTimeMonth&&a.experienceTimeMonth.id||""}};return b}function M(a){return Pg[a]}function N(a){return Array.isArray(a.grade)?{course:a.course,courseType:a.courseType&&M(a.courseType.value)||"",educationType:a.education,institute:a.institute||"",specialisation:a.specialization,yearOfCompletion:a.yop&&a.yop.id||""}:{course:a.course,courseType:a.courseType&&M(a.courseType.value)||"",educationType:a.education,grade:a.grade,institute:a.institute||"",marks:a.gradeMarks,specialisation:a.specialization,yearOfCompletion:a.yop&&a.yop.id||""}}function O(a){return{schoolBoard:a.schoolBoardIdField,schoolCompletionYear:a.schoolCompletionYearField&&a.schoolCompletionYearField.id||"",schoolEnglishMarks:a.schoolEnglishMarks||"",schoolLevel:10==a.education.id&&1||12==a.education.id&&2,schoolMathematicsMarks:a.schoolMathematicsMarks||"",schoolMedium:a.schoolMediumIdField,schoolPercentage:a.schoolPercentageIdField}}function P(a){return{schoolLevel:99==a.education.id&&-1}}function Q(a,b){var c=void 0;return"education"==a?c={education:[{type:R(b.education.value),course:b.course,specialisation:b.specialization,institute:b.institute,yearOfCompletion:b.yop.id,grade:b.grade,marks:b.gradeMarks,courseType:b.courseType.value}]}:(c={schoolBoard:b.schoolBoardIdField,schoolPercentage:b.schoolPercentageIdField,schoolMedium:b.schoolMediumIdField,schoolCompletionYear:b.schoolCompletionYearField&&b.schoolCompletionYearField.id||""},"twelfth"==a&&(c.schoolMathematicsMarks=b.schoolMathematicsMarks,c.schoolEnglishMarks=b.schoolEnglishMarks)),c}function R(a){var b=a.trim(),c="";return"doctorate/phd"==b.toLowerCase()?c="ppg":"masters/post-graduation"==b.toLowerCase()?c="pg":"graduation/diploma"==b.toLowerCase()&&(c="ug"),c}function S(a,b,c){return a[b].prefillId=c,a}function T(){var a=new Date,b=a.valueOf(),c=a.getUTCDate()+"/"+(a.getUTCMonth()+1)+"/"+a.getUTCFullYear();return{timeStamp:b,date:c}}function U(a,b){var c=[].concat(Tb(a));c.length===Al&&c.shift();var d=c.length,e=T();c[d-1].date!==e.date&&(c.push(e),localStorage.setItem("timerWindow-"+b,JSON.stringify(c)))}function V(a,b){U(a,b),a=JSON.parse(localStorage.getItem("timerWindow-"+b));var c=a.length,d=!1;if(c===Al){var e=(a[Al-1].timeStamp-a[0].timeStamp)/2592e6;e<=2&&(d=!0)}return d}function W(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,c=[];return a&&a.length&&a.forEach(function(a){var b={conversationId:a.conversationId,subject:a.subject,isRead:a.isRead,dateTime:a.dateTime,sender:a.sender,vcard:a.vCardInfo||{},messageId:a.messageId,mailId:a.mailId};c.push(b)}),{list:c,unreadCount:b}}var X="",Y="",Z=void 0,_=void 0,aa=void 0,ba=void 0,ca=void 0,da=void 0,ea=void 0,fa=void 0,ga=void 0,ha=void 0,ia=void 0,ja=void 0,ka=void 0,la=void 0,ma=void 0,na=void 0,oa=void 0,pa=void 0,qa=void 0,ra=void 0,sa=void 0,ta=void 0,ua=void 0,va=void 0,wa=void 0,xa=void 0,ya=void 0,za=void 0,Aa=void 0,Ba=void 0,Ca=void 0,Da=void 0,Ea=void 0,Fa=void 0,Ga=void 0,Ha=void 0,Ia=void 0,Ja=void 0,Ka=void 0,La=void 0,Ma=void 0,Na=void 0,Oa=void 0,Pa=void 0,Qa=void 0,Ra=void 0,Sa=void 0,Ta=void 0,Ua=void 0,Va=void 0,Wa=void 0,Xa=void 0,Ya=void 0,Za=void 0,$a=void 0,_a=void 0,ab=void 0,bb=void 0,cb=void 0,db=void 0,eb=void 0,fb=void 0,gb=void 0,hb=void 0,ib=void 0,jb=void 0,kb=void 0,lb=void 0,mb=void 0,nb=void 0,ob=void 0,pb=void 0,qb=void 0,rb=void 0,sb=void 0,tb=void 0,vb=void 0,wb=void 0,xb=void 0,yb=void 0,zb=void 0,Ab=void 0,Bb=void 0,Cb=void 0,Db=void 0,Eb=void 0,Fb=void 0,Gb=void 0,Hb=void 0,Ib=void 0,Jb="v9.4.0";X="//www.naukri.com",Y="//www.naukri.com",Z="//static.naukimg.com/s/5/105",_={performance:"https://lg.naukri.com/uba",heatmap:"https://lg.naukri.com/uba",feedback:"https://lg.naukri.com/uba",launchOrInstall:"https://lg.naukri.com/uba",csmSummaryUrl:"http://dev2.csm.infoedge.com/siddharth/web/app_dev.php/csm/summaryWidget"},tb="https://www.naukri.com/mnjuser/homepage",fb="/ims/intercept?",qb=gb="/jobseekerapi/v1/user/profiles/",rb="https://static.naukimg.com/s/0/0/j/heatmap_v1_min.js",eb="/recommendapi/v2",cb="/jobapi/v1/user/savedjobs",db="/jobapi/v2/user/saveJob",Xa="/mnjapi/v1/advResume",Ya="/Profile/download",ab="/mnjapi/v1/resume",Za="/mnjapi/v1/advResume",$a="/mnjapi/v1/advResume",bb="/jobseekerapi/v1/user/profiles",_a="/mnjapi/v1/advResume",Va="//files.naukri.com/0/saveFile.php",nb="/notifications/feedback",ob="https://www.naukri.com/jobapi/v4/ads",Sa="/account/resman/resmanapi/v2/photo",Wa=Z+"/j/ncUploader.min.js",Ta="https://static.naukimg.com/s/0/0/j/ncUploader_v2.min.js",Ua="//static.naukimg.com/s/5/105/j/ImageCropper.min.js",aa=".min",da="https://www.naukri.com/mnjapi/v4/dashBoard",ea="/mnjapi/v1/verifyEmail",fa="/account/jobseeker/preMobileVerify",ba="https://static.naukimg.com/s/5/105/j/customDropdown_v10.1.2.min.js",ga="//my.naukri.com/Photo/getProfileImage",ha="//static.naukimg.com/s/5/105/i/user/userdp.jpg",ia="https://www.naukri.com/jobapi/v2/srchcount",ja="/mnjuser/pendingaction",ka="https://my.naukri.com/Profile/view?id=&orgn=homepage",la="/mnjuser/pendingAction",ma="https://my.naukri.com/ProfilePerformance/preview?id=&altresid",na="https://my.naukri.com/Profile/edit?id=&altresid&orgn=homepage",oa="https://www.naukri.com/hpapi/v1/bpw",pa="https://www.naukri.com/jobseekerapi/v1/user?properties=user(resdexVisibility)",qa="https://www.naukri.com/jobseekerapi/v1/user?properties=user(isMobileNumberVerified)",Qa="https://www.naukri.com/jobseekerapi/v1/user?expand_level=2",Ra="//www.naukri.com/jobseekerapi/v1/user",ra="https://my.naukri.com/ManageProfiles/profileVisibility?id=&altresid=",sa="https://my.naukri.com/BlockCompany/view?id=&altresid=",ta="//suggest.infoedge.com:9997/suggest/v2/autosuggest?",ua="https://my.naukri.com/Mailers/edit?id=",va="https://www.naukri.com/applyapi/webapphistory",wa=Y+"/recommendapi/v2/user/dashboard",Ca="https://www.naukri.com/loginapi/v3/login",xa={faqUrl_1:"https://my.naukri.com/faq/faq.php?pgid=2&id=",faqUrl_2:"https://my.naukri.com/faq/faq.php?pgid=3&id=",faqUrl_3:"https://my.naukri.com/faq/faq.php?pgid=4&id=",faqUrl_4:"https://my.naukri.com/faq/faq.php?pgid=6&id="},za="https://my.naukri.com/ChangePassword/edit?id=",ya={applyStatus:"https://my.naukri.com/ApplyHistory/monthlyJobs",settings:"https://my.naukri.com/ManageProfiles/profileVisibility?id=&altresid=",recruiterMessages:"https://my.naukri.com/Inbox/viewRecruiterMails",recruiterConnection:"//my.naukri.com/RecruiterConnect/view"},pb="/recruiters/rpapi/v1/rjcreditstatus",Aa="//resume.naukri.com/resume-writing-for-freshers-entry-level?fftid=101001",Ba="//resume.naukri.com/resume-display?fftid=101009",Ca="/loginapi/v5/login",Da="/loginapi/v1/logout",Ea="/loginapi/v2/changePassword",Fa="/loginapi/v5/sociallogin",Ga="/nlogin/v1/loginStatus",Ha="6Lfr8SEUAAAAACgWL1C--Pup9o8uBElCNXYZ4vfL",Ia="//www.naukri.com/account/createaccount",Ja="/loginapi/v1/forgotPasswordOTP",Ka="/jobseekerapi/v1/user/inbox",La="/mnjapi/v1/mail",Oa="/jloginapi/v1/resetPassword",Pa="/jloginapi/v1/validateOtp",Ma="/jobapi/v3/ads?userAgent=desk",Na="//saxp.zedo.com/sclient/tt3/fmos.js",ca="//static.naukimg.com/s/5/105/j/suggestor_"+Jb+".min.js",hb="/settings/v1/system/settings",ib="/settingsapi/v1/user/settings",mb="/settingsapi/v1/user/blockedCompanies",jb="/jobseekerapi/v1/user",kb="/settingsapi/v1/user/deactivateAccount",lb="/alertapi/v2/user/cjas",sb="https://resume.naukri.com/internal/comm-detail?inventory=DNC Layer&apptype=DESK&servcount=1",vb="//apis.naukri.com/central_services/dropdowns/v0/",wb="//apis.naukri.com/central_services/dropdowns/v0/version",xb="https://login.naukri.com/nLogin/Logout.php",zb="//www.naukri.com/servicegateway-mynaukri/jobseeker-engagement-services/v0/pushdownservice/users/",Cb="https://www.naukri.com/servicegateway-mynaukri/jobseeker-engagement-services/v0/profileservice/users/",Ab="//www.naukri.com/jobseekerapi/v1/user/experiments/",Bb="//static.naukimg.com/s/5/105/j/socialUploaderPlugins.min.js",Eb="//files.naukri.com/0/deleteFile.php",yb="/account/resman/resmanapi/resumeParserData",Db="/mnjuser/performance",Fb="//www.naukri.com/jobseekerapi/v1/search-appearances",Hb=".naukri.com",Gb="//www.naukri.com/servicegateway-mynaukri/resman-aggregator-services/v0/users/self/messages/appInstall",Ib="//www.naukri.com/mnjapi/v1/saveDncFeedback";var Kb={},Lb=function(a){if(a){var b=a.routeName,c=a.title,d=a.previousName,e={pageName:b,title:c,previous:d};return Kb.hasOwnProperty(b)&&$.extend(e,Kb[b]),Kb.hasOwnProperty(d)&&$.extend(e,{previous:Kb[d].pageName}),e}},Mb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},Nb=function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")},Ob=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),Pb=function(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a},Qb=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},Rb=function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)},Sb=function(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
return!b||"object"!=typeof b&&"function"!=typeof b?a:b},Tb=function(a){if(Array.isArray(a)){for(var b=0,c=Array(a.length);b<a.length;b++)c[b]=a[b];return c}return Array.from(a)},Ub=function(){var a=new RegExp(/([\s]*)([_a-zA-Z0-9-]+(\.[_a-zA-Z0-9-]+)*([ ]+|)@([ ]+|)([a-zA-Z0-9-]+\.)+([a-zA-Z]{2,}))([\s]*)/i),b=a.test(decodeURIComponent(location.href));if(!b&&!window.dataLayer){var c=document.createElement("script");c.innerHTML="(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src= 'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f); })(window,document,'script','dataLayer','GTM-NX744H');",document.head.appendChild(c)}return b},Vb=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],Wb=navigator.userAgent,Xb=navigator.appVersion,Yb=navigator.appName,Zb="unknown",$b="unknown",_b="unknown",ac=[{s:"Windows 3.11",r:/Win16/},{s:"Windows 95",r:/(Windows 95|Win95|Windows_95)/},{s:"Windows ME",r:/(Win 9x 4.90|Windows ME)/},{s:"Windows 98",r:/(Windows 98|Win98)/},{s:"Windows CE",r:/Windows CE/},{s:"Windows 2000",r:/(Windows NT 5.0|Windows 2000)/},{s:"Windows XP",r:/(Windows NT 5.1|Windows XP)/},{s:"Windows Server 2003",r:/Windows NT 5.2/},{s:"Windows Vista",r:/Windows NT 6.0/},{s:"Windows 7",r:/(Windows 7|Windows NT 6.1)/},{s:"Windows 8.1",r:/(Windows 8.1|Windows NT 6.3)/},{s:"Windows 8",r:/(Windows 8|Windows NT 6.2)/},{s:"Windows NT 4.0",r:/(Windows NT 4.0|WinNT4.0|WinNT|Windows NT)/},{s:"Windows ME",r:/Windows ME/},{s:"Android",r:/Android/},{s:"Open BSD",r:/OpenBSD/},{s:"Sun OS",r:/SunOS/},{s:"Linux",r:/(Linux|X11)/},{s:"iOS",r:/(iPhone|iPad|iPod)/},{s:"Mac OS X",r:/Mac OS X/},{s:"Mac OS",r:/(MacPPC|MacIntel|Mac_PowerPC|Macintosh)/},{s:"QNX",r:/QNX/},{s:"UNIX",r:/UNIX/},{s:"BeOS",r:/BeOS/},{s:"OS/2",r:/OS\/2/},{s:"Search Bot",r:/(nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask Jeeves\/Teoma|ia_archiver)/}];for(var bc in ac){var cc=ac[bc];if(cc.r.test(Wb)){Zb=cc.s;break}}switch(/Windows/.test(Zb)&&($b=/Windows (.*)/.exec(Zb)[1],Zb="Windows"),Zb){case"Mac OS X":$b=/Mac OS X (10[\.\_\d]+)/.exec(Wb)[1];break;case"Android":$b=/Android ([\.\_\d]+)/.exec(Wb)[1];break;case"iOS":$b=/OS (\d+)_(\d+)_?(\d+)?/.exec(Xb),$b=$b[1]+"."+$b[2]+"."+(0|$b[3])}var dc;if((dc=Wb.indexOf("Opera"))!=-1)Yb="Opera",_b=Wb.substring(dc+6),(dc=Wb.indexOf("Version"))!=-1&&(_b=Wb.substring(dc+8));else if(Wb.match(/(?:MSIE |Trident\/.*; rv:)(\d+)/)){Yb="Microsoft IE";var ec=Wb.match(/(?:MSIE |Trident\/.*; rv:)(\d+)/);_b=parseInt(ec[1])}else if((dc=Wb.indexOf("Chrome"))!=-1){Yb="Chrome";var fc=Wb.substring(dc+7);_b=fc.match(/\d+.\d+.\d+/)[0]}else(dc=Wb.indexOf("Safari"))!=-1?(Yb="Safari",_b=Wb.substring(dc+7),(dc=Wb.indexOf("Version"))!=-1&&(_b=Wb.substring(dc+8))):(dc=Wb.indexOf("Firefox"))!=-1&&(Yb="Firefox",_b=Wb.substring(dc+8));var gc={recoJobs:"MNJ Recommended Jobs",inbox:"MNJ Inbox",dashboard:"MNJ Homepage",login:"MNJ Login",profileperformance:"MNJ Performance",logout:"MNJ Logout",profile:"MNJ Profile",pendingAction:"MNJ Pending Action",savedjobs:"MNJ Saved Jobs"},hc=window.interfaces.Virtual,ic=function(a){function b(){Nb(this,b);var a=Sb(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments));return a.state={loaded:!1},a.lazyloadContainer=null,a}return Rb(b,a),Ob(b,[{key:"attachedCallback",value:function(){this.addListener()}},{key:"addListener",value:function(){var a=this;this.lazyloadContainer.addEventListener("lazyLoaded",function(b){a.setState({loaded:!0},function(){a.props.resizeOnLoad&&window.interfaces.modelWindow.modelResize()})})}},{key:"render",value:function(){var a=this,b=this.props.component;return hc.createElement("div",{"data-plugin":"lazyload",id:this.props.id,className:this.props.className,ref:function(b){a.lazyloadContainer=b}},this.state.loaded&&hc.createElement(b,null))}}]),b}(hc.PureComponent),jc=window.interfaces,kc=jc.connect,lc=function(a){return{}},mc=function(a){return{}},nc=kc(lc,mc)(ic),oc=function(){function a(a,b){b=b||{bubbles:!1,cancelable:!1,detail:void 0};var c=document.createEvent("CustomEvent");return c.initCustomEvent(a,b.bubbles,b.cancelable,b.detail),c}return"function"!=typeof window.CustomEvent&&(a.prototype=window.Event.prototype,void(window.CustomEvent=a))},pc=function(a,b,c){b||(b=250);var d=void 0,e=void 0;return function(){var f=c||this,g=+new Date,h=arguments;d&&g<d+b?(clearTimeout(e),e=setTimeout(function(){d=g,a.apply(f,h)},b)):(d=g,a.apply(f,h))}},qc=function(a){for(var b=a.offsetTop,c=a.offsetLeft,d=a.offsetWidth,e=a.offsetHeight;a.offsetParent;)a=a.offsetParent,b+=a.offsetTop,c+=a.offsetLeft;return b<window.pageYOffset+2*window.innerHeight&&c<window.pageXOffset+window.innerWidth&&b+e>window.pageYOffset&&c+d>window.pageXOffset},rc=function(){var a=document.querySelectorAll('[data-plugin="lazyload"]:not([data-loaded="true"])');if(a.length)for(var b=0;b<a.length;b++){var c=a[b];if(qc(c)&&!c.getAttribute("data-loaded")){var d=new CustomEvent("lazyLoaded");c.dispatchEvent(d),c.setAttribute("data-loaded","true")}}},sc=pc(rc),tc=function(){window.removeEventListener("scroll",sc),window.addEventListener("scroll",sc)},uc=function(){oc(),tc(),rc()},vc={init:uc},wc=window.interfaces.localforage,xc=window.interfaces.localforage,yc=window.interfaces.Virtual,zc=function(a){function b(){return Nb(this,b),Sb(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return Rb(b,a),Ob(b,[{key:"render",value:function(){return yc.createElement("div",{className:"valign-wrapper"},yc.createElement("div",{className:"preloader-wrapper small active valign"},yc.createElement("div",{className:"spinner-layer spinner-blue-only"},yc.createElement("div",{className:"circle-clipper left"},yc.createElement("div",{className:"circle"})),yc.createElement("div",{className:"gap-patch"},yc.createElement("div",{className:"circle"})),yc.createElement("div",{className:"circle-clipper right"},yc.createElement("div",{className:"circle"})))))}}]),b}(yc.Component),Ac=window.interfaces.Virtual,Bc=function(a){function b(){Nb(this,b);var a=Sb(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments));return a.node=null,a}return Rb(b,a),Ob(b,[{key:"attachedCallback",value:function(){var a=this;this.props.data&&requirejs([ba],function(){window.droope(Qb({},a.props,{onChangePrevent_onInit:!0}))})}},{key:"componentWillReceiveProps",value:function(a){var b=this.props,c=b.id,d=b.data,e=b.prefillData,f=b.reinitialize_onprefillDataChange,g=!1;if(f&&(g=JSON.stringify(e)!==JSON.stringify(a.prefillData)),a.reInitialize||g||c!==a.id||JSON.stringify(d)!==JSON.stringify(a.data)){var h=$(this.node).data("droope");h&&h.destroy(),requirejs([ba],function(){window.droope(Qb({},a,{onChangePrevent_onInit:!0}))})}}},{key:"render",value:function(){var a=this,b=this.props,c=b.rel,d=b.altrel,e=b.id,f=b.iconName,g=b.maxlength,h=b.placeholder,i=b.readOnly,j=b.disabled,k=b.name,l=b.rootContClass,m="",n=j?{disabled:"disabled"}:{};return c?m="rel="+c:d&&(m="altrel="+d),Ac.createElement("div",{className:l,id:e,ref:function(b){return a.node=b}},Ac.createElement("div",{className:"DDwrap"},Ac.createElement("div",{className:"DDsearch"},Ac.createElement("i",{className:"icon srchIc"},f),Ac.createElement("input",Qb({className:"srchTxt",autoComplete:"off",type:"text",id:e+"For",maxLength:g,placeholder:h,readOnly:i},n)),Ac.createElement("input",{rel:c,type:"hidden",id:"hid_"+e,name:k}))))}}]),b}(Ac.Component);Bc.defaultProps={reinitialize_onprefillDataChange:!1,rootContClass:"ddwn"};var Cc,Dc,Ec="CITY",Fc="COUNTRY",Gc="EXPERIENCE_YEAR",Hc="EXPERIENCE_MONTH",Ic="SALARY_LACS",Jc="SALARY_THOUSANDS",Kc="NOTICE_PERIOD",Lc="TEAM_SIZE",Mc="PROJECT_ROLE",Nc="EXPERIENCE_YEAR_ITSKILL",Oc="EDUCATION_TYPE",Pc="UGCOURSE",Qc="PGCOURSE",Rc="PPGCOURSE",Sc="UGSPEC",Tc="PGSPEC",Uc="PPGSPEC",Vc="GRADING_SYSTEM",Wc="BOARD",Xc="MEDIUM",Yc="MARKS",Zc="INDUSTRY_TYPE",$c="FAREA",_c="FA_ROLE",ad="LOCATION",bd="MARITAL_STATUS",cd="CASTE",dd="WORK_PERMIT_US",ed="WORK_STATUS_OTHER",fd="LANGUAGE_PROFICIENCY",gd="DAY",hd="MONTHS",id="DISABILITY",jd="SUBDISABILITY",kd=window.interfaces.Virtual,ld=function(a){function b(a){Nb(this,b);var c=Sb(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments));return c.state={dddataExistFlag:null,ddData:null,changeValue:!0},c}return Rb(b,a),Ob(b,[{key:"attachedCallback",value:function(){var a=this;this.initializeDroope=function(b,c){b?l(b).then(function(d){var e=!1;l("DDVERSION").then(function(f){var g="",h="",i="";if(d&&(h=d.version||"",g=d.data,i=f&&f.value,e=o(i,b,h,g)),g&&!e)a.setState({dddataExistFlag:!0,ddData:g});else{var j=k(b,c);j.then(function(){l(b).then(function(b){a.setState({dddataExistFlag:!0,ddData:b.data})})})}})}):a.setState({dddataExistFlag:!0})},this.initializeDroope(this.props.data,this.props.postText)}},{key:"componentWillReceiveProps",value:function(a){a.radioFlag===!0&&(this.initializeDroope(a.data,a.postText),this.setState({changeValue:!this.state.changeValue}))}},{key:"render",value:function(){var a=this.props,b=a.id,c=a.prefillParent,d=a.prefillData,e=a.placeholder,f=a.rel,g=a.sortPrefix,h=a.iconName,i=a.onChange,j=a.checkBox,k=a.tags,l=a.maxSelection,m=a.onError,n=a.tagInSepContainer,o=c&&this.state.ddData?this.state.ddData["#"+c]:this.state.ddData;return o&&this.props.data&&this.props.data.toUpperCase()===Fc&&delete o["#11"],o&&this.props.data&&this.props.data.toUpperCase()===Pc&&delete o["#1"],o&&this.props.data&&this.props.data.toUpperCase()===Gc&&delete o["#99"],kd.createElement("div",null,this.state.dddataExistFlag?kd.createElement(Bc,{id:b,data:o,prefillData:d,placeholder:e,checkBox:j,tags:k,tagInSepContainer:n,maxSelection:l,onError:m,rel:f,sortPrefix:g,iconName:h,onChange:i}):kd.createElement("div",null,kd.createElement(zc,null)))}}]),b}(kd.Component),md=(Cc={},Pb(Cc,Ec,{individual:[-1,2,3,4,5,6,7,8,9,10,11,12,14,15,16,17,18,19,20,21,22,24,25,26,27,28,30,31,33,34,35,37,38,39,41,42,43,44,46,48,49,51,52,53,55,56,57,58,59,60,61,62,63,64,65,66,67,68,70,71,72,73,74,75,76,77,78,79,81,82,83,84,85,87,88,89,91,92,93,94,95,97,98,99,100,101,102,103,104,105,106,107,109,110,111,112,113,114,115,116,117,118,119,120,121,123,124,125,126,127,128,130,131,132,133,134,135,136,137,138,139,140,141,143,144,146,147,149,150,152,153,155,156,157,158,159,160,162,163,164,165,166,167,168,169,170,172,173,174,175,176,177,178,180,181,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,199,200,202,203,204,205,206,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,224,225,226,228,229,230,231,232,233,234,239,240,241,242,243,244,245,247,248,249,265,286,288,330,331,332,333,334,335,336,337,338,339,340,341,342,343,344,345,346,347,348,349,350,353,354,355,356,357,358,359,360,361,362,363,364,365,366,368,369,370,371,372,373,374,375,376,377,9999]}),Pb(Cc,Fc,{range:{start:-1,end:46},individual:[49,56,67,126,127,9999]}),Pb(Cc,Ic,{range:{start:-1,end:51},individual:[93,94,95,96,97,98,99,100,101,102]}),Pb(Cc,Jc,{individual:[-1,0,5,10,15,20,25,30,35,40,45,50,55,60,65,70,75,80,85,90,95],blank:!0}),Pb(Cc,Gc,{range:{start:0,end:40},individual:[99]}),Pb(Cc,Hc,{range:{start:0,end:11},blank:!0}),Pb(Cc,Lc,{range:{start:0,end:30},blank:!0}),Pb(Cc,Mc,{range:{start:1,end:11},blank:!0,individual:[99]}),Pb(Cc,Nc,{range:{start:0,end:40},individual:[99],blank:!0}),Pb(Cc,Oc,{range:{start:1,end:3},individual:[10,12,99]}),Pb(Cc,Rc,{individual:[1,2,9999]}),Pb(Cc,Qc,{range:{start:-1,end:18},individual:[20,25,26,27,33,34,35,36,37,38,9999]}),Pb(Cc,Pc,{range:{start:-1,end:16},individual:[28,29,30,31,32,33,35,36,37,38,39,40,41,42,43,9999]}),Pb(Cc,Uc,{type:"i"}),Pb(Cc,Tc,{type:"i"}),Pb(Cc,Sc,{type:"i"}),Pb(Cc,Vc,{range:{start:-1,end:4},blank:!0}),Pb(Cc,Wc,{range:{start:1,end:27},individual:[32,9999]}),Pb(Cc,Xc,{range:{start:1,end:17},individual:[9999]}),Pb(Cc,Yc,{range:{start:0,end:100}}),Pb(Cc,Zc,{range:{start:12,end:61},individual:[1,2,3,4,6,7,8,9,10,63,64,65,66,67]}),Pb(Cc,$c,{range:{start:1,end:16},individual:[18,19,20,21,22,24,36,37,39,41,42,43,44,45,46,47,48,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,81,82,83,84]}),Pb(Cc,_c,{individual:[1,2,3,4,5,6,7,8,9,11,12,13,14,15,16,17,18,19,21,22,23,24,25,27,28,29,30,32,33,34,35,36,37,39,41,42,43,44,46,47,48,49,50,52,53,55,56,57,58,60,61,62,63,64,65,66,67,68,69,70,71,72,74,75,77,78,79,80,82,83,84,85,86,87,89,90,91,92,93,96,97,98,99,100,101,102,103,104,106,107,108,109,110,111,112,113,115,116,117,118,119,120,121,122,124,125,126,128,129,130,131,132,133,134,135,136,137,138,139,140,142,143,144,145,146,147,148,149,151,152,153,154,155,156,157,158,159,160,161,163,164,165,166,167,168,169,170,171,172,173,174,175,177,178,179,180,181,183,184,185,186,187,188,189,190,191,192,193,194,197,198,199,200,201,202,203,204,205,206,207,208,210,211,212,213,214,215,216,217,218,219,220,221,222,223,225,226,227,228,229,230,231,234,235,236,238,239,240,241,242,243,244,245,246,247,248,249,251,252,253,254,255,256,257,258,259,260,261,262,263,264,265,266,267,268,269,270,271,273,274,275,276,277,278,280,281,282,284,285,286,288,289,290,291,292,293,294,296,297,298,299,300,301,303,304,305,306,307,308,309,311,312,313,315,316,317,318,320,321,322,323,324,326,327,328,329,330,331,332,333,334,335,337,339,340,341,342,343,344,345,346,348,349,350,351,352,353,354,355,357,358,359,360,361,362,364,365,366,368,369,370,371,372,373,374,375,376,377,379,380,381,382,384,385,386,387,388,389,390,391,392,393,394,396,397,398,399,401,402,403,405,406,407,408,409,410,412,413,414,415,416,417,418,420,421,422,424,425,426,428,429,430,431,432,433,434,435,437,438,439,440,441,442,443,445,446,447,448,450,451,453,454,456,457,458,459,460,461,462,463,465,466,467,468,470,471,472,473,474,475,476,477,478,479,480,481,482,483,484,485,486,488,489,490,491,492,493,494,495,496,497,498,499,500,501,502,503,504,505,506,507,508,509,510,511,512,513,514,515,516,517,518,520,521,522,523,524,525,526,527,528,529,530,532,533,534,535,536,537,538,539,540,541,542,543,544,546,547,548,550,551,552,553,554,556,557,558,559,561,562,563,565,566,567,568,569,570,571,572,573,574,575,576,577,578,579,580,581,582,583,584,585,586,587,588,589,590,591,592,593,594,595,596,597,599,600,601,602,603,604,605,606,607,608,609,610,611,612,613,614,615,616,617,618,619,621,622,623,625,626,628,629,630,632,633,634,635,636,638,639,640,641,642,643,645,646,647,648,649,650,651,652,653,655,656,657,658,660,661,662,663,664,666,667,668,669,671,673,674,675,677,678,679,680,681,682,683,684,685,686,688,689,690,691,692,693,694,695,696,698,699,700,701,702,703,705,706,707,708,709,711,713,714,715,716,718,719,720,721,722,723,724,725,726,727,728,729,731,732,733,735,736,737,739,740,741,742,743,744,745,746,747,748,749,750,751,752,754,755,756,757,758,759,760,762,764,765,766,767,768,769,771,772,773,774,775,776,777,778,779,780,781,782,783,784,785,786,787,788,789,790,791,792,793,794,795,796,797,798,799,800,801,802,803,804,805,806,807,808,809,810,811,812,813,814,815,816,817,818,819,820,821,822,823,824,825,826,827,828,829,830,831,832,833,834,835,836,837,838,839,841,842,843,844,845,846,848,849,850,851,853,854,855,856,857,858,860,861,862,863,864,865,866,867,868,869,870,871,872,873,874,875,876,877,878,879,880,882,883,884,886,887,888,889,890,891,892,893,894,895,896,897,898,900,901,902,903,905,906,907,909,910,911,912,913,914,915,916,917,918,920,921,922,923,924,925,926,927,928,929,931,932,933,934,935,936,937,938,939,940,942,943,944,945,946,947,948,949,950,952,953,954,955,956,957,959,960,961,962,963,965,967,968,969,970,972,973,974,975,976,978,979,980,981,982,983,984,985,986,987,989,990,991,992,993,994,995,996,997,999,1e3,1001,1002,1003,1004,1006,1007,1008,1009,1010,1012,1014,1015,1016,1017,1019,1020,1021,1022,1023,1025,1026,1027,1028,1029,1030,1031,1032,1033,1034,1036,1037,1038,1039,1040,1041,1042,1043,1044,1046,1047,1048,1049,1050,1051,1053,1054,1055,1056,1057,1059,1061,1062,1063,1064,1066,1067,1068,1069,1070,1072,1073,1074,1075,1076,1077,1078,1079,1080,1081,1083,1084,1085,1086,1087,1088,1089,1090,1091,1093,1094,1095,1096,1097,1098,1100,1101,1102,1103,1104,1106,1108,1109,1110,1111,1113,1114,1115,1116,1117,1119,1120,1121,1122,1123,1124,1125,1126,1127,1128,1130,1131,1132,1133,1134,1135,1136,1137,1138,1140,1141,1142,1143,1144,1145,1147,1148,1149,1150,1151,1153,1155,1156,1157,1158,1160,1161,1162,1163,1164,1166,1167,1168,1169,1170,1171,1172,1173,1174,1175,1177,1178,1179,1180,1181,1182,1183,1184,1185,1187,1188,1189,1190,1191,1192,1194,1195,1196,1197,1198,1200,1202,1203,1204,1205,1207,1208,1209,1210,1211,1213,1214,1215,1216,1217,1218,1219,1220,1221,1222,1224,1225,1226,1227,1228,1229,1230,1231,1232,1234,1235,1236,1237,1238,1239,1241,1242,1243,1244,1245,1247,1249,1250,1251,1252,1254,1255,1256,1257,1258,1260,1261,1262,1263,1264,1265,1266,1267,1268,1269,1271,1272,1273,1274,1275,1276,1277,1278,1279,1281,1282,1283,1284,1285,1286,1288,1289,1290,1291,1292,1294,1296,1297,1298,1299,1301,1302,1303,1304,1305,1307,1308,1309,1310,1311,1312,1313,1314,1315,1316,1318,1319,1320,1321,1322,1323,1324,1325,1326,1328,1329,1330,1331,1332,1333,1335,1336,1337,1338,1339,1341,1343,1344,1345,1346,1348,1349,1350,1351,1352,1354,1355,1356,1357,1358,1359,1360,1361,1362,1363,1365,1366,1367,1368,1369,1370,1371,1372,1373,1375,1376,1377,1378,1379,1380,1382,1383,1384,1385,1386,1388,1390,1391,1392,1393,1395,1396,1397,1398,1399,1401,1402,1403,1404,1405,1406,1407,1408,1409,1410,1412,1413,1414,1415,1416,1417,1418,1419,1420,1422,1423,1424,1425,1426,1427,1429,1430,1431,1432,1433,1435,1437,1438,1439,1440,1442,1443,1444,1445,1446,1448,1449,1450,1451,1452,1453,1454,1455,1456,1457,1459,1460,1461,1462,1463,1464,1465,1466,1467,1469,1470,1471,1472,1473,1474,1476,1477,1478,1479,1480,1482,1484,1485,1486,1487,1489,1490,1491,1492,1493,1495,1496,1497,1498,1499,1500,1501,1502,1503,1504,1506,1507,1508,1509,1510,1511,1512,1513,1514,1516,1517,1518,1519,1520,1521,1523,1524,1525,1526,1527,1529,1531,1532,1533,1534,1536,1537,1538,1539,1540,1542,1543,1544,1545,1546,1547,1548,1549,1550,1551,1553,1554,1555,1556,1557,1558,1559,1560,1561,1563,1564,1565,1566,1567,1568,1570,1571,1572,1573,1574,1576,1578,1579,1580,1581,1583,1584,1585,1586,1587,1589,1590,1591,1592,1593,1594,1595,1596,1597,1598,1600,1601,1602,1603,1604,1605,1606,1607,1608,1610,1611,1612,1613,1614,1615,1617,1618,1619,1620,1621,1623,1625,1626,1627,1628,1630,1631,1632,1633,1634,1641,1642,1643,1644,1645,1646,1647,1648,1649,1650,1652,1653,1654,1655,1656,1657,1658,1659,1660,1662,1663,1664,1665,1666,1667,1669,1670,1671,1672,1673,1675,1677,1678,1679,1680,1682,1683,1684,1685,1686,1687,1688,1689,1690,1691,1693,1694,1695,1696,1697,1698,1699,1702,1703,1704,1706,1708,1709,1710,1712,1713,1714,1715,1716,1717,1718,1719,1720,1721,1723,1724,1725,1726,1727,1728,1729,1730,1731,1732,1733,1734,1736,1737,1738,1739,1740,1742,1743,1744,1745,1746,1748,1750,1751,1752,1753,1754,1759,1761,1762,1763,1764,1765,1766,1767,1768,1769,1770,1771,1772,1773,1774,1776,1777,1778,1779,1780,1781,1782,1783,1784,1785,1786,1787,1788,1789,1791,1792,1793,1794,1795,1796,1797,1798,1799,1800,1801,1802,1804,1805,1806,1807,1808,1809,1810,1811,1813,1814,1815,1816,1817,1818,1819,1820,1821,1822,1823,1824,1825,1826,1827,1828,1830,1831,1832,1833,1834,1835,1836,1837,1838,1839,1840,1841,1842,1843,1844,1846,1847,1848,1849,1850,1851,1852,1854,1855,1856,1857,1858,1860,1861,1862,1863,1864,1865,1866,1867,1868,1869,1870,1871,1872,1873,1874,1875,1876,1877,1878,1879,1880,1881,1882,1883,1884,1885,1886,1887,1888,1889,1890,1891,1892,1893,1894,1895,1896,1897,1898,1899,1900,1901,1902,1903,1904,1905,1906,1907,1908,1909,1910,1911,1912,1913,1914,1915,1916,1917,1918,1919,1920,1921,1922,1923,1924,1925,1926,1927,1928,1929,1930,1931,1932,1933,1934,1935,1936,1937,1938,1939,1940,1941,1942,1943,1944,1945,1946,1947,1948,1949,1950,1951,1952,1953,1954,1955,1956,1957,1958,1959,1960,1961,1962,1967,1968,1969,1970,1971,1972,1973,1974,1975,1976,1977,1978,1979,1980,1981,1982,1983,1984,1985,1986,1987,1988,1989,1990,1991,1992,1993,1994,1995,1996,1997,1998,1999,2e3,2001,2002,2003,2004,2005,2006,2007,2008,2009]}),Pb(Cc,ad,{individual:[2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,258,259,260,261,262,263,264,265,266,267,268,269,270,271,272,273,275,276,277,278,279,280,281,282,283,284,285,286,287,288,289,290,291,292,293,294,295,296,297,298,299,300,301,302,303,304,305,306,307,308,309,310,311,312,313,314,315,316,317,318,319,320,321,323,324,325,326,327,328,329,330,331,333,334,335,336,337,338,339,340,341,342,343,344,345,346,347,348,349,350,351,352,353,354,355,356,9999,999908]}),Pb(Cc,bd,{individual:["N","M","W","D","S","O"],type:"s",blank:!0}),Pb(Cc,cd,{range:{start:1,end:5},blank:!0}),Pb(Cc,dd,{range:{start:1,end:6},blank:!0}),Pb(Cc,ed,{range:{start:1,end:42},blank:!0}),Pb(Cc,fd,{range:{start:1,end:3}}),Pb(Cc,id,{range:{start:1,end:10},individual:[9999]}),Pb(Cc,jd,{range:{start:1,end:20},blank:!0}),Cc),nd=(Dc={},Pb(Dc,Ec,"Not a valid Id for City"),Pb(Dc,Fc,"Not a valid Id for Country"),Pb(Dc,Gc,"Not a valid Id for Year"),Pb(Dc,Hc,"Not a valid Id for Month"),Pb(Dc,Ic,"Not a valid Id for Lakh"),Pb(Dc,Jc,"Not a valid Id for Thousand"),Pb(Dc,Lc,"Not a valid Id for Team size"),Pb(Dc,Nc,"Not a valid Id for Years"),Pb(Dc,Oc,"Not a valid Id for Education"),Pb(Dc,Rc,"Not a valid Id for PPGCOURSE"),Pb(Dc,Qc,"Not a valid Id for PGCOURSE"),Pb(Dc,Pc,"Not a valid Id for UGCOURSE"),Pb(Dc,Uc,"Not a valid Id for PPGSPEC"),Pb(Dc,Tc,"Not a valid Id for PGSPEC"),Pb(Dc,Sc,"Not a valid Id for UGSPEC"),Pb(Dc,Vc,"Not a valid Id for grading system"),Pb(Dc,Wc,"Not a valid Id for Board"),Pb(Dc,Xc,"Not a valid Id for Medium"),Pb(Dc,Yc,"Not a valid Id for Marks"),Pb(Dc,Zc,"Not a valid Id for Industry"),Pb(Dc,$c,"Not a valid Id for Functional Area"),Pb(Dc,_c,"Not a valid Id for Role"),Pb(Dc,ad,"Not a valid Id for Location"),Pb(Dc,bd,"Not a valid Id for Marital Status"),Pb(Dc,cd,"Not a valid Id for Cast"),Pb(Dc,dd,"Not a valid Id for Workpermit USA"),Pb(Dc,ed,"Not a valid Id for Workpermit For Others"),Pb(Dc,fd,"Not a valid Id for Language Proficiency"),Pb(Dc,id,"Not a valid Id for Disability"),Pb(Dc,jd,"Not a valid Id for Subdisability"),Pb(Dc,Mc,"Not a valid Id for Project Role"),Dc,function(a,b){var c=b.range,d=b.blank,e=b.individual,f=b.type;if(d&&(""===a||void 0===a))return!0;if(""===a||void 0===a||null===a)return!1;var g=!1,h=!1;if("s"!==f){if("string"==typeof a){if(""===a.replace(/ /g,""))return!1;a=a.replace("#",""),a=parseInt(a)}c&&a>=c.start&&a<=c.end&&(g=!0)}return e&&e.indexOf(a)!==-1&&(h=!0),h||g}),od=function(a,b){if("object"===("undefined"==typeof a?"undefined":Mb(a))){for(var c=0;c<a.length;c++)if(!nd(a[c],b))return!1}else if(!nd(a,b))return!1;return!0},pd=function(a,b){var c=md[a];if(b instanceof Object&&!(b instanceof Array)){if(c=Qb({},c,b.customValObj),!od(b.id,c))return{msg:"Please enter a valid value",valid:!1}}else if(!od(b,c))return{msg:"Please enter a valid value",valid:!1};return{valid:!0}},qd=function(a,b,c,d){return function(){var e="",f=$("#"+b).val();f&&(f=f.indexOf("[")!=-1?$.parseJSON(f):f),d&&(f={id:f,customValObj:d});var g=pd(c,f);return g.valid||(e=g.msg),{msg:e,id:a}}},rd=function(a,b,c,d,e,f,g){return function(){var h=qd(a,b,d,f)(),i=qd(a,c,e,g)();return h.msg?h:i.msg?i:{msg:"",id:a}}},sd=function(a){return function(b){var c="Please remove Backslash(\\) & Less than(<) characters.",d=b.val();return!d.match(/^[^\\<]*$/)&&{msg:c,id:a}}},td=function(a){return function(b){var c="Please enter a number from 0 to 100.",d=b.val();return d?d.match(/^([0-9]*[.])?[0-9]+$/)?d<0||d>100?{msg:c,id:a}:{msg:"",id:a}:{msg:c,id:a}:{msg:"",id:a}}},ud=function(a){var b=a.replace(/http:\/\/|https:\/\/|\/\//gi,""),c=b.split(".");c.length<4;for(var d=0;d<c.length;d++)if(isNaN(c[d])||c[d]<0||c[d]>255)return!1;return!0},vd=function(a){var b=a.match(/(http(s)?:\/\/.)?(www\.)?[-a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_\+.~#?&\/\/=]*)/gi);return!!ud(a)||null!=b&&!(a.indexOf(" ")>=0)},wd=function(a){return function(){var a="",b=["mob_number","tel_pNumber"],c=$("#"+b[0]).val()||$("#"+b[1]).val();return!c&&(a="Please specify atleast one Contact number.",{msg:a,id:"mob_number_err"})}},xd=function(a){return function(){var b="",c=["tel_cCode","mob_number"],d=$("#"+c[0]).val(),e=$("#"+c[1]).val();return e&&!d?{msg:b,id:a}:(b=d?d.match(/^[0-9+]+$/)?"":"only + and digits are allowed.":"",{msg:b,id:a})}},yd=function(a){return function(){var b="",c=["tel_aCode","tel_cCode","tel_pNumber","mob_number"],d=$("#"+c[0]).val(),e=$("#"+c[1]).val(),f=$("#"+c[2]).val(),g=$("#"+c[3]).val();return b=!g&&f?d||e?"":"Please enter either area code or country code.":"",{msg:b,id:a}}},zd=function(a){return function(){var b="",c=["tel_aCode","mob_number"],d=$("#"+c[0]).val(),e=$("#"+c[1]).val();return e&&!d?{msg:b,id:a}:(d||(b=""),{msg:b,id:a})}},Ad={name:{msg:"Name can not be left blank.",id:"name_err"},location:{msg:"Please select your Location.",id:"loc_err"},exp:{msg:"Please select Experience.",id:"exp_err"},ctc:{msg:"Please select Salary.",id:"ctc_err"},mobNumber:wd("mob_number_err"),telNumber:wd("tel_pNumber_err"),teleCCode:xd("tel_cCode_err"),teleACode:zd("tel_aCode_err"),checkACCode:yd("tel_pNumber_err"),expRange:rd("exp_err","hid_exp-years-droope","hid_exp-months-droope",Gc,Hc),salaryRange:rd("ctc_err","hid_salary-lakh-droope","hid_salary-thousand-droope",Ic,Jc),cityRange:qd("loc_err","hid_location-droope",Ec),countryRange:qd("loc_err","hid_location-droope",Fc),city:{msg:"Please specify City.",id:"city_err"},otherLoc:{msg:"Special characters other than comma(,) hyphen(-) SingleQuote(') Dot(.) are not allowed.",regEx:/^[a-zA-Z0-9'\s&,.\-\(\)\/]+$/,id:"city_err"},1e3:{msg:"Special characters other than Space( ) SingleQuote(') Dot(.) are not allowed.",regEx:/^[a-zA-Z'\s.]+$/},1001:{msg:"Please specify 10 digit number.",regEx:/^\d{10}$/},1002:{msg:"Please enter number only.",regEx:/^[0-9]+$/},1003:{msg:"Mobile number can contain only 7-15 digits & can start with + sign.",regEx:/^(?!\+$)((^\+?[0-9]{7,15})|(^\+?[0-9]{7,15}))(\.[0-9]{8,15})?$/},1004:{msg:"Not a valid Id for ctc"}},Bd=window.interfaces,Cd=Bd.Virtual,Dd=function(a){function b(){Nb(this,b);var a=Sb(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments));return a.defaults={success:{title:"Success",icon:"Success",msg:"Saved successfully"},warning:{title:"Warning",icon:"Warning",msg:"Warning"},error:{title:"Error",icon:"Error",msg:"Website has encountered an error. Please check your internet connection and try again."}},a.state={animationKey:{},leaveClass:""},a.ts=(new Date).getTime(),a}return Rb(b,a),Ob(b,[{key:"createdCallback",value:function(){var a=this.props,b=a.id,c=a.messenger,d=c[b];d&&this.ts>d.ts&&this.hide()}},{key:"detachedCallback",value:function(){this.hide()}},{key:"shouldRender",value:function(a,b){var c=this;return!!(a&&this.ts<a.ts)&&(b&&window.setTimeout(function(){c.hide()},b),!0)}},{key:"hide",value:function(){this.props.hideMessenger(this.props.id)}},{key:"render",value:function(){var a=this.props,b=a.messenger,c=a.id,d=(a.type,a.title,a.msg,a.className),e=a.autoHideIn,f=b[c];e=e||f&&f.autoHideIn||0;var g=this.shouldRender(f,e);if(g){var h=f.type||h||"success",i=f.title||i||this.defaults[h].title||"",j=f.msg||j||this.defaults[h].msg||"",k=this.defaults[h].icon||this.defaults.Success.icon;return Cd.createElement("div",{className:d},Cd.createElement("div",{tabIndex:"0",className:"msgBox "+h},Cd.createElement("div",{className:"cnt"},Cd.createElement("i",{className:"icon"},k),Cd.createElement("p",{className:"head"},i),Cd.createElement("p",{className:"msg"},j))))}return null}}]),b}(Cd.PureComponent),Ed="SHOW_MESSENGER",Fd="HIDE_MESSENGER",Gd="FETCH_REQUEST",Hd="FETCH_SUCCESS",Id="SAVE_DNC_DATA",Jd="DNC_ACTION",Kd="CLEAR_PUSHDOWN",Ld=window.interfaces,Md=Ld.connect,Nd=function(a,b){return Qb({},b,{messenger:a.messenger})},Od=function(a){return{hideMessenger:function(b){a({type:Fd,payload:{id:b}})}}},Pd=Md(Nd,Od)(Dd),Qd=window.interfaces,Rd=Qd.Virtual,Sd=Qd.page,Td=function(a){function b(){Nb(this,b);var a=Sb(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments));return a.checkExp=a.checkExp.bind(a),a.state={fullName:a.props.userData.fullName,designation:a.props.empDetails.designation,cname:a.props.empDetails.cname,course:a.props.eduDetails.course&&a.props.eduDetails.course.value||"",institute:a.props.eduDetails.institute||"",expYears_keys:"fresher"===a.props.userData.workStatus?99:a.props.userData.expYears_keys,expMonths_keys:a.props.userData.expMonths_keys,currency:a.props.userData.currency,ctcLacs_keys:a.props.userData.ctcLacs_keys,ctcThousands_keys:a.props.userData.ctcThousands_keys,isNationalLocation:a.props.userData.isNationalLocation,country:a.props.userData.country||{},city:a.props.userData.city||{},mobCCode:a.props.userData.mobCCode||"+91",mobNum:a.props.userData.mobNum,telCCode:a.props.userData.telCCode,telACode:a.props.userData.telACode,telNum:a.props.userData.telNum,emailId:a.props.userData.emailId,isEmailVerified:a.props.userData.isEmailVerified,alternateEmail:a.props.userData.alternateEmail,isFresher:"fresher"===a.props.userData.workStatus,origin:a.props.origin,pAMessengerId:a.props.messengerId},a.formName="editBasicDetailsForm",a}return Rb(b,a),Ob(b,[{key:"attachedCallback",value:function(){this.initValidation(),this.setOtherLoc()}},{key:"handleChange",value:function(a,b){var c={};c[b]=a.target.value,this.setState(c)}},{key:"initValidation",value:function(){this.validator=window.commonValidator(),this.validator.validate({formNames:[this.formName],errors:Ad,focusOnError:!0,submitButton:"saveBasicDetailsBtn",styles:{parentObjectClass:"row",maxLevel:6,errorClass:"err"}})}},{key:"saveBasicDetails",value:function(a){var b=this;if(a.preventDefault(),this.validator&&this.validator.isValid()){var c=Qb({},this.state);c.ctcLacs_keys="string"==typeof c.ctcLacs_keys?parseInt(c.ctcLacs_keys.replace("#","")):c.ctcLacs_keys,c.ctcThousands_keys="string"==typeof c.ctcThousands_keys?parseInt(c.ctcThousands_keys.replace("#","")):c.ctcThousands_keys,this.props.saveBasicDetails(this.props.userDetails.profileId,c,function(a){"success"===a&&(d("spa-event","EditProfile","BasicDetails","Click"),b.props.closeDrawer())})}}},{key:"updateState",value:function(a,b,c){var d={};d[a]=b,"expYears_keys"==a&&b>5&&(this.resetDroope("exp-months-droope"),this.setState({expMonths_keys:""})),this.setState(d,function(){"undefined"!=typeof c&&c()})}},{key:"updateExp",value:function(a){var b={isFresher:"fresher"===a};b.isFresher&&(b.expYears_keys=99),this.setState(b),b.isFresher?this.setState({ctcLacs_keys:"",ctcThousands_keys:"",expYears_keys:"0",expMonths_keys:"0"}):(this.resetDroope("exp-months-droope"),this.resetDroope("exp-years-droope"),this.resetDroope("salary-lakh-droope"),this.resetDroope("salary-thousand-droope"),this.setState({ctcLacs_keys:"",ctcThousands_keys:"",expYears_keys:"",expMonths_keys:""}))}},{key:"updateSalary",value:function(a,b){var c=this;this.updateState(a,b,function(){parseInt(c.state.ctcLacs_keys)>50&&c.setState({ctcThousands_keys:""})})}},{key:"setOtherLoc",value:function(){var a=!this.state.isNationalLocation||this.state.city.value&&"other"==this.state.city.value.trim().toLowerCase().slice(-5);this.setState({isOtherLoc:a})}},{key:"resetDroope",value:function(a){var b=$("#"+a).data("droope");b&&b.reset()}},{key:"updateLocation",value:function(a,b){var c={};this.state.isNationalLocation?(c.country={id:11},c.city={id:parseInt(a),value:b,
subValue:""},c.isOtherLoc="other"==b.trim().toLowerCase().slice(-5)):(c.isOtherLoc=!0,c.country={id:parseInt(a)},c.city={id:9999,value:"Other",subValue:this.state.city.subValue}),this.setState(c)}},{key:"updateNationality",value:function(a,b){if(a!=this.state.isNationalLocation){var c={isNationalLocation:a,city:{id:"",value:"",subValue:""},country:{id:"",value:""},isOtherLoc:!a};this.setState(c,function(){setTimeout(function(){$("#hid_location-droope").attr("rel",b)},100)})}}},{key:"checkExp",value:function(){0==parseInt(this.state.expYears_keys)&&0==parseInt(this.state.expMonths_keys)?this.setState({isFresher:!0}):(parseInt(this.state.expYears_keys)>0||0==parseInt(this.state.expYears_keys)&&parseInt(this.state.expMonths_keys)>0)&&this.setState({isFresher:!1})}},{key:"handleOtherLocChange",value:function(a){var b={id:this.state.isNationalLocation?this.state.city.id:9999,subValue:a.target.value};this.setState({city:b})}},{key:"changeEmail",value:function(){this.props.closeDrawer(),setTimeout(function(){Sd("/mnjuser/settings/account")},10)}},{key:"render",value:function(){var a=this,b=this.state.isNationalLocation?Ec:Fc,c=this.state.isNationalLocation?this.state.city.id:0===this.state.country.id?9999:this.state.country.id,d=this.state.isNationalLocation?"cityRange":"countryRange",e=(this.state.expYears_keys&&parseInt(this.state.expYears_keys))<6,f=e,g=!(this.state.ctcLacs_keys&&parseInt(this.state.ctcLacs_keys)>50);return Rd.createElement("div",{className:"basic-details-component"},Rd.createElement(Pd,{id:"basicDetailsMessenger"}),Rd.createElement("form",{name:"editBasicDetailsForm",id:"editBasicDetailsForm",className:"container section editBasicDetailsForm lbpadding",action:"javascript:void(0)",noValidate:!0},Rd.createElement("div",{className:"row mb10"},Rd.createElement("div",{className:"hdn-bold col s12"},"Basic Details")),Rd.createElement("div",{className:"row"},Rd.createElement("div",{className:"input-field col s12"},Rd.createElement("span",{className:"lbl"},"Name"),Rd.createElement("input",{rel:"specialChar:1000",id:"name",type:"text",placeholder:"Enter Your Name",value:this.state.fullName,maxLength:"35",onChange:function(b){a.handleChange(b,"fullName")}}),Rd.createElement("div",{className:"err-container"},Rd.createElement("span",{className:"erLbl",id:"name_err"})))),this.state.course&&!this.state.designation&&Rd.createElement("div",{className:"row"},Rd.createElement("div",{className:"input-field col s12"},Rd.createElement("div",{className:"brkword"},Rd.createElement("b",null,this.state.course),this.state.institute&&Rd.createElement("b",null," at ",this.state.institute)),Rd.createElement("div",{className:"help mt5"},"To edit go to Education section."))),this.state.designation&&Rd.createElement("div",{className:"row"},Rd.createElement("div",{className:"input-field col s12"},Rd.createElement("div",{className:"brkword"},Rd.createElement("b",null,this.state.designation),this.state.cname&&Rd.createElement("b",null," at ",this.state.cname)),Rd.createElement("div",{className:"help mt5"},"To edit go to Employment section."))),Rd.createElement("div",{className:"row mb0"},Rd.createElement("div",{className:"col s8"},Rd.createElement("div",{className:"row"},(!this.state.designation||this.state.designation&&this.state.isFresher)&&Rd.createElement("div",null,Rd.createElement("p",{className:"col s6 mt10"},Rd.createElement("input",{className:"with-gap",name:"fresher-radio",type:"radio",id:"fresher-radio",checked:this.state.isFresher,onChange:function(b){a.updateExp("fresher")}}),Rd.createElement("label",{className:"radio-lbl",htmlFor:"fresher-radio"},"Fresher")),Rd.createElement("p",{className:"col s6 mt10"},Rd.createElement("input",{className:"with-gap",name:"exp-radio",type:"radio",id:"exp-radio",checked:!this.state.isFresher,onChange:function(b){a.updateExp("experienced")}}),Rd.createElement("label",{className:"radio-lbl",htmlFor:"exp-radio"},"Experienced"))),(!this.state.isFresher||this.state.designation&&this.state.isFresher)&&Rd.createElement("div",{className:"input-field col s12 mt20"},Rd.createElement("span",{className:"lbl required-field"},"Total Experience"),Rd.createElement("div",{className:"row"},Rd.createElement("div",{className:f?"col s6":"col s12"},Rd.createElement(ld,{id:"exp-years-droope",rel:"required:exp,custom:expRange",placeholder:"Years",data:Gc,postText:"Years",sortPrefix:"#",prefillData:[this.state.expYears_keys],iconName:"DownArrow",title:"true",onChange:function(b){a.updateState("expYears_keys",b,a.checkExp)},onError:function(a){},getInstance:function(a){}})),f&&Rd.createElement("div",{className:"col s6"},Rd.createElement(ld,{id:"exp-months-droope",rel:"custom:expRange",placeholder:"Months",data:Hc,postText:"Months",sortPrefix:"#",prefillData:[this.state.expMonths_keys],iconName:"DownArrow",title:"true",onChange:function(b){a.updateState("expMonths_keys",b,a.checkExp)},onError:function(a){}})),Rd.createElement("div",{className:"col s12 err-container"},Rd.createElement("span",{className:"erLbl",id:"exp_err"}))))),(!this.state.isFresher||this.state.designation&&this.state.isFresher)&&Rd.createElement("div",{className:"row"},Rd.createElement("div",{className:"input-field col s12 mt0"},Rd.createElement("span",{className:"lbl required-field"},"Annual Salary")),Rd.createElement("p",{className:"col s6 mt0"},Rd.createElement("input",{className:"with-gap",name:"currency-inr",type:"radio",id:"currency-inr",checked:"INR"===this.state.currency,onChange:function(b){a.updateState("currency","INR")}}),Rd.createElement("label",{className:"radio-lbl",htmlFor:"currency-inr"},"Indian Rupees")),Rd.createElement("p",{className:"col s6 mt0"},Rd.createElement("input",{className:"with-gap",name:"currency-usd",type:"radio",id:"currency-usd",checked:"INR"!==this.state.currency,onChange:function(b){a.updateState("currency","USD")}}),Rd.createElement("label",{className:"radio-lbl",htmlFor:"currency-usd"},"US Dollars")),Rd.createElement("div",{className:g?"col s6":"col s12"},Rd.createElement(ld,{id:"salary-lakh-droope",rel:"required:ctc,custom:salaryRange",placeholder:"Lacs",data:Ic,postText:"Lacs",sortPrefix:"#",prefillData:[this.state.ctcLacs_keys],iconName:"DownArrow",title:"true",onChange:function(b){a.updateSalary("ctcLacs_keys",b)},onError:function(a){}})),g&&Rd.createElement("div",{className:"col s6"},Rd.createElement(ld,{id:"salary-thousand-droope",placeholder:"Thousands",rel:"custom:salaryRange",data:Jc,postText:"Thousands",prefillData:[this.state.ctcThousands_keys],sortPrefix:"#",iconName:"DownArrow",title:"true",onChange:function(b){a.updateSalary("ctcThousands_keys",b)},onError:function(a){}})),Rd.createElement("div",{className:"col s12 err-container"},Rd.createElement("span",{className:"erLbl",id:"ctc_err"}))),Rd.createElement("div",{className:"row mb0"},Rd.createElement("div",{className:"input-field col s12"},Rd.createElement("span",{className:"lbl required-field"},"Current Location")),Rd.createElement("p",{className:"col s6 mt0"},Rd.createElement("input",{className:"with-gap",name:"location-country-india",type:"radio",id:"location-country-india",checked:this.state.isNationalLocation,onChange:function(b){a.updateNationality(!0,"required:location,custom:cityRange")}}),Rd.createElement("label",{className:"radio-lbl",htmlFor:"location-country-india"},"India")),Rd.createElement("p",{className:"col s6 mt0"},Rd.createElement("input",{className:"with-gap",name:"location-country-outside",type:"radio",id:"location-country-outside",checked:!this.state.isNationalLocation,onChange:function(b){a.updateNationality(!1,"required:location,custom:countryRange")}}),Rd.createElement("label",{className:"radio-lbl",htmlFor:"location-country-outside"},"Outside India")))),Rd.createElement("div",{className:"col s12"},Rd.createElement("div",{className:"row"},Rd.createElement("div",{className:"col s6"},Rd.createElement(ld,{id:"location-droope",rel:"required:location,custom:"+d,placeholder:this.state.isNationalLocation?"Select City":"Select Country",data:b,radioFlag:!0,prefillData:[c],sortPrefix:"#",iconName:"DownArrow",title:"true",onChange:function(b,c){a.updateLocation(b,c)},onError:function(a){}}),Rd.createElement("div",{className:"err-container"},Rd.createElement("span",{className:"erLbl",id:"loc_err"}))),this.state.isOtherLoc&&Rd.createElement("div",{className:"col s6"},Rd.createElement("input",{rel:"required:city,specialChar:otherLoc",placeholder:"Add City",id:"name",type:"text",value:this.state.city.subValue,maxLength:"35",onChange:function(b){a.handleOtherLocChange(b)}}),Rd.createElement("div",{className:"err-container"},Rd.createElement("span",{className:"erLbl",id:"city_err"}))))),Rd.createElement("div",{className:"col s8"},Rd.createElement("div",{className:"row mb0"},Rd.createElement("div",{className:"input-field col s12"},Rd.createElement("span",{className:"lbl required-field"},"Mobile Number"),Rd.createElement("div",{className:"row"},Rd.createElement("div",{className:"col s10"},Rd.createElement("input",{rel:"custom:mobNumber,specialChar:1003",id:"mob_number",type:"tel",value:this.state.mobNum,maxLength:"15",onChange:function(b){a.handleChange(b,"mobNum")}}),this.state.isNationalLocation?null:Rd.createElement("p",{className:"help mt5"},"No need to verify international mobile number on Naukri.")),Rd.createElement("div",{className:"col s12 err-container"},Rd.createElement("span",{className:"erLbl",id:"mob_number_err"}))))))),Rd.createElement("div",{className:"row mb0"},Rd.createElement("div",{className:"input-field col s12"},Rd.createElement("span",{className:"lbl"},"Telephone Number"),Rd.createElement("div",{className:"row"},Rd.createElement("div",{className:"col s3 pr0"},Rd.createElement("input",{rel:"custom:teleCCode",placeholder:"Country Code",id:"tel_cCode",type:"tel",value:this.state.telCCode,onChange:function(b){a.handleChange(b,"telCCode")}})),Rd.createElement("div",{className:"col s3 pr0"},Rd.createElement("input",{rel:"custom:teleACode,specialChar:1002",placeholder:"Area Code",id:"tel_aCode",type:"tel",value:this.state.telACode,maxLength:"10",onChange:function(b){a.handleChange(b,"telACode")}})),Rd.createElement("div",{className:"col s6"},Rd.createElement("input",{rel:"custom:telNumber,specialChar:1002,custom:checkACCode",placeholder:"Phone Number",id:"tel_pNumber",type:"tel",value:this.state.telNum,maxLength:"15",onChange:function(b){a.handleChange(b,"telNum")}})),Rd.createElement("div",{className:"col s12 err-container"},Rd.createElement("span",{className:"erLbl pr5",id:"tel_cCode_err"}),Rd.createElement("span",{className:"erLbl pr5",id:"tel_aCode_err"}),Rd.createElement("span",{className:"erLbl pr5",id:"tel_pNumber_err"}))))),Rd.createElement("div",{className:"row"},Rd.createElement("div",{className:"input-field col s12"},Rd.createElement("span",{className:"lbl required-field"},"Email Address")),Rd.createElement("div",{className:"col s12 mb5"},Rd.createElement("b",null,this.state.emailId)),Rd.createElement("div",{className:"col s12 mb5"},Rd.createElement("a",{href:"javascript:void(0)",onClick:function(b){a.changeEmail(b)}},"Change Email"))),Rd.createElement("div",{className:"row"},Rd.createElement("div",{className:"action s12"},Rd.createElement("a",{href:"javascript:void(0)",onClick:this.props.closeDrawer,"data-ga-track":"spa-event|EditProfile|BasicDetails|Cancel"},"CANCEL"),Rd.createElement("button",{type:"button",onClick:function(b){a.saveBasicDetails(b)},id:"saveBasicDetailsBtn",className:"waves-effect waves-light btn-large blue-btn"},"SAVE")))))}}]),b}(Rd.PureComponent),Ud="UPDATE_PERFORMANCE",Vd="UPDATE_DASHBOARD",Wd="UPDATE_PROFILE_DETAILS",Xd="RETAIN_LAST_SCROLL",Yd="UPDATE_INBOX",Zd="INIT_INBOX",$d="DELETE_CONVERSATION",_d="MARK_MAIL_AS_READ",ae="GET_CONVERSATION",be="CV_UPDATED",ce="GET_RESUME_FIELDS",de="CLEAR_RESUME_FIELDS",ee="GET_RECOMMEND_ACTION",fe="CLEAR_RECOMMEND_ACTION",ge={dashboard:!1,profile:!1,inbox:0},he=function(){var a=(new Date).toDateString().split(" ");return a[1]+" "+a[2]+", "+a[3]},ie={SCHOOL:1,EDUCATION:2,EMPLOYMENT:3},je=window.interfaces.Virtual,ke=function(a){function b(){Nb(this,b);var a=Sb(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments));return a.updateDNCAction=function(b){var c=a.props.dncData,d=a.props.dncData.call?a.props.dncData.call:"NDNC",e={CALL:d,RS:b},f="YES"==b?c.data[0]?c.data[0].url:"https://resume.naukri.com/resume-display":null;f&&d&&(f+=d&&"NDNC"==d?"?fftid=desk_optin_ndnc":"?fftid=desk_optin_dnc"),a.props.dncAction(e,f)},a}return Rb(b,a),Ob(b,[{key:"createdCallback",value:function(){}},{key:"componentWillUnmount",value:function(){}},{key:"componentDidMount",value:function(){setTimeout(function(){$(".dnc-wrapper").removeClass("dncClose"),$(".dnc-wrapper").addClass("dncOpen")},50)}},{key:"render",value:function(){var a=this,b=this.props.dncData;return je.createElement("div",null,je.createElement("div",{className:"dnc-container "},je.createElement("div",{className:"dnc-wrapper dncClose"},je.createElement("section",{className:"dnc-main-content"},je.createElement("div",{className:"dnc-logo"},je.createElement("div",{className:"dnc-logo-imag"},je.createElement("a",{href:"https://www.naukri.com",itemProp:"url",className:"fl nLogo"},je.createElement("img",{itemProp:"logo",src:"https://static.naukimg.com/s/4/100/i/naukri_Logo.png"})))),je.createElement("div",{className:"dnc-content"},b.data[0]?je.createElement("div",{className:"dnc-text-1 grey-text"},je.createElement("p",{className:"widgetTitle"},je.createElement("b",{dangerouslySetInnerHTML:{__html:b.data[0].title}})),je.createElement("p",{dangerouslySetInnerHTML:{__html:b.data[0].comm}})):je.createElement("div",{className:"dnc-text-1 grey-text"},je.createElement("p",{className:"widgetTitle"},je.createElement("b",null,"Get a Naukri featured profile and increase your visibility to recruiters by upto 3 times.  ")),je.createElement("p",null," Are you interested in knowing more about other benefits of Paid services? ")),je.createElement("div",{className:"dnc-button-wrapper"},je.createElement("div",{className:"dnc-button"},je.createElement("div",{className:"dnc-left-button",id:"b1"},je.createElement("form",{name:"skip",id:"skip"},je.createElement("button",{onClick:function(){return a.updateDNCAction("NO")},type:"button",className:"feedbackBtn waves-effect waves-light transparent"},"SKIP AND CONTINUE"))),je.createElement("div",{className:"dnc-right-button",id:"b2"},je.createElement("form",{name:"feedbackform",id:"feedbackform"},je.createElement("button",{onClick:function(){return a.updateDNCAction("YES")},type:"button",className:"feedbackBtn waves-effect waves-light btn-large blue-btn"},b.data[0]?b.data[0].cta:"Yes, I'm Interested"))))),je.createElement("div",{className:"dnc-text-2"},je.createElement("p",null,'We will seek your permission again in a month. However, you can change your permission anytime from your "Communication Settings" page after logging in to your Naukri account.')),je.createElement("div",{className:"dnc-text-3"},"DNC"===b.call?je.createElement("p",null,"Your number is currently registered with NDNC Registry. Because of NDNC you are missing out on critical information through voice/SMS/Chat messages on Naukri Paid Services which help enhance your profile to boost your job search."):""))),je.createElement("div",{className:"horizontal-line"}),je.createElement("footer",{className:"dnc-footer"},je.createElement("div",{className:"wrap"},"All rights reserved  2019 Info Edge (India) Ltd.")))))}}]),b}(je.PureComponent),le=window.interfaces,me=le.connect,ne=le.localforage,oe=function(a,b){return{dncData:a.dncData,redirectUrl:b.redirectUrl}},pe=function(){var a=new Date,b=a.setHours(24,0,0,0),c=ne.setItem("DNCSHOW",b);return c},qe=function(a){var b=ne.getItem(a.toUpperCase());return b},re=function(a,b){return{dncAction:function(b,c){$.ajaxPromise({url:Ib,datatype:"json",data:JSON.stringify(b),method:"POST",headers:{accept:"application/json","Content-Type":"application/json"}}).then(function(){a({type:Jd}),c&&(window.location.href=c)})}}},se=me(oe,re)(ke),te=function(a){return function(b){b({type:Gd,payload:{type:"block"}});var c=$.ajax({url:""+da,datatype:"json",headers:{accept:"application/json",clientid:"d3skt0p"}});return c.then(function(c){b({type:Vd,payload:Qb({},c.dashBoard)}),b({type:Hd}),"function"==typeof a&&a("success")},function(){"function"==typeof a&&a("error")}),c}},ue=function(a){return function(b){b({type:Gd,payload:{type:"block"}});var c=$.ajax({url:""+Ra+"?expand_level=3",datatype:"json",abortOnRouteChange:!1,headers:{accept:"application/json",clientid:"d3skt0p"},cache:!1});return c.then(function(a){if(a){var c=s(Qb({},a));b({type:Wd,payload:c}),b({type:Hd})}},function(b){"MNJFlow"==a&&p("profile",!0)}),c}},ve=function(){return function(a){qe("DNCSHOW").then(function(b){if((new Date).getTime()>b||null===b){var c=$.ajax({url:sb});c.then(function(b){pe().then(function(){}),(b.datediff>31||null===b.datediff||""===b.datediff)&&a({type:Id,payload:b})})}})}},we=function(a){var b=s(a);return{type:Wd,payload:b}},xe=function(a){var b=Qb({},a);if(!b||!b.isRecommendedActionsAvailable)return 0;delete b.isRecommendedActionsAvailable,delete b.showAppInstallBanner;var c=0,d=b.missingExperienceDetails;d.missingDurationMonths>3&&c++,delete b.missingExperienceDetails,b=Qb({},b,b.missingEducations),delete b.missingEducations;for(var e in b)b[e]&&c++;return c},ye=function(a){var b=Cb+"self/recommendedactions",c=t("nauk_at");return function(a){$.ajax({url:b,headers:{Accept:"application/json",Authorization:"Bearer "+c,AppId:105,SystemId:"js"},method:"GET"}).then(function(b){var c=xe(b);a({type:ee,payload:Qb({},b,{numOfRecoActions:c})})},function(){a({type:ee,payload:{numOfRecoActions:0}})})}},ze=function(){return function(a){a({type:fe,payload:{numOfRecoActions:0}})}},Ae={getDashboard:te,getMyProfile:ue,updateMyProfile:we,dncPageApi:ve,getRecommendAction:ye,clearRecommendAction:ze},Be=window.interfaces,Ce=Be.connect,De=function(a,b){var c=a.myProfile.empDetails||{},d=c.prefillId||-1,e=a.myProfile.self.eduList||[],f=e[0]||{};return{currentRoute:a.route.current,userData:a.myProfile.basicDetails||{},userDetails:a.userDetails,empDetails:c[d]||{},eduDetails:f||{},route:a.route,origin:"pendingAction"==b.origin?"pA":"profile",messengerId:b.messengerId||null}},Ee=function(a){var b={profiles:{name:a.fullName,city:a.city,country:a.country},user:{mobile:a.mobNum,residencePhone:{countryCode:a.telCCode,areaCode:a.telACode,phoneNumber:a.telNum}}};return"99"!=a.expYears_keys?(a.expYears_keys&&a.expYears_keys>5&&(a.expMonths_keys=""),a.ctcLacs_keys&&a.ctcLacs_keys>50&&(a.ctcThousands_keys="",a.ctcThousands_value=""),b.profiles.experience={year:a.expYears_keys&&parseInt(a.expYears_keys)||a.expYears_keys,month:a.expMonths_keys&&parseInt(a.expMonths_keys)||a.expMonths_keys},b.profiles.currency=a.currency,b.profiles.ctc={lacs:{id:a.ctcLacs_keys&&parseInt(a.ctcLacs_keys)||a.ctcLacs_keys,value:a.ctcLacs_value},thousands:{id:a.ctcThousands_keys&&parseInt(a.ctcThousands_keys)||a.ctcThousands_keys,value:a.ctcThousands_value}}):b.profiles.experience={year:99,month:""},b},Fe=function(a){var b=function(){a(Ae.getMyProfile("MNJFlow")).then(function(b){a(Ae.getDashboard())})},c=function(b,c){var d="success"===b?"dashboardMessenger":"basicDetailsMessenger";a({type:Ed,payload:c?{id:d,type:b,msg:c}:{id:d,type:b}}),"error"===b&&$(".msgBox").focus()},e=function(){var b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"basicDetailsMessenger";a({type:Fd,payload:{id:b}})};return{saveBasicDetails:function(a,f,g){var h=Ee(f),i=Ra+"/fullProfile/"+a;return e(),$.ajaxPromise({url:i,datatype:"json",data:JSON.stringify(h),method:"POST",headers:{accept:"application/json","X-HTTP-Method-Override":"PUT","Content-Type":"application/json"}}).then(function(a){b(),"pA"==f.origin&&(d("spa-event","EditProfile","basicDetails","Save"),$(window).scrollTop(0)),"undefined"!=typeof g&&g("success")},function(a){c("error"),d("spa-event","EditProfile","basicDetails","SaveError",a.status+a.statusText+JSON.stringify(h)+i),"undefined"!=typeof g&&g("error")})}}},Ge=Ce(De,Fe)(Td),He="FETCH_REQUEST",Ie="FETCH_FAILURE",Je=(u(),window.interfaces.Virtual),Ke=function(a){function b(){Nb(this,b);var a=Sb(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments));return a.closeDialog=function(){window.history.back()},a}return Rb(b,a),Ob(b,[{key:"initDrawer",value:function(){var a=this.props,b=a.defaultOpen,c=a.setInstance,d=a.params;this.confirmationBox_Instance=$("<div>").lightBox(Qb({model:$(this.confirmationBoxContainer),dimens:{width:"50%",height:"400px"},open:{event:"click",anim:"flipOpen",success:function(){$(window).resize()}},close:{layer:!1,anim:"flipClose"}},d)),b&&this.confirmationBox_Instance.open(),c&&c(this.confirmationBox_Instance)}},{key:"attachedCallback",value:function(){this.initDrawer()}},{key:"detachedCallback",value:function(){this.confirmationBox_Instance.destroy()}},{key:"render",value:function(){var a=this,b=this.props,c=(b.className,b.children,this.props.children({close:this.closeDialog}));return Je.createElement("div",{className:"lightbox",ref:function(b){a.confirmationBoxContainer=b}},c&&Je.Children.only(c))}}]),b}(Je.Component);Ke.defaultProps={defaultOpen:!1};var Le=0,Me=window.interfaces,Ne=Me.Virtual,Oe=function(a){function b(){Nb(this,b);var a=Sb(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments));a.errorHandler=function(b){var c=b.err,d=b.id,e=void 0===d?"photoMsgCont":d,f={msg:a.validataionMessage.oops};0===c.status&&"error"==c.statusText&&(f.msg="",f.autoHideIn=!1,f.forceUpdate=!1),a.showErrorMessage(Qb({id:e,type:"error"},f))},a.deletePhotoConfirmation=function(){a.deleteConfirmationInstance.open()},a.deletePhoto=function(){a.props.deletePhoto().then(function(){a.setState({isAvailable:!1,imgSrc:a.dummyImgSrc,uploadButtonText:"Upload Photo",status:null},function(){a.deleteConfirmationInstance.close(),a.ConfirmationBoxInstance.close()})})["catch"](function(b){a.errorHandler({err:b}),a.deleteConfirmationInstance.close()})},a.setCropperConfirmationInstance=function(b){a.CropperConfirmationInstance=b},a.setConfirmationInstance=function(b){a.ConfirmationBoxInstance=b},a.setDeleteConfirmationInstance=function(b){a.deleteConfirmationInstance=b},a.showDialog=function(){a.ConfirmationBoxInstance.open(),a.state.photoDialogInit||(a.loadPlugins(),a.setState({photoDialogInit:!0}))},a.myValidationCallbackNew=function(b){var c=b.fileUpload;"INVALID_EXTENSION"===c.errors[0]&&(document.getElementById("fileUpload").value="",a.showInlineErrorMessage(a.validataionMessage.fileFormat))},a.componentWillReceiveProps=function(b){var c={},d=a.props.photoInfo,e=b.photoInfo;if(a.state.uploadTempleateVisibility!==b.uploadTempleateVisibility&&(c.uploadTempleateVisibility=!0),d.isAvailable!==e.isAvailable){var f=e.isAvailable?ga+"?v="+(new Date).getTime():a.dummyImgSrc;c=Qb({},c,{isAvailable:e.isAvailable,imgSrc:f,status:e.status,uploadButtonText:e.isAvailable?"Change Photo":"Upload Photo"})}a.setState(Qb({},c))},a.cropperTemplate=function(b){var c=b.close;return Ne.createElement("div",{id:"cropPhLayer"},Ne.createElement(Pd,{id:"cropperMsgCont"}),Ne.createElement("div",{className:"crossLayer",onClick:c},Ne.createElement("span",{className:"icon"},"CrossLayer")),Ne.createElement("div",{className:"photoCropper cropper"},Ne.createElement("div",{className:"row left-align"},Ne.createElement("div",{className:"col s8 brdR"},Ne.createElement("h6",null,"Adjust Photo"),Ne.createElement("div",{className:"desc"},"Drag the box to adjust the position."),Ne.createElement("div",{className:"cropSec",id:"photoUploadCropArea"},Ne.createElement("span",{className:"cropSecImg",id:"imageContainer"},Ne.createElement("img",{id:"uploadedPhotoUrlFromDisk",src:"",width:"496",alt:"pic"}))),Ne.createElement("div",{className:"info"},"In case you are not satisfied with photo -",Ne.createElement("a",{className:"cancelLayer",href:"javascript:;",onClick:function(){a.CropperConfirmationInstance.close(),a.ConfirmationBoxInstance.open()}}," Change Photo "))),Ne.createElement("div",{className:"photoSec col s4"},Ne.createElement("h6",null,"Preview"),Ne.createElement("div",{className:"desc"},"This is how your photo will look."),Ne.createElement("div",{className:"row"},Ne.createElement("span",{className:"photoFrameOuter"},Ne.createElement("span",{className:"photoFrame",style:{width:"146px",height:"171px"}},Ne.createElement("img",{src:"",id:"photoFrame",alt:"pic",style:{width:"496px",height:"auto",padding:0}})))),Ne.createElement("div",{className:"row btm"},Ne.createElement("button",{className:"waves-effect waves-light btn-large blue-btn",id:"submit",onClick:function(){var b=document.querySelector("#photoCropper");a.savePhoto({fileKey:a.fileKey,formKey:a.formKey,coordinates:{x1:b.querySelector("#x1").value,x2:b.querySelector("#x2").value,y1:b.querySelector("#y1").value,y2:b.querySelector("#y2").value}})}},"SAVE PHOTO"))))))},a.photoTemplate=function(b){var c=b.close;return Ne.createElement("div",{id:"photoCropper",className:"photo-uploader-component  state changePhoto leave-active"},Ne.createElement("div",{className:"crossLayer",onClick:c},Ne.createElement("span",{className:"icon"},"CrossLayer")),Ne.createElement(Pd,{id:"photoMsgCont"}),Ne.createElement("div",{className:"photoCropper container"},Ne.createElement("div",{className:"row pR"},Ne.createElement("h5",null,"Profile Photo Upload"),a.state.isAvailable&&Ne.createElement("button",{className:"btnAsLink delBtn",onClick:a.deletePhotoConfirmation},"DELETE PHOTO")),Ne.createElement("p",{className:"subHead fs13"},"Profile with photo has 40% higher chances of getting noticed by recruiters."),Ne.createElement("div",{className:"croppedImg"},Ne.createElement("img",{onLoad:function(){a.props.endLoader()},width:"144",height:"144","data-plugin":"refresh",src:a.state.imgSrc}),Ne.createElement("section",{id:"slp",className:"slpWrp bg default"},Ne.createElement("div",{className:"floatCont"},Ne.createElement("section",{className:"pageC uploadImagePage"},Ne.createElement("div",{className:"action"},Ne.createElement("div",{className:"uploadContainer",id:"fileContNew"},Ne.createElement("input",{id:"fileUpload",name:a.formKey+"["+a.fileKey+"]",className:"fileUpload waves-effect waves-light btn-large",type:"file",title:a.state.isAvailable?" ":"",accept:"image/*",disabled:!a.state.isPluginLoaded,onChange:function(b){a.props.startLoader(),a.uploaderQUPNew.upload()}}),Ne.createElement("input",{type:"hidden",id:"ncUploaderPicUrl",name:"ncUploaderPicUrl",value:""})),Ne.createElement("div",{className:"add"},Ne.createElement("div",{id:"result"}),Ne.createElement("input",{value:a.state.uploadButtonText,type:"button",className:"btn btn-block dummyUpload",disabled:!a.state.isPluginLoaded})))))),a.state.fileSizeExceed&&Ne.createElement("p",{className:"error"},a.state.errorMessage),Ne.createElement("p",{className:"format"},"Supported file format: png, jpg, jpeg, gif - upto 3MB"),Ne.createElement("p",{className:"tc"},"By uploading your photograph, you certify that naukri.com has the right to display this photograph to the recruiters and that the uploaded file does not violate our ",Ne.createElement("a",{href:"https://my.naukri.com/StaticPages/guidelines",target:"_blank"},"Terms of services."))),Ne.createElement("div",{className:"cropContainer"},Ne.createElement("div",{className:"parentCropper"},Ne.createElement("img",{src:"",width:"100%",alt:""}),Ne.createElement("input",{type:"hidden",name:"x1",id:"x1",value:""}),Ne.createElement("input",{type:"hidden",name:"y1",id:"y1",value:""}),Ne.createElement("input",{type:"hidden",name:"x2",id:"x2",value:""}),Ne.createElement("input",{type:"hidden",name:"y2",id:"y2",value:""})),Ne.createElement("div",{className:"cropSave"},Ne.createElement("input",{value:"Cancel",type:"button",className:"btn greyBtn btnSpc no"}),Ne.createElement("input",{value:"Save",type:"button",className:"btn btnSpc yes"})))))},a.showInlineErrorMessage=function(b){a.setState({fileSizeExceed:!0,errorMessage:b}),a.props.endLoader()},a.showInlineErrorMessage_withForceUpdate=function(b){a.forceUpdatePhotoCropper({fileSizeExceed:!0,errorMessage:b})},a.forceUpdatePhotoCropper=function(){var b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a.ConfirmationBoxInstance.destroy(),a.ConfirmationBoxInstance=null,a.setState(Qb({uploadTempleateVisibility:!1},b),function(){a.props.forceUpdate(),setTimeout(function(){a.ConfirmationBoxInstance&&a.ConfirmationBoxInstance.open()},300)})},a.showErrorMessage=function(b){b.forceUpdate!==!1&&a.forceUpdatePhotoCropper(),a.props.showMessage(b)},a.cropperDialog=function(){var b={dimens:{width:"900px",height:"auto"},close:{layer:!1,anim:"flipClose",success:function(){a.setState({fileSizeExceed:!1})}}};return Ne.createElement(Ke,{params:b,setInstance:a.setCropperConfirmationInstance},function(b){var c=b.close;return a.cropperTemplate({close:c})})},a.photoDialog=function(){var b={dimens:{width:"50%",height:"auto"},close:{layer:!1,anim:"flipClose",success:function(){a.ConfirmationBoxInstance.destroy(),a.ConfirmationBoxInstance=null,a.setState({fileSizeExceed:!1,uploadTempleateVisibility:!1}),a.props.forceUpdate()}}};return Ne.createElement(Ke,{params:b,setInstance:a.setConfirmationInstance},function(b){var c=b.close;return a.photoTemplate({close:c})})},a.deleteDialogtemplate=function(){var b={dimens:{width:"35%",height:"180px"}};return Ne.createElement(Ke,{params:b,setInstance:a.setDeleteConfirmationInstance},function(b){var c,d=b.close;return Ne.createElement("div",{className:"confirmationBox profileSummaryConfirmation"},Ne.createElement("p",{className:"left-align"},"Are you sure you want to delete photo ?"),Ne.createElement("div",{className:"action right-align"},Ne.createElement("a",(c={className:"blue-text"},Pb(c,"className","cancelLayerDel"),Pb(c,"href","javascript:void(0)"),Pb(c,"onClick",function(){return d()}),c),"CANCEL"),Ne.createElement("button",{className:"waves-effect waves-light btn-large blue-btn",onClick:a.deletePhoto},"DELETE")))})},a.ChildComponent=function(){return Ne.React.Children.map(a.props.children,function(b){var c={};return c="img"===b.type?{onClick:a.showDialog,src:a.state.imgSrc}:{onClick:a.showDialog},Ne.React.cloneElement(b,c)})},a.validataionMessage={fileSize:"The file you uploaded exceeds the max supported size of 3 MB. Please upload a file less than 3 MB in size.",oops:"Website has encountered an error. Please check your internet connection and try again.",fileFormat:"Please ensure that you are uploading a supported file format of max size 3MB.",extention:"Only PNG, JPG, JPEG, and GIF files are allowed"},a.ConfirmationBoxInstance=null,a.dummyImgSrc=Z+"/i/user/userdp.svg",a.fileKey="U"+A(),a.formKey="Fjb56fnotys359";var c=a.props.photoInfo,d=c.isAvailable,e=c.status;return a.state={imgSrc:d?ga+"?v="+(new Date).getTime():a.dummyImgSrc,isAvailable:d,isPluginLoaded:!1,uploadButtonText:d?"Change Photo":"Upload Photo",errorMessage:null,photoDialogInit:!1,status:e,uploadTempleateVisibility:!0,fileSizeExceed:!1},a}return Rb(b,a),Ob(b,[{key:"savePhoto",value:function(a){var b=this;this.props.savePhoto({photo:a,userType:"fresher"}).then(function(){b.setState({isAvailable:!0,imgSrc:ga+"?v="+(new Date).getTime(),uploadButtonText:"Change Photo",status:"Pending"},function(){b.ConfirmationBoxInstance.close(),b.CropperConfirmationInstance.close(),"pA"==b.props.origin&&(b.props.updateDashboard(),b.props.showMessenger("success","Your photo has been successfully saved.","pendingActionMessenger"),$(window).scrollTop(0))})})["catch"](function(a){b.errorHandler({err:a,id:"cropperMsgCont"})})}},{key:"loadPlugins",value:function(){var a=this,b=Ta;window.myUploadCallbackNew=function(b){a.props.endLoader(),b[a.fileKey]&&b[a.fileKey].URL?($("#ncUploaderPicUrl").val(b[a.fileKey].URL),a.ConfirmationBoxInstance.close(),a.CropperConfirmationInstance.open(),v("loadingImg","cropPhLayer",b[a.fileKey].URL)):b[a.fileKey]&&b[a.fileKey].ERROR?"MAX_FILE_SIZE"==b[a.fileKey].ERROR&&(document.getElementById("fileUpload").value="",a.showInlineErrorMessage_withForceUpdate(a.validataionMessage.fileSize)):a.showErrorMessage({
id:"photoMsgCont",msg:b[a.fileKey].ERROR,type:"error",title:"Error"})},requirejs([b,Ua],function(b){a.uploaderQUPNew=new ncUploader({appId:105,forceBasicUploader:!0,containerId:"fileContNew",fileId:"fileUpload",target:Va,extensions:["png","jpg","jpeg","gif"],basicProgressBarId:"uploadPicLoading",callbackUrl:"/Profile/uploadcallbackNew",callback:myUploadCallbackNew,validationCallback:a.myValidationCallbackNew}),a.setState({isPluginLoaded:!0})})}},{key:"render",value:function(){var a=this.state.status;return Ne.createElement("div",{className:"photoTrigger"},this.ChildComponent(),this.props.photoStatus&&("Pending"===a||"Rejected"===a)&&Ne.createElement("div",{onClick:this.showDialog,className:"photoBadge "+a},Ne.createElement("div",{className:"label"},"Pending"===a?"Approval Pending":a),"Rejected"===a&&Ne.createElement("div",{className:"rejected"})),Ne.createElement("span",null,this.state.uploadTempleateVisibility&&Ne.createElement("span",null,this.photoDialog()),this.cropperDialog()),this.deleteDialogtemplate())}}]),b}(Ne.Component),Pe=function(a){var b=a.id,c=a.msg,d=a.type,e=a.autoHideIn,f=a.title;return function(a){"error"===d?e!==!1&&(e=8e3):e=5e3,a({type:"SHOW_MESSENGER",payload:{id:b,msg:c,type:d,autoHideIn:Number(e),title:f}})}},Qe=window.interfaces,Re=Qe.connect,Se=Qe.Virtual,Te=function(a,b){return Qb({photoInfo:a.myProfile.photoUpload.photoInfo||{},origin:"pendingAction"==b.origin?"pA":"profile",photoStatus:b.photoStatus!==!1},b)},Ue=function(a,b){return{startLoader:function(){a({type:He,payload:{type:"block"}})},endLoader:function(){a({type:Ie})},deletePhoto:function(b){var c=$.ajax({url:Sa,method:"POST",data:JSON.stringify({userType:"fresher"}),headers:{Accept:"application/json","Content-Type":"application/json","X-HTTP-Method-Override":"DELETE"}});return c.then(function(){a(Ae.getDashboard()),d("spa-event","deletePhoto","photoUpload","Set")}),c},savePhoto:function(b,c){a({type:He});var e=$.ajax({url:Sa,data:JSON.stringify(b),method:"POST",datatype:"file",abortOnRouteChange:!1,headers:{Accept:"application/json","Content-Type":"application/json"}});return e.then(function(){a(Ae.getDashboard()),d("spa-event","savePhoto","photoUpload","Set")}),e},updateDashboard:function(){return a(Ae.getDashboard())},showMessage:function(b){return a(Pe(b))}}},Ve=B(Oe),We=Re(Te,Ue)(Ve),Xe=window.interfaces,Ye=Xe.Virtual,Ze=function(a){function b(){Nb(this,b);var a=Sb(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments));return a.state={isNumberVerified:!1,interval:null,numberVerified:"hide",numberPending:"hide",numberInfo:"show"},a}return Rb(b,a),Ob(b,[{key:"attachedCallback",value:function(){var a=this,b={mobile:this.props.userData.mobNum};window.setTimeout(function(){a.props.verifyMobile(b)},1e3)}},{key:"checkStatus",value:function(){var a=this,b=a.props.checkMobileStatus();b.then(function(b){a.props.hideLoader(),b.data.user.isMobileVerified?(a.setState({numberPending:"hide",numberVerified:"show",numberInfo:"hide",isNumberVerified:!0}),a.props.updateStore()):a.setState({numberPending:"show",numberVerified:"hide",numberInfo:"hide",isNumberVerified:!1})},function(b){a.props.showMessenger("error","Something went wrong. Please try again")})}},{key:"render",value:function(){var a=this;return Ye.createElement("div",{className:"mobileVerification"},Ye.createElement(Pd,{id:"verifyMobileMessenger",autoHideIn:"4000"}),Ye.createElement("div",{className:"drawer-content lbpadding "+this.state.numberInfo},Ye.createElement("div",{className:"row main"},Ye.createElement("div",{className:"col s12 mb20"},Ye.createElement("div",{className:"hdn"},"Give a missed call on +91 9210822122 to verify"),Ye.createElement("p",{className:"grey-text fs13 mt5 mb5"},"Your mobile number ",this.props.userData.mobNum)),Ye.createElement("div",{className:"col s12 center mb20"},Ye.createElement("img",{src:Z+"/i/MobileVerify.png"}))),Ye.createElement("div",{className:"row grey-text-light info"},Ye.createElement("span",{className:"fs13"},"After giving a missed call, ",Ye.createElement("a",{href:"javascript:void(0)",onClick:function(b){a.checkStatus(b)}},"Click here "),"to check your status."))),Ye.createElement("div",{className:"drawer-content lbpadding mobileVerified "+this.state.numberVerified},Ye.createElement("div",{className:"row main"},Ye.createElement("div",{className:"col s12 mb20"},Ye.createElement("div",{className:"hdn center"},this.props.userData.mobNum)),Ye.createElement("div",{className:"col s12 center mb20"},Ye.createElement("img",{src:Z+"/i/Success.png"}))),Ye.createElement("div",{className:"row center"},Ye.createElement("span",{className:"fs13"},"Your mobile number has been verified"),Ye.createElement("div",{className:"mt15 hdn center succ-msg-text"},"Successfully"))),Ye.createElement("div",{className:"drawer-content mobilePending "+this.state.numberPending},Ye.createElement("div",{className:"row main"},Ye.createElement("div",{className:"col s12 center mb20"},Ye.createElement("img",{src:Z+"/i/404.png"}),Ye.createElement("div",{className:"hdn2"},"Please try again..."))),Ye.createElement("div",{className:"row center"},Ye.createElement("span",{className:"fw500"},"Give a missed call on +91 9210822122 to verify"))))}}]),b}(Ye.PureComponent),$e=window.interfaces,_e=$e.connect,af=function(a,b){return{userDetail:a.userDetails,closeDrawer:b.closeDrawer,userData:a.myProfile.basicDetails||{},isMobileNumberVerified:a.myProfile.self.isMobileNumberVerified||!1,route:a.route}},bf=function(a){var b=function(b,c){var d="verifyMobileMessenger";a({type:Ed,payload:{id:d,type:b,msg:c}}),"error"===b&&$(".msgBox").focus()},c=function(){var b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verifyMobileMessenger";a({type:Fd,payload:{id:b}})};return{verifyMobile:function(a){return c(),$.ajaxPromise({url:""+fa,datatype:"json",data:JSON.stringify(a),method:"POST",loader:!1,headers:{accept:"application/json","Content-Type":"application/json"}}).then(function(a){},function(a){b("error","Something went wrong. Please try again")})},checkMobileStatus:function(){a({type:Gd,payload:{type:"block"}});var b=$.ajaxPromise({url:""+qa,contentType:"application/json",headers:{accept:"application/json"},method:"GET"});return b},updateStore:function(){a(Ae.getMyProfile())},updateDashoboard:function(){a(Ae.getDashboard())},showMessenger:function(){b("error","Something went wrong. Please try again")},hideLoader:function(){a({type:Hd})}}},cf=_e(af,bf)(Ze),df=window.interfaces.Virtual,ef=function(a){function b(){Nb(this,b);var a=Sb(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments));return a.state={isEmailVerificationLinkSent:!1,resendCheck:0},a}return Rb(b,a),Ob(b,[{key:"attachedCallback",value:function(){}},{key:"verifyEmail",value:function(){var a=this,b=this,c=this.props.emailType&&"secondary"==this.props.emailType,d={verifyPrimaryEmail:!c,verifySecondaryEmail:c};b.props.verifyEmail(d,function(c){"success"===c&&b.setState({isEmailVerificationLinkSent:!0,resendCheck:a.state.resendCheck+1})})}},{key:"render",value:function(){var a=this.props.emailType&&"secondary"==this.props.emailType,b={emailId:this.props.userData.emailId,alternateEmail:this.props.userData.alternateEmail},c="";return this.state.resendCheck>=2&&(c="disableClass"),df.createElement("div",{className:"email-verification-component"},df.createElement(Pd,{id:"emailVerificationMessenger"}),df.createElement("div",{className:"row main lbpadding mb5"},df.createElement("div",{className:"col s12 mb20"},df.createElement("div",{className:"hdn"},"To verify your email - ",a?b.alternateEmail:b.emailId),df.createElement("span",{className:"grey-text fs13"},"Verification is intended to confirm that the email entered in your resume is authentic")),df.createElement("div",{className:"col s12 center mb20"},df.createElement("img",{src:Z+"/i/EmailVerify.jpg"})),df.createElement("div",{className:"col s12 center mb20"},this.state.isEmailVerificationLinkSent?df.createElement("div",null,df.createElement("div",null,df.createElement("strong",null,"Verification link has been sent to your email id")),df.createElement("div",{className:"center"},df.createElement("a",{href:"javascript:void(0)",onClick:this.state.resendCheck<2?this.verifyEmail.bind(this):null,className:c},"RESEND VERIFICATION LINK"))):df.createElement("button",{onClick:this.verifyEmail.bind(this),className:"waves-effect waves-light btn-large blue-btn",type:"submit"},"Request Verification Email")),df.createElement("div",{className:"col s12 center"},df.createElement("span",{className:"grey-text pb25 seperator fs13"},"You will receive an email from Naukri in your mail account. Click on the link given in mail to verify your email address."))),df.createElement("div",{className:"row center"},df.createElement("div",null,df.createElement("strong",null,"A verified Email ID helps your job search. Here's how:")),df.createElement("div",{className:"grey-text-light"},df.createElement("div",null,df.createElement("small",null,"1. Recruiters prefer sending jobs as email only to candidates with verified Email ID")),df.createElement("div",null,df.createElement("small",null,"2. You now can apply to jobs in your inbox with just a single click. Know more")),df.createElement("div",null,df.createElement("small",null,"3. By having a verified Email ID you can increase chances of the right job finding you")))))}}]),b}(df.PureComponent),ff=window.interfaces,gf=ff.connect,hf=function(a){return{userData:a.myProfile.basicDetails||{}}},jf=function(a){var b=function(){a(Ae.getDashboard(function(){a(Ae.getMyProfile())}))},c=function(b,c){var d="success"===b?"dashboardMessenger":"emailVerificationMessenger";a({type:Ed,payload:c?{id:d,type:b,msg:c}:{id:d,type:b}}),"error"===b&&$(".msgBox").focus()},d=function(){var b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"emailVerificationMessenger";a({type:Fd,payload:{id:b}})};return{verifyEmail:function(a,b){return d(),$.ajaxPromise({url:""+ea,datatype:"json",data:JSON.stringify(a),method:"POST",headers:{accept:"application/json","Content-Type":"application/json",clientid:"d3skt0p"}}).then(function(a){"undefined"!=typeof b&&b("success")},function(a){c("error"),"undefined"!=typeof b&&b("error")})},updateStore:function(){b()}}},kf=gf(hf,jf)(ef);C.Priority={LOW:1,NORMAL:2,HIGH:4},C.BasicCacheStorage=function(){this.items_={},this.count_=0},C.BasicCacheStorage.prototype.get=function(a){return this.items_[a]},C.BasicCacheStorage.prototype.set=function(a,b){"undefined"==typeof this.get(a)&&this.count_++,this.items_[a]=b},C.BasicCacheStorage.prototype.size=function(a,b){return this.count_},C.BasicCacheStorage.prototype.remove=function(a){var b=this.get(a);return"undefined"!=typeof b&&this.count_--,delete this.items_[a],b},C.BasicCacheStorage.prototype.keys=function(){var a,b=[];for(a in this.items_)b.push(a);return b},C.LocalStorageCacheStorage=function(a){this.prefix_="cache-storage."+(a||"default")+".";var b=this.prefix_.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&");this.regexp_=new RegExp("^"+b)},C.LocalStorageCacheStorage.prototype.get=function(a){var b=window.localStorage[this.prefix_+a];return b?JSON.parse(b):null},C.LocalStorageCacheStorage.prototype.set=function(a,b){window.localStorage[this.prefix_+a]=JSON.stringify(b)},C.LocalStorageCacheStorage.prototype.size=function(a,b){return this.keys().length},C.LocalStorageCacheStorage.prototype.remove=function(a){var b=this.get(a);return delete window.localStorage[this.prefix_+a],b},C.LocalStorageCacheStorage.prototype.keys=function(){var a,b=[];for(a in window.localStorage)a.match(this.regexp_)&&b.push(a.replace(this.prefix_,""));return b},C.prototype.getItem=function(a){var b=this.storage_.get(a);null!=b&&(this.isExpired_(b)?(this.removeItem(a),b=null):b.lastAccessed=(new Date).getTime());var c=b?b.value:null;return c?(this.stats_.hits++,this.log_("Cache HIT for key "+a)):(this.stats_.misses++,this.log_("Cache MISS for key "+a)),c},C._CacheItem=function(a,b,c){if(!a)throw new Error("key cannot be null or empty");this.key=a,this.value=b,c=c||{},c.expirationAbsolute&&(c.expirationAbsolute=c.expirationAbsolute.getTime()),c.priority||(c.priority=C.Priority.NORMAL),this.options=c,this.lastAccessed=(new Date).getTime()},C.prototype.setItem=function(a,b,c){if(null!=this.storage_.get(a)&&this.removeItem(a),this.addItem_(new C._CacheItem(a,b,c)),this.log_("Setting key "+a),this.maxSize_>0&&this.size()>this.maxSize_){var d=this;setTimeout(function(){d.purge_.call(d)},0)}},C.prototype.clear=function(){for(var a=this.storage_.keys(),b=0;b<a.length;b++)this.removeItem(a[b]);this.log_("Cache cleared")},C.prototype.getStats=function(){return this.stats_},C.prototype.toHtmlString=function(){for(var a=this.size()+" item(s) in cache<br /><ul>",b=this.storage_.keys(),c=0;c<b.length;c++){var d=this.storage_.get(b[c]);a=a+"<li>"+d.key.toString()+" = "+d.value.toString()+"</li>"}return a+="</ul>"},C.prototype.resize=function(a){this.log_("Resizing Cache from "+this.maxSize_+" to "+a);var b=this.maxSize_;this.maxSize_=a,a>0&&(b<0||a<b)&&this.size()>a&&this.purge_(),this.log_("Resizing done")},C.prototype.purge_=function(){var a=new Array,b=Math.round(this.maxSize_*this.fillFactor_);this.maxSize_<0&&(b=this.size()*this.fillFactor_);for(var c=this.storage_.keys(),d=0;d<c.length;d++){var e=c[d],f=this.storage_.get(e);this.isExpired_(f)?this.removeItem(e):a.push(f)}if(a.length>b)for(a=a.sort(function(a,b){return a.options.priority!=b.options.priority?b.options.priority-a.options.priority:b.lastAccessed-a.lastAccessed});a.length>b;){var g=a.pop();this.removeItem(g.key)}this.log_("Purged cached")},C.prototype.addItem_=function(a,b){try{this.storage_.set(a.key,a)}catch(c){if(b)throw this.log_("Failed setting again, giving up: "+c.toString()),c;this.log_("Error adding item, purging and trying again: "+c.toString()),this.purge_(),this.addItem_(a,!0)}},C.prototype.removeItem=function(a){var b=this.storage_.remove(a);return this.log_("removed key "+a),b&&b.options&&b.options.callback&&setTimeout(function(){b.options.callback.call(null,b.key,b.value)},0),b?b.value:null},C.prototype.removeWhere=function(a){for(var b=this.storage_.keys(),c=0;c<b.length;c++){var d=b[c],e=this.storage_.get(d);a(d,e.value)===!0&&this.removeItem(d)}},C.prototype.size=function(){return this.storage_.size()},C.prototype.isExpired_=function(a){var b=(new Date).getTime(),c=!1;if(a.options.expirationAbsolute&&a.options.expirationAbsolute<b&&(c=!0),!c&&a.options.expirationSliding){var d=a.lastAccessed+1e3*a.options.expirationSliding;d<b&&(c=!0)}return c},C.prototype.log_=function(a){this.debug_},C.UserDataCacheStorage=function(a){var a=a,b=document.createElement("div");b.style.display="none",document.getElementsByTagName("head")[0].appendChild(b),b.addBehavior("#default#userdata"),this.get=function(c){b.load(a);var d=b.getAttribute(c);return d?$.parseJSON(d):null},this.set=function(c,d){b.load(a),b.setAttribute(c,$.stringify(d)),b.save(a)},this.size=function(a,c){return b.XMLDocument.documentElement.attributes.length},this.remove=function(c){b.load(a),b.removeAttribute(c),b.save(a)},this.keys=function(){b.load(a);for(var c,d=-1,e=[];c=b.XMLDocument.documentElement.attributes[++d];)e.push(c.name);return e}};var lf=ncCacheFactory=window.ncCacheFactory=function(){};ncCacheFactory.getCache=function(a,b){if("undefined"==typeof a||parseInt(a)<=0)throw new"Invalid app id: "+a;b=b||"localStorage";var c=window.navigator.userAgent.match(/MSIE 7/),d=null;if("localStorage"==b&&(c?d=new C.UserDataCacheStorage(String(a)):"undefined"!=typeof window.localStorage&&(d=new C.LocalStorageCacheStorage(String(a)))),null==d)throw"Unsupported storage type: "+b;return new C((-1),(!1),d)};var mf=window.interfaces,nf=mf.Virtual,of=mf.page,pf=function(a){function b(){Nb(this,b);var a=Sb(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments));return a.state={isEditLayerVisible:!1,isEmailVerificationLinkSent:!1,renderBasicDetails:!1,renderMobileVerify:!1,renderEmailVerify:!1},a.incompleteActions={Desired_Location:"Add Preferred Location",Text_CV:"Add Resume",Upload_Photo:"Add Photo",Job_Summary:"Add Job Summary",Language_Details:"Add Languages",Professional_Summary_details:"Add Profile Summary",Resume_Headline:"Add Resume Headline",Personal_Details:"Add Personal Details",Mobile_Verify:"Verify Mobile Number",Email_Verify:"Verify Email",Key_Skills:"Add Key Skills",Educational_Qualification:"Add Educational Qualifications",Industry_Type:"Add Industry Type",Farea_and_IT_skills:"Add Functional Area",IT_Farea_and_IT_skills_not_filled:"Add IT Skills",Company_Name_and_Designation:"Add Company Name and Designation",Project_Summary_details:"Add Project Summary",Update_Mobile:"Add Mobile"},a.verifyEmail=a.verifyEmail.bind(a),a.drawers={verifyEmail:{triggerNode:null,container:null,closeNodeSel:".crossLayer",settings:{model:null,dimens:{width:"50%"},open:{event:"click",anim:"flipOpen",success:function(){a.setState({renderEmailVerify:!0},function(){$(window).resize()})}},close:{layer:!1,anim:"flipClose",nodes:null,success:function(){a.setState({renderEmailVerify:!1},function(){a.props.updateStore()})}}}},basicDetails:{triggerNode:null,container:null,closeNodeSel:".crossLayer",settings:{model:null,dimens:{width:"685px"},open:{event:"click",anim:"flipOpen",minTop:100,success:function(){a.setState({renderBasicDetails:!0},function(){$(window).resize()})}},close:{layer:!1,anim:"flipClose",nodes:null,success:function(){a.setState({renderBasicDetails:!1})}}}},mobileVerify:{triggerNode:null,container:null,closeNodeSel:".crossLayer",settings:{model:null,dimens:{width:"50%"},open:{event:"click",anim:"flipOpen",success:function(){a.setState({renderMobileVerify:!0},function(){$(window).resize()})}},close:{layer:!1,anim:"flipClose",nodes:null,success:function(){a.setState({renderMobileVerify:!1})}}}}},a}return Rb(b,a),Ob(b,[{key:"getProfileStrength",value:function(a){var b="";return b=a>=85?"Excellent":a>=70?"Good":a>=50?"Average":"Below Average"}},{key:"openDrawer",value:function(a){var b=this.drawers[a];b.instance||(b.settings.model=$(b.container),b.settings.close.nodes=$(b.closeNodeSel),b.instance=$(b.triggerNode).lightBox(b.settings)),b.instance&&b.instance.open()}},{key:"closeDrawer",value:function(a){window.history.back()}},{key:"updateGNB",value:function(a){$(".notiTuple");$("#rJobCntr").html(a.newCount<10?"0"+a.newCount:a.newCount);var b=a.criticalActions.noti_count<10?"0"+a.criticalActions.noti_count:a.criticalActions.noti_count;if($(".notiTuple[type='criticalActions']").length)$(".notiTuple[type='criticalActions'] .notiCount").html(b),$(".notiTuple[type='criticalActions'] .noti_Description").html(a.criticalActions.noti_description);else{var c='<li class="notiTuple" type="criticalActions"><a target="_blank" href="https://www.naukri.com/mnjuser/pendingAction"><span class="notiLabel">Pending Actions</span> <span class="notiCount">'+b+'</span><p><span class="noti_Description  fullWidth">'+a.criticalActions.noti_description+"</span></p></a></li>";$(".notification.subMenu ul").append(c)}}},{key:"getPendingActions",value:function(a){var b=this,c=Object.keys(a),d=lf.getCache("gnbCache").getItem("notification");d&&(c.length>0&&!d.criticalActions&&(d.criticalActions.noti_count=0,d.criticalActions.total_count=0),d&&d.criticalActions&&d.criticalActions.noti_count!=c.length&&(d.newCount||(d.newCount=0),d.criticalActions.noti_count||(d.criticalActions.noti_count=0),d.newCount=(d.newCount.toString().indexOf("|")>-1?d.newCount.split("|")[0]:d.newCount)-d.criticalActions.noti_count+c.length,d.criticalActions.total_count=c.length,d.criticalActions.noti_count=c.length,d.tuple.criticalActions||(d.tuple.criticalActions={}),d.tuple.criticalActions.noti_count=c.length,d.tuple.criticalActions.total_count=c.length,c[c.length-1]&&(d.criticalActions.noti_description=c[c.length-1].replace(/_/g," "),d.tuple.criticalActions.noti_description=c[c.length-1].replace(/_/g," ")),this.updateGNB(d),lf.getCache("gnbCache").setItem("notification",d)));var e=[];if(c.length>0){for(var f=0;f<c.length&&(e.push(c[f]),!(f>1));f++);return nf.createElement("div",{className:"col s4 pad0"},nf.createElement("div",{className:"pending-actions dark-blue-bg card white-text mb0 cursor",onClick:function(a){of("/mnjuser/pendingAction")}},nf.createElement("div",{className:"hdn mb15"},c.length," Pending Action(s)"),nf.createElement("div",{className:"detail-list"},e.map(function(a,c){var d=b.incompleteActions[a];return d?nf.createElement("div",{className:"detail-item",key:c},d):""})),nf.createElement("div",{className:"row mb0"},nf.createElement("div",{className:"col s12 viewall-wrapper"},nf.createElement("a",{href:"javascript:void(0)",className:"right white-text fs14 fw500"},"VIEW ALL")))))}return nf.createElement("div",{className:"col s4 tips"},nf.createElement("div",{className:"pending-actions dark-blue-bg card white-text mb0 cursor",onClick:function(a){of("/mnjuser/pendingAction")}},nf.createElement("div",{className:"hdn mb20"},"Pending Action(s)"),nf.createElement("div",{className:"detail-list"},nf.createElement("div",{className:"detail-item"},"Please complete your pending actions to make your profile attractive to recruiters.")),nf.createElement("div",{className:"row mb0"},nf.createElement("div",{className:"col s12 viewall-wrapper"},nf.createElement("a",{href:"javascript:void(0)",className:"right white-text fs14 fw500"},"VIEW ALL")))))}},{key:"verifyEmail",value:function(){var a=this,b={verifyPrimaryEmail:!0,verifySecondaryEmail:!1};a&&a.props.verifyEmail(b,function(b){"success"===b&&a.setState({isEmailVerificationLinkSent:!0})})}},{key:"render",value:function(){var a=this,b=this.props,c=b.userDetails,d=b.userData,e=b.empDetails,f=b.userOtherData,g={profileImgUrl:c.profileImgUrl||"",fullName:d.fullName,designation:e.designation,cname:e.cname,city:d.city&&(9999==d.city.id?d.city.subValue||"":d.city.subValue||d.city.value||""),country:d.city&&d.country.value||"",expYears_keys:d.expYears_keys,expMonths_keys:d.expMonths_keys,currency:d.currency,ctcLacs_value:d.ctcLacs_value||"",ctcThousands_value:d.ctcThousands_value||"",mobCCode:d.mobCCode||"+91",mobNum:d.mobNum,isMobileNumberVerified:d.isMobileNumberVerified,emailId:d.emailId,isEmailVerified:d.isEmailVerified,pc:c.pc,workStatus:d.workStatus,industry:f.industry},h=g.expYears_keys?g.expYears_keys>30?"30+ Years":g.expYears_keys+" Year(s)":"",i=g.expMonths_keys&&0!=g.expMonths_keys?g.expMonths_keys+" Month(s)":"",j=h+" "+i,k="fresher"!==g.workStatus&&(g.ctcLacs_value?g.ctcLacs_value+" Lakh(s) "+("0"!=g.ctcThousands_value?g.ctcThousands_value+" Thousand":""):"Salary");return nf.createElement("div",{className:"dashboard-component"},nf.createElement(Pd,{id:"dashboardMessenger",autoHideIn:"4000"}),nf.createElement("div",{className:"dashboard blue-bg card"},g.emailId?nf.createElement("div",{className:"row mb0"},nf.createElement("div",{className:"col s8 pad0"},nf.createElement("div",{className:"row mb0"},nf.createElement("div",{className:"img-wrapper col s2 center","data-ga-track":"spa-event|EditProfile|UploadPhoto|EditOpen"},nf.createElement(We,null,nf.createElement("img",{className:"user-img"}),nf.createElement("em",{className:"icon upload",title:"Upload"},"Camera"))),nf.createElement("div",{className:"txt-wrapper pr0 col s10 white-text"},nf.createElement("div",{className:"row"},nf.createElement("div",{className:"col s12"},nf.createElement("div",{className:"hdn mb5"},nf.createElement("span",{className:"fullname"},g.fullName||"Add Name"),nf.createElement("span",{className:"hide",ref:function(b){a.drawers.basicDetails.triggerNode=b}},"Edit"),nf.createElement("em",{className:"icon edit",onClick:function(b){a.openDrawer("basicDetails",b)},"data-ga-track":"spa-event|EditProfile|BasicDetails|EditOpen"},"Edit")),nf.createElement("div",{className:"subhdn"},g.designation&&nf.createElement("span",null,nf.createElement("span",null,g.designation),g.cname&&nf.createElement("span",null," at ",g.cname))))),nf.createElement("div",{className:"row detail-list mb5"},nf.createElement("div",{className:"col s5"},nf.createElement("div",{className:"detail-item row"},nf.createElement("div",{className:"col s12"},nf.createElement("em",{className:"icon loc",title:"Location",name:"Location"},"Location"),g.city&&g.country?nf.createElement("span",{className:"txt",name:"Location",title:g.city+", "+g.country},g.city+", "+g.country):nf.createElement("a",{onClick:function(b){a.openDrawer("basicDetails")},href:"javascript:void(0)",className:"white-text"},"Add Location"))),nf.createElement("div",{className:"detail-item row"},nf.createElement("div",{className:"col s12"},nf.createElement("em",{className:"icon",name:"Experience",title:"Experience"},"Experience"),"fresher"===g.workStatus?nf.createElement("span",{className:"txt",name:"Experience",title:"Fresher"},"Fresher"):nf.createElement("span",null,g.expYears_keys||g.expMonths_keys?nf.createElement("span",{className:"txt",name:"Experience",title:j},g.expYears_keys&&nf.createElement("span",null,g.expYears_keys>30?"30+":g.expYears_keys," Year(s)"),g.expMonths_keys&&0!=g.expMonths_keys&&nf.createElement("span",null," ",g.expMonths_keys," Month(s)")):nf.createElement("a",{onClick:function(b){a.openDrawer("basicDetails")},href:"javascript:void(0)",className:"white-text"},"Add Experience")))),"fresher"!==g.workStatus&&nf.createElement("div",{className:"detail-item row"},nf.createElement("div",{className:"col s12"},nf.createElement("em",{className:"icon",name:"Salary",title:"Salary"},"Wallet"),g.ctcLacs_value?nf.createElement("span",{className:"txt",name:"Salary",title:k},g.currency&&nf.createElement("span",null,g.currency," "),nf.createElement("span",null,g.ctcLacs_value," Lakh(s)"),"0"!=g.ctcThousands_value&&nf.createElement("span",null," ",g.ctcThousands_value," Thousand")):nf.createElement("a",{onClick:function(b){a.openDrawer("basicDetails")},href:"javascript:void(0)",className:"white-text"},"Add Salary")))),nf.createElement("div",{className:"col s7"},nf.createElement("div",{className:"detail-item row"},nf.createElement("div",{className:"col s12"},nf.createElement("div",{className:"w69"},nf.createElement("em",{className:"icon",name:"Mobile",title:"Mobile"},"Phone"),nf.createElement("span",{className:"hide",ref:function(b){a.drawers.mobileVerify.triggerNode=b}},"Verify"),g.mobNum?nf.createElement("span",{className:"txt",name:"Mobile",title:g.mobNum},g.mobNum):nf.createElement("a",{onClick:function(b){a.openDrawer("basicDetails")},href:"javascript:void(0)",className:"white-text"},"Add Mobile Number")),g.mobNum?g.isMobileNumberVerified?nf.createElement("div",{className:"verified"},nf.createElement("span",null,nf.createElement("em",{className:"icon tick"},"tick"))):nf.createElement("span",{className:"btn btn-white-sm right","data-ga-track":"spa-event|EditProfile|Verifymobile|EditOpen",onClick:function(b){a.openDrawer("mobileVerify",b)}},"Verify"):null)),g.emailId&&nf.createElement("div",{className:"detail-item row"},nf.createElement("div",{className:"col s12"},nf.createElement("div",{className:"w69"},nf.createElement("em",{className:"icon",name:"Email",title:"Email"},"Mail"),nf.createElement("span",{className:"hide",ref:function(b){a.drawers.verifyEmail.triggerNode=b}},"Verify"),nf.createElement("span",{className:"txt",name:"Email",title:g.emailId},g.emailId)),g.isEmailVerified?nf.createElement("div",{className:"verified"},nf.createElement("span",null,nf.createElement("em",{className:"icon tick"},"tick"))):nf.createElement("span",{className:"btn btn-white-sm right","data-ga-track":"spa-event|EditProfile|Verifyemail|EditOpen",onClick:function(b){a.openDrawer("verifyEmail",b)}},"Verify"))))),nf.createElement("div",{className:"row strength mb0"},nf.createElement("div",{className:"col s12"},nf.createElement("span",{className:"fs11"},"Profile Strength (",this.getProfileStrength(g.pc),")"),nf.createElement("span",{className:"right"},g.pc+"%"),nf.createElement("div",{className:"progress"},nf.createElement("div",{className:"determinate",style:{width:g.pc+"%"}}))))))),this.getPendingActions(this.props.pendingAction)):nf.createElement("div",{className:"timeline-wrapper shimmer"},nf.createElement("div",{className:"timeline-item paraView trp-bg"},nf.createElement("div",{className:"animated-background"},nf.createElement("div",{className:"background-masker content-second-end blue-bg"}),nf.createElement("div",{className:"background-masker content-second-line blue-bg"}),nf.createElement("div",{className:"background-masker content-third-end blue-bg"}),nf.createElement("div",{className:"background-masker content-third-line blue-bg"}),nf.createElement("div",{className:"background-masker content-fourth-line blue-bg"}),nf.createElement("div",{className:"background-masker content-fifth-line blue-bg"}))))),nf.createElement("div",{className:"lightbox lbWrapper",ref:function(b){a.drawers.mobileVerify.container=b}},nf.createElement("div",{className:"crossLayer"},nf.createElement("span",{className:"icon"},"CrossLayer")),nf.createElement("div",{className:"drawer-content"},this.state.renderMobileVerify&&nf.createElement(cf,{closeDrawer:this.closeDrawer.bind(this,"mobileVerification")}))),nf.createElement("div",{className:"lightbox profileEditDrawer",ref:function(b){a.drawers.basicDetails.container=b}},nf.createElement("div",{className:"crossLayer","data-ga-track":"spa-event|EditProfile|BasicDetails|Cancel"},nf.createElement("span",{className:"icon"},"CrossLayer")),nf.createElement("div",{className:"drawer-content"},this.state.renderBasicDetails&&nf.createElement(Ge,{closeDrawer:this.closeDrawer.bind(this,"basicDetails")}))),nf.createElement("div",{className:"lightbox lbWrapper",ref:function(b){a.drawers.verifyEmail.container=b}},nf.createElement(Pd,{id:"verifyEmailMessenger",autoHideIn:"4000"}),nf.createElement("div",{className:"crossLayer"},nf.createElement("span",{className:"icon"},"CrossLayer")),nf.createElement("div",{className:"drawer-content"},this.state.renderEmailVerify&&nf.createElement(kf,{closeDrawer:this.closeDrawer.bind(this,"verifyEmail")}))))}}]),b}(nf.PureComponent),qf=window.interfaces,rf=qf.connect,sf=function(a){var b=a.myProfile.empDetails||{},c=b.prefillId||-1;return{userDetails:a.userDetails,userData:a.myProfile.basicDetails||{},empDetails:b[c]||{},pendingAction:a.pendingAction||{},userOtherData:a.myProfile.otherDetails||{}}},tf=function(a){return{updateStore:function(){a(Ae.getMyProfile())}}},uf=rf(sf,tf)(pf),vf={resumeHeadline:{msg:"Please specify your Resume headline.",id:"resumeHeadlineTxt_err"},validChar:sd("resumeHeadlineTxt_err")},wf=window.interfaces,xf=wf.Virtual,yf=function(a){function b(){Nb(this,b);var a=Sb(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments));return a.lazyloadContainer=null,a.addResumeHeadlineBtn=null,a.addResumeHeadlineCont=null,a.updateTextCount=a.updateTextCount.bind(a),a.saveResumeHeadline=a.saveResumeHeadline.bind(a),a.closeLayer=a.closeLayer.bind(a),a.formName="resumeHeadlineForm",a.state={profileCompletenessScore:a.props.profileCompletenessScore+"%",maxChar:250,lbInst:a.props.lbInst,origin:a.props.origin,pAMessengerId:a.props.messengerId,resumeHeadline:a.props.resumeHeadline&&a.props.resumeHeadline.trim()||"",charsFilled:a.props.resumeHeadline&&a.props.resumeHeadline.length||0,userDetail:a.props.userDetail,disable:!a.props.resumeHeadline||!a.props.resumeHeadline.length},a}return Rb(b,a),Ob(b,[{key:"attributeChangedCallback",value:function(a){a.resumeHeadline!=this.props.resumeHeadline&&this.setState({disable:!a.resumeHeadline.length})}},{key:"initValidation",value:function(){this.validator=window.commonValidator(),this.validator.validate({formNames:[this.formName],errors:vf,focusOnError:!0,submitButton:"saveEducation",styles:{parentObjectClass:"row",maxLevel:6,errorClass:"err"}})}},{key:"closeLayer",value:function(){history.back()}},{key:"updateTextCount",value:function(a){if("undefined"==typeof a)var b=this.state.resumeHeadline.length,c=this.props.resumeHeadline;else var d=a.target,b=d.value.length,c=d.value;var e=this.state.maxChar;e-b<0||this.setState({charsFilled:b,resumeHeadline:c,disable:!c.length})}},{key:"attachedCallback",
value:function(){try{this.initValidation()}catch(a){}}},{key:"saveResumeHeadline",value:function(a){a.preventDefault(),this.validator.isValid()&&this.props.resumeHeadlineSave(this.props.userDetail.profileId,this.state)}},{key:"render",value:function(){var a;return xf.createElement("div",null,xf.createElement(Pd,{id:"resumeHeadlineEditMessenger"}),xf.createElement("form",{className:"s12 lbpadding",name:this.formName,onSubmit:this.saveResumeHeadline},xf.createElement("div",{className:"editHeader"},xf.createElement("div",{className:"mb5"},xf.createElement("span",{className:"widgetTitle"},"Resume Headline"),this.props.resumeHeadline?null:xf.createElement("span",{className:"profileComScore"},"Add ",this.state.profileCompletenessScore)),xf.createElement("div",null,xf.createElement("span",{className:"lbl widgetDesc"},"It is the first thing recruiters notice in your profile. Write concisely what makes you unique and right person for the job you are looking for."))),xf.createElement("div",{className:"row"},xf.createElement("div",{className:"input-field s12"},xf.createElement("textarea",{rel:"required:resumeHeadline,custom:validChar",value:this.state.resumeHeadline,"data-length":"250",maxLength:"250",onChange:this.updateTextCount,id:"resumeHeadlineTxt",className:"resumeHeadlineTxt materialize-textarea",placeholder:"Minimum 5 words. Sample headlines: Sales Manager well versed in Excel and Dynamics CRM. Senior-level Interior Designer with expertise in 3D modeling."}),xf.createElement("div",{className:"inputInfo"},xf.createElement("span",{className:"erLbl",id:"resumeHeadlineTxt_err"}),xf.createElement("span",{className:"textCounter right"},this.state.maxChar-this.state.charsFilled," Character(s) Left")))),xf.createElement("div",{className:"row"},xf.createElement("div",{className:"action s12"},xf.createElement("a",(a={className:"blue-text"},Pb(a,"className","cancelLayer"),Pb(a,"href","javascript:void(0)"),Pb(a,"onClick",this.closeLayer),a),"CANCEL"),xf.createElement("button",{className:"waves-effect waves-light btn-large blue-btn",type:"submit",disabled:this.state.disable},"Save")))))}}]),b}(xf.Component),zf=window.interfaces,Af=zf.connect,Bf=function(a,b){var c=(a.myProfile.eduDetails||{},b.prefillId||-1,/<\/?[\w\s="\/.':;#-\/\?]+>/gi);return{resumeHeadline:a.myProfile.resumeHeadline&&a.myProfile.resumeHeadline.replace(c,"").trim()||"",userDetail:a.userDetails,route:a.route,lbInst:b.lbInst||null,profileCompletenessScore:a.pendingAction&&a.pendingAction.Resume_Headline&&a.pendingAction.Resume_Headline.subSectionWeightage||"8",origin:"pendingAction"==b.origin?"pA":"profile",messengerId:b.messengerId||null}},Cf=function(a){var b=function(b,c){var d="success"===b?"resumeHeadlineMessenger":"resumeHeadlineEditMessenger";a({type:Ed,payload:{id:d,type:b,msg:c}}),"error"===b&&$(".msgBox").focus()},c=function(){var b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"resumeHeadlineEditMessenger";a({type:Fd,payload:{id:b}})},e=function(b,c,d){var e="success"===b?d:"educationEditMessenger";a({type:Ed,payload:c?{id:e,type:b,msg:c}:{id:e,type:b}})};return{resumeHeadlineSave:function(f,g){c();var h=D(g),i=Ra+"/profiles/"+f;return $.ajax({url:i,datatype:"json",data:JSON.stringify(h),method:"POST",headers:{accept:"application/json","X-HTTP-Method-Override":"PUT","Content-Type":"application/json",clientid:"d3skt0p"}}).then(function(c){setTimeout(function(){a(Ae.getMyProfile("MNJFlow")).then(function(c){a(Ae.getDashboard()),history.back(),"pA"==g.origin?(e("success","Resume Headline has been successfully saved.",g.pAMessengerId),d("spa-event","PendingAction","resumeHeadline","Save"),$(window).scrollTop(0)):(b("success","Resume Headline has been successfully saved."),d("spa-event","EditProfile","resumeHeadline","Save"))})},10)},function(a){b("error"),d("spa-event","EditProfile","resumeHeadline","SaveError",a.status+a.statusText+JSON.stringify(h)+i)})},hideMessenger:function(){var b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"resumeHeadlineEditMessenger";a({type:Fd,payload:{id:b}})}}},Df=Af(Bf,Cf)(yf),Ef=window.interfaces.Virtual,Ff=function(a){function b(){Nb(this,b);var a=Sb(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments));return a.showText=function(){a.setState({textVisibility:!0})},a.state={textVisibility:!1},a}return Rb(b,a),Ob(b,[{key:"attributeChangedCallback",value:function(a){a.text!=this.props.text&&this.setState({textVisibility:!1})}},{key:"renderText",value:function(a){if(!this.state.textVisibility){if(a&&a.length>=this.props.showChars){var b=a.substr(0,this.props.showChars);return Ef.createElement("div",null,b,this.props.ellipsesText,Ef.createElement("a",{href:"javascript:;",className:"morelink",onClick:this.showText}," ",this.props.moreText))}return a}return a}},{key:"render",value:function(){return Ef.createElement("div",null,this.renderText(this.props.text))}}]),b}(Ef.PureComponent);Ff.propTypes={text:Ef.PropTypes.string.isRequired,showChars:Ef.PropTypes.number,ellipsesText:Ef.PropTypes.string,moreText:Ef.PropTypes.string},Ff.defaultProps={showChars:300,ellipsesText:"...",moreText:"Read More"};var Gf=window.interfaces,Hf=Gf.Virtual,If=function(a){function b(){Nb(this,b);var a=Sb(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments));return a.lazyloadContainer=null,a.addResumeHeadlineBtn=null,a.initDrawerCall=a.initDrawerCall.bind(a),a.addResumeHeadlineCont=null,a.formName="resumeHeadlineForm",a.state={profileCompletenessScore:a.props.profileCompletenessScore+"%",resumeHeadline:a.props.resumeHeadline&&a.props.resumeHeadline.trim()||"",addResumeHeadlineInstance:null,showDialog:!1},a}return Rb(b,a),Ob(b,[{key:"attachedCallback",value:function(){this.initDrawerCall()}},{key:"initDrawer",value:function(){var a=this;this.state.addResumeHeadlineInstance=$(this.addResumeHeadlineBtn).lightBox({model:$(this.addResumeHeadlineCont),dimens:{width:"685px"},open:{anim:"flipOpen",success:function(){a.setState({showDialog:!0},function(){$(window).resize()}),d("spa-event","EditProfile","resumeHeadline","EditOpen")}},close:{layer:!1,anim:"flipClose",nodes:$(".cancelLayer,.crossLayer"),success:function(){a.props.hideMessenger(),a.setState({showDialog:!1}),d("spa-event","EditProfile","resumeHeadline","Cancel")}}})}},{key:"initDrawerCall",value:function(){this.state.addResumeHeadlineInstance||this.initDrawer()}},{key:"render",value:function(){var a=this;return Hf.createElement("div",{className:"resumeHeadline"},Hf.createElement("div",{className:"card mt15"},Hf.createElement(Pd,{id:"resumeHeadlineMessenger",autoHideIn:"4000"}),Hf.createElement("div",{className:"cardPad"},Hf.createElement("div",{className:"widgetHead"},Hf.createElement("span",{className:"widgetTitle"},"Resume Headline"),this.props.resumeHeadline?null:Hf.createElement("span",{className:"profileComScore"},"Add ",this.state.profileCompletenessScore),this.props.resumeHeadline?Hf.createElement("span",{className:"edit icon",ref:function(b){a.addResumeHeadlineBtn=b}},"Edit"):Hf.createElement("span",{className:"add",ref:function(b){a.addResumeHeadlineBtn=b}},"ADD RESUME HEADLINE")),Hf.createElement("div",{className:"widgetCont"},this.props.resumeHeadline?Hf.createElement("div",{className:"prefill"},Hf.createElement(Ff,{text:this.props.resumeHeadline,showChars:300})):Hf.createElement("span",{className:"empty"},this.props.emptyText)))),Hf.createElement("div",{className:"lightbox profileEditDrawer resumeHeadlineEdit",ref:function(b){a.addResumeHeadlineCont=b}},Hf.createElement("div",{className:"crossLayer"},Hf.createElement("span",{className:"icon"},"CrossLayer")),this.state.showDialog&&Hf.createElement(Df,{origin:this.props.origin,messengerId:this.props.messengerId,lbInst:this.state.addResumeHeadlineInstance})))}}]),b}(Hf.PureComponent),Jf=window.interfaces,Kf=Jf.connect,Lf=function(a,b){var c="It is the first thing recruiters notice in your profile. Write concisely what makes you unique and right person for the job you are looking for.",d=/<\/?[\w\s="\/.':;#-\/\?]+>/gi;return{resumeHeadline:a.myProfile.resumeHeadline&&a.myProfile.resumeHeadline.replace(d,"").trim()||"",route:a.route,profileCompletenessScore:a.pendingAction&&a.pendingAction.Resume_Headline&&a.pendingAction.Resume_Headline.subSectionWeightage||"8",emptyText:c,origin:b.origin,pAMessengerId:b.messengerId}},Mf=function(a){return{hideMessenger:function(){var b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"resumeHeadlineEditMessenger";a({type:Fd,payload:{id:b}})}}},Nf=Kf(Lf,Mf)(If),Of={profileSummary:{msg:"Please specify Profile summary.",id:"profileSummaryTxt_err"},validChar:sd("profileSummaryTxt_err")},Pf=window.interfaces,Qf=Pf.Virtual,Rf=function(a){function b(){Nb(this,b);var a=Sb(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments));return a.lazyloadContainer=null,a.addProfileSummaryCont=null,a.addProfileSummaryBtn=null,a.ConfirmationBoxInstance=null,a.formName="profileSummaryForm",a.state={profileCompletenessScore:a.props.profileCompletenessScore,maxChar:1e3,lbInst:a.props.lbInst,profileSummary:a.props.profileSummary&&a.props.profileSummary.trim()||"",charsFilled:a.props.profileSummary&&a.props.profileSummary.length||0,userDetail:a.props.userDetail,addProfileSummaryInstance:null,disable:!a.props.profileSummary.length,origin:a.props.origin,pAMessengerId:a.props.messengerId},a}return Rb(b,a),Ob(b,[{key:"showDialog",value:function(){this.ConfirmationBoxInstance.open()}},{key:"closeDeleteBox",value:function(){this.ConfirmationBoxInstance.close()}},{key:"closeLayer",value:function(){history.back()}},{key:"setConfirmationInstance",value:function(a){this.ConfirmationBoxInstance=a}},{key:"initValidation",value:function(){this.validator=window.commonValidator(),this.validator.validate({formNames:[this.formName],errors:Of,focusOnError:!1,styles:{parentObjectClass:"row",maxLevel:6,errorClass:"err"}})}},{key:"updateTextCount",value:function(a){if("undefined"==typeof a)var b=this.state.profileSummary.length,c=this.props.profileSummary;else var d=a.target,b=d.value.length,c=d.value;var e=this.state.maxChar;e-b<0||this.setState({charsFilled:b,profileSummary:c,disable:!c.length})}},{key:"attachedCallback",value:function(){try{this.initValidation()}catch(a){}}},{key:"saveProfileSummary",value:function(a){a.preventDefault(),this.validator.isValid()&&this.props.profileSummarySave(this.props.userDetail.profileId,this.state,"save")}},{key:"deleteProfileSummary",value:function(){this.closeDeleteBox(),this.props.profileSummarySave(this.props.userDetail.profileId,this.state,"delete")}},{key:"render",value:function(){var a,b=this,c={dimens:{width:"35%",height:"180px"},routing:!1},d=Qf.createElement(Ke,{params:c,setInstance:this.setConfirmationInstance.bind(this)},function(a){var c;a.close;return Qf.createElement("div",{className:"confirmationBox profileSummaryConfirmation"},Qf.createElement("p",{className:"left-align"},"Are you sure you want to delete Profile Summary ?"),Qf.createElement("div",{className:"action right-align"},Qf.createElement("a",(c={className:"blue-text"},Pb(c,"className","cancelLayerDel"),Pb(c,"href","javascript:void(0)"),Pb(c,"onClick",function(){return b.closeDeleteBox()}),c),"CANCEL"),Qf.createElement("button",{className:"waves-effect waves-light btn-large blue-btn",onClick:function(){return b.deleteProfileSummary()}},"DELETE")))});return Qf.createElement("div",null,Qf.createElement(Pd,{id:"profileSummaryEditMessenger"}),Qf.createElement("form",{className:"lbpadding s12",name:this.formName,onSubmit:this.saveProfileSummary.bind(this)},d,Qf.createElement("div",{className:"editHeader"},Qf.createElement("div",{className:"mb5"},Qf.createElement("span",{className:"widgetTitle"},"Profile Summary"),this.props.profileCompletenessScore>0?Qf.createElement("span",{className:"profileComScore"},"Add ",this.props.profileCompletenessScore,"%"):null,this.props.profileSummary&&Qf.createElement("span",{className:"delete",ref:function(a){b.addProfileSummaryDelBtn=a},onClick:this.showDialog.bind(this)},"DELETE")),Qf.createElement("div",null,Qf.createElement("span",{className:"lbl widgetDesc"},"Your Profile Summary should mention the highlights of your career and education, what your professional interests are, and what kind of a career you are looking for. Write a meaningful summary of more than 50 characters."))),Qf.createElement("div",{className:"row"},Qf.createElement("div",{className:"input-field s12"},Qf.createElement("textarea",{rel:"required:profileSummary,custom:validChar",value:this.state.profileSummary,"data-length":"1000",maxLength:"1000",onChange:this.updateTextCount.bind(this),id:"profileSummaryTxt",className:"profileSummaryTxt materialize-textarea",placeholder:"Type here..."}),Qf.createElement("div",{className:"inputInfo"},Qf.createElement("span",{className:"erLbl",id:"profileSummaryTxt_err"}),Qf.createElement("div",{className:"textCounter right"},this.state.maxChar-this.state.charsFilled," Character(s) Left")))),Qf.createElement("div",{className:"row"},Qf.createElement("div",{className:"action s12"},Qf.createElement("a",(a={className:"blue-text",href:"javascript:void(0)"},Pb(a,"className","cancelLayer"),Pb(a,"onClick",this.closeLayer.bind(this)),a),"CANCEL"),Qf.createElement("button",{className:"waves-effect waves-light btn-large blue-btn",type:"submit",disabled:this.state.disable},"Save")))))}}]),b}(Qf.PureComponent),Sf=window.interfaces,Tf=Sf.connect,Uf=function(a,b){var c=function(a){if(a&&!$.isEmptyObject(a)){var b=a.Professional_Summary_details?a.Professional_Summary_details.subSectionWeightage:0;return b}return 0},d=/<\/?[\w\s="\/.':;#-\/\?]+>/gi;return{profileSummary:a.myProfile.profileSummary&&a.myProfile.profileSummary.replace(d,"").trim()||"",userDetail:a.userDetails,route:a.route,profileCompletenessScore:c(a.pendingAction),lbInst:b.lbInst||null,origin:"pendingAction"==b.origin?"pA":"profile",messengerId:b.messengerId||null}},Vf=function(a){var b=function(b,c){var d="success"===b?"profileSummaryMessenger":"profileSummaryEditMessenger";a({type:Ed,payload:{id:d,type:b,msg:c}}),"error"===b&&$(".msgBox").focus()},c=function(b,c,d){var e="success"===b?d:"educationEditMessenger";a({type:Ed,payload:c?{id:e,type:b,msg:c}:{id:e,type:b}})};return{profileSummarySave:function(e,f,g){var h=E(f,g),i=Ra+"/profiles/"+e;return $.ajax({url:i,datatype:"json",data:JSON.stringify(h),method:"POST",headers:{accept:"application/json","X-HTTP-Method-Override":"PUT","Content-Type":"application/json",clientid:"d3skt0p"}}).then(function(e){setTimeout(function(){a(Ae.getMyProfile("MNJFlow")).then(function(e){a(Ae.getDashboard()),history.back(),"delete"==g?(b("success","Profile Summary has been successfully deleted."),d("spa-event","EditProfile","profileSummary","Delete")):"pA"==f.origin?(c("success","Profile Summary has been successfully saved.",f.pAMessengerId),d("spa-event","PendingAction","profileSummary","Save"),$(window).scrollTop(0)):(b("success","Profile Summary has been successfully saved."),d("spa-event","EditProfile","profileSummary","Save"))})},10)},function(a){"delete"==g?d("spa-event","EditProfile","profileSummary","DeleteError",a.status+a.statusText+JSON.stringify(h)+i):d("spa-event","EditProfile","ProfileSummary","SaveError",a.status+a.statusText+JSON.stringify(h)+i),b("error")})},hideMessenger:function(){var b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"profileSummaryEditMessenger";a({type:Fd,payload:{id:b}})}}},Wf=Tf(Uf,Vf)(Rf),Xf=window.interfaces,Yf=Xf.Virtual,Zf=function(a){function b(){Nb(this,b);var a=Sb(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments));return a.lazyloadContainer=null,a.addProfileSummaryCont=null,a.addProfileSummaryBtn=null,a.ConfirmationBoxInstance=null,a.formName="profileSummaryForm",a.state={profileCompletenessScore:a.props.profileCompletenessScore,profileSummary:a.props.profileSummary&&a.props.profileSummary.trim()||"",addProfileSummaryInstance:null,readClass:a.props.profileSummary.length>=200||a.props.profileSummary.split("\n").length>2?"readMore":"readLess",showPSDialog:!1},a}return Rb(b,a),Ob(b,[{key:"appendMore",value:function(){this.setState({readClass:"readLess"})}},{key:"initDrawerCall",value:function(){this.state.addProfileSummaryInstance||this.initDrawer()}},{key:"initDrawer",value:function(){var a=this;this.state.addProfileSummaryInstance=$(this.addProfileSummaryBtn).lightBox({model:$(this.addProfileSummaryCont),dimens:{width:"685px"},open:{event:"click",anim:"flipOpen",success:function(){d("spa-event","EditProfile","profileSummary","EditOpen"),a.setState({showPSDialog:!0},function(){a.state.addProfileSummaryInstance.resize()})}},close:{layer:!1,anim:"flipClose",nodes:$(".cancelLayer,.crossLayer"),success:function(b){a.props.hideMessenger(),d("spa-event","EditProfile","profileSummary","Cancel"),a.setState({showPSDialog:!1})}}})}},{key:"attributeChangedCallback",value:function(a){a.profileSummary!=this.props.profileSummary&&this.setState({readClass:a.profileSummary.length>=200||a.profileSummary.split("\n").length>2?"readMore":"readLess",disable:!a.profileSummary.length})}},{key:"attachedCallback",value:function(){this.initDrawerCall()}},{key:"render",value:function(){var a=this;return Yf.createElement("div",{className:"profileSummary"},Yf.createElement("div",{className:"card"},Yf.createElement(Pd,{id:"profileSummaryMessenger",autoHideIn:"4000"}),Yf.createElement("div",{className:"cardPad"},Yf.createElement("div",{className:"widgetHead"},Yf.createElement("span",{className:"widgetTitle"},"Profile Summary"),this.props.profileCompletenessScore>0?Yf.createElement("span",{className:"profileComScore"},"Add ",this.props.profileCompletenessScore,"%"):null,this.props.profileSummary?Yf.createElement("span",{className:"edit icon",ref:function(b){a.addProfileSummaryBtn=b}},"Edit"):Yf.createElement("span",{className:"add",ref:function(b){a.addProfileSummaryBtn=b}},"ADD PROFILE SUMMARY")),Yf.createElement("div",{className:"widgetCont"},this.props.profileSummary?Yf.createElement("div",{className:"prefill"},Yf.createElement(Ff,{text:this.props.profileSummary,showChars:285})):Yf.createElement("span",{className:"empty"},this.props.emptyText)))),Yf.createElement("div",{className:"lightbox profileEditDrawer profileSummaryEdit",ref:function(b){a.addProfileSummaryCont=b}},Yf.createElement("div",{className:"crossLayer"},Yf.createElement("span",{className:"icon"},"CrossLayer")),this.state.showPSDialog&&Yf.createElement(Wf,{origin:this.props.origin,messengerId:this.props.messengerId,lbInst:this.state.addProfileSummaryInstance})))}}]),b}(Yf.PureComponent),$f=window.interfaces,_f=$f.connect,ag=function(a,b){var c=function(a){if(a&&!$.isEmptyObject(a)){var b=a.Professional_Summary_details?a.Professional_Summary_details.subSectionWeightage:0;return b}return 0},d="Your Profile Summary should mention the highlights of your career and education, what your professional interests are, and what kind of a career you are looking for. Write a meaningful summary of more than 50 characters.",e="pending action text",f=/<\/?[\w\s="\/.':;#-\/\?]+>/gi;return{profileSummary:a.myProfile.profileSummary&&a.myProfile.profileSummary.replace(f,"").trim()||"",route:a.route,profileCompletenessScore:c(a.pendingAction),emptyText:"pendingAction"==b.origin?e:d,origin:b.origin,pAMessengerId:b.messengerId}},bg=function(a){return{hideMessenger:function(){var b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"profileSummaryEditMessenger";a({type:Fd,payload:{id:b}})}}},cg=_f(ag,bg)(Zf),dg=window.interfaces,eg=dg.Virtual,fg=function(a){function b(){Nb(this,b);var a=Sb(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments));return a.state={sticky:""},a.$window=$(window),a.quickLinkCont=null,a.lazyLoadedIndex=-1,a.lazyLoadEvent=new CustomEvent("lazyLoaded"),a.onScrollQlinks=a.onScrollQlinks.bind(a),a}return Rb(b,a),Ob(b,[{key:"attachedCallback",value:function(){this.$window.on("scroll",this.onScrollQlinks)}},{key:"detachedCallback",value:function(){this.$window.off("scroll",this.onScrollQlinks)}},{key:"onScrollQlinks",value:function(){var a=this.$window.scrollTop(),b=$(this.quickLinkCont).offset().top-7,c=$(".commonHeaderFooter .footer").offset().top-a-20,d=$(this.quickLinkCont).find(".quickLink").height();a>=b&&c>d?this.state.sticky||this.setState({sticky:"sticky"}):this.state.sticky&&this.setState({sticky:""})}},{key:"lazyLoadSections",value:function(a,b){var c=this.props.lazyLoadPool,d=c.indexOf(a);if(d>-1)if(d<=this.lazyLoadedIndex)b();else{this.lazyLoadedIndex=d;for(var e=0;e<=d;e++){var f=document.getElementById(c[e]);f&&f.dispatchEvent(this.lazyLoadEvent)}setTimeout(b,300)}}},{key:"scrollToSection",value:function(a){a&&this.lazyLoadSections(a,function(){d("spa-event","EditProfile","quickLinks","Click"),$("html, body").animate({scrollTop:$("#"+a).offset().top-10},300)})}},{key:"renderQlinks",value:function(a){var b=this;return a.map(function(a,c){return a.hidden?null:eg.createElement("li",{key:c,className:"collection-item",onClick:function(){return b.scrollToSection(a.lazyLoadId)}},eg.createElement("span",{className:"text"},a.text),a.action?eg.createElement("a",{href:"javascript:;",className:"secondary-content"},a.action):null)})}},{key:"render",value:function(){var a=this;return eg.createElement("div",{ref:function(b){return a.quickLinkCont=b}},eg.createElement("div",{className:"card mt15 quickLink "+this.state.sticky},eg.createElement("ul",{className:"collection"},eg.createElement("li",{className:"collection-header"},eg.createElement("h5",null,"Quick Links")),this.renderQlinks(this.props.qlinks))))}}]),b}(eg.PureComponent),gg=window.interfaces,hg=gg.connect,ig=function(a){return[{text:"Attach Resume",action:a.resume.isAvailable?"Update":"Upload",lazyLoadId:"lazyAttachCV"},{text:"Resume Headline",action:a.resumeHeadline?"":"Add",lazyLoadId:"lazyResumeHead"},{text:"Key Skills",action:a.keySkills?"":"Add",lazyLoadId:"lazyKeySkills"},{text:"Employment",action:a.self.empList&&a.self.empList.length>=5?"":"Add",lazyLoadId:"lazyEmployment",hidden:"fresher"==a.basicDetails.workStatus},{text:"Education",action:(a.self.eduList&&a.self.eduList.length||0)+(a.self.schoolList&&a.self.schoolList.length||0)>=5?"":"Add",lazyLoadId:"lazyEducation"},{text:"IT Skills",action:a.self.itSkills&&a.self.itSkills.length?"":"Add",lazyLoadId:"lazyITSkills"},{text:"Projects",action:a.self.projectList&&a.self.projectList.length?"":"Add",lazyLoadId:"lazyProject"},{text:"Profile Summary",action:a.profileSummary?"":"Add",lazyLoadId:"lazyProfileSummary"},{text:"Accomplishments",lazyLoadId:"lazyAccomplishment"},{text:"Desired Career Profile",lazyLoadId:"lazyDesiredProfile"},{text:"Personal Details",lazyLoadId:"lazyPersonalDetail"}]},jg=function(a){var b=[];return $.each(a,function(a,c){c.lazyLoadId&&b.push(c.lazyLoadId)}),b},kg=function(a){var b=ig(a.myProfile);return{qlinks:b,lazyLoadPool:jg(b)}},lg=hg(kg,null)(fg),mg=window.interfaces.Virtual,ng=function(a){function b(){Nb(this,b);var a=Sb(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments));return a.suggestorNode=null,a.params=Qb({domain:"//suggest.naukri.com",userCookie:"UNID",chips:!1,startSearchAfter:2,trackUserInteraction:!0,maxCharacterLimit:250,suggestorOnKeyUp:function(){},onChipClick:function(){},onChipCreate:function(){},onSelect:function(b,c,d,e,f){var g=a.props.replaceComma?c.replace(/,/g," "):c;a.params.chips&&a.onSelect_onComma_handler(a.getSuggestorNode,g),a.props.onSelectClbk&&a.props.onSelectClbk(b,g,d,e,f)}},a.props),a}return Rb(b,a),Ob(b,[{key:"createChips",value:function(a){var b=a.value,c=a.deleteIcon,d=void 0===c||c,e=a.onClick,f=a.onDelete,g=a.onCreate,h=a.storageNode,i=void 0===h?$("#chipsVal"):h,j=a.container,k=void 0===j?".suggest .inpWrap":j,l=a.node,m=(void 0===l?$(this.suggestorNode).find(".sugInp"):l,a.skipLimitCheck),n=void 0!==m&&m,o=this.props,p=o.maxSelectionReached;o.params;if(b)if(n||this.maxCharacterLimit(b)){var q=b.split(",");for(var r in q){var s=q[r].replace(/[\\>]*$/,"");s&&window.chips({contId:$(k),key:s,text:s,hiddenTag:i,tagTitle:!0,tagType:"div",chipClass:"waves-effect chip",onDelete:f,onCreate:g,onClick:e,deleteIcon:d})}}else p("Keyskills length should not be more than 250 characters.")}},{key:"maxCharacterLimit",value:function(a){if($("#chipsVal").val().length+1+(a?a.length:0)<this.params.maxCharacterLimit)return!0}},{key:"attachedCallback",value:function(){var a=this;try{requirejs([ca],function(){var b=a,c=$(a.suggestorNode),d=a.getSuggestorNode;if(a.params.chips&&d.on("keyup",function(a){var d=c.find(".chip").last();8!=a.keyCode||this.value?(d.removeClass("selected"),b.params.suggestorOnKeyUp(a)):d.hasClass("selected")?(d.children("a").click(),this.focus()):d.addClass("selected")}),a.params.singleSelect&&d.length&&d.val(d.val()),a.suggestorInstance=c.suggestor(a.params),!a.params.singleSelect){var e=a.params.value;if(e&&(a.createChips({value:e,skipLimitCheck:!0,onClick:a.params.onChipClick,onDelete:a.params.onChipDelete,onCreate:a.params.onChipCreate,container:a.params.chipsContSelector}),a.params.relatedConceptCategory)){var f=e.split(","),g=f[f.length-1];a.suggestorInstance&&a.suggestorInstance.get_RCdata(g)}}})}catch(b){}}},{key:"render",value:function(){var a=this,b=null;if(this.props.children){var c=mg.Children.only(this.props.children({})),d=mg.React.Children.map(c.props.children,function(b){var c={};return"div"===b.type&&b.props.className.indexOf("suggest")!==-1&&(c.ref=function(b){a.suggestorNode=b}),mg.React.cloneElement(b,c)});b=mg.createElement("div",{className:c.props.className},d)}var e=this.params.value&&F(this.params.singleSelect)?{defaultValue:this.params.value}:{};return mg.createElement("div",{ref:function(b){a.sugForm=b},className:"sugComp"},b?b:mg.createElement("div",null,mg.createElement("div",{className:"suggest",ref:function(b){a.suggestorNode=b}},mg.createElement("div",{className:"sWrap"},mg.createElement("div",{className:"inpWrap"},mg.createElement("input",Qb({type:"text",className:"sugInp",name:this.params.name||"suggestor"},e,{id:this.params.id,placeholder:this.params.placeholderText,onChange:this.params.onChange,maxLength:this.params.maxlength,rel:this.params.rel||""}))))),this.params.chips&&mg.createElement("input",{type:"hidden",id:"chipsVal"}),this.params.chips&&mg.createElement("div",{className:"row rcRoot"},mg.createElement("div",{className:"col s12 chipsCont hide"},mg.createElement("div",null,"Suggested keywords"),mg.createElement("div",{className:"rcCont"})))))}},{key:"getSuggestorNode",get:function(){var a=$(this.suggestorNode);return a.find(".sugInp")}}]),b}(mg.PureComponent);ng.propTypes={id:mg.PropTypes.string.isRequired,category:mg.PropTypes.object.isRequired};var og=function(a){return function(b){var c="",d=b.val().trim();return d?d.length>250?c="Keyskills length should not be more than 250 characters.":d.match(/^[^\\<]*$/)||(c="Please remove Less than(<) characters."):c="Please specify atleast one Key Skill.",{msg:c,id:a}}},pg={1e3:og("chipsVal_err")},qg=window.interfaces.connect,rg=function(a,b){return{params:Qb({},b,a.suggestorParams)}},sg=function(a,b){return{maxSelectionReached:function(b){a({type:"SHOW_TOAST",message:b})}}},tg=qg(rg,sg)(ng),ug="education",vg="twelfth",wg="tenth",xg="keywords",yg=window.interfaces.Virtual,zg=function(a){function b(){Nb(this,b);var a=Sb(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments));a.suggestorTemplate=function(){var b=a.state.fromEmploymentSection?"EmpchipsVal":"chipsVal";return yg.createElement("div",{className:""},yg.createElement("div",{className:"suggest keySkillSuggCont"},yg.createElement("div",{className:"sWrap"},yg.createElement("div",{className:"inpWrap"},yg.createElement("div",{className:"chipsContainer"}),yg.createElement("input",{placeholder:"Enter your area of Expertise/Specialization",type:"text",onBlur:a.createChipsOnBlur.bind(a),className:"sugInp",name:"suggestor",ref:function(b){a.sugInput=b},onChange:function(b){return a.handleCharChange(b)},onKeyUp:a.suggestorOnKeyUp.bind(a),id:"keySkillSugg",maxLength:a.state.charsPreFilled}),yg.createElement("p",{className:"textCounter right"},a.state.charsPreFilled-a.state.charsFilled," Character(s) Left")))),yg.createElement("input",{type:"hidden",id:"chipsVal",rel:"custom:1000"}),yg.createElement("div",{className:"inputInfo"},yg.createElement("span",{className:"erLbl",id:b+"_err"})))},a.lazyloadContainer=null,a.addKeySkillsBtn=null,a.addKeySkillsCont=null,a.formName="keySkillsForm";var c=a.props.keySkills;a.charCount="employmentSection"==a.props.source?100:250;var d=c&&c.split(",")||[],e=c&&c.length<a.charCount&&d.length>0?1:0,f=c?a.charCount-parseInt(c.length)-e:a.charCount;return a.state={keySkills:c,keySkillArr:d,charsPreFilled:f,charsFilled:"0",addKeySkillsInstance:null,showDialog:!1,profileCompletenessScore:a.props.profileCompletenessScore+"%",lbInst:a.props.lbInst,_suggKeySkills:[],suggKeySkills:[],origin:a.props.origin,pAMessengerId:a.props.messengerId,suggestedKeySkills:[],fromEmploymentSection:"employmentSection"==a.props.source,suggParams:{appId:"105",width:"100%",id:"keySkillSugg",chipsContSelector:".keySkillSuggCont .chipsContainer",grouping:!1,relatedConcept_dataLayer:!1,placeholderText:"Enter your area of Expertise/Specialization",relatedConceptCategory:{skill:"skills"},multiSearch:!0,maxSuggestions:"7",startSearchAfter:"2",chips:!0,category:{skill:"skills"},maxCharacterLimit:250,singleSelect:!1,errorMessage:"Keyskills length should not be more than 250 character(s).",value:a.props.keySkills&&a.props.keySkills.replace(/,/g,","),onChipDelete:a.onDeleteHandlePlug.bind(a),onSelect:a.suggestorOnSelect.bind(a),getRelatedConcepts:function(b){a.getRelatedConcepts(b)},suggestorOnKeyUp:a.suggestorOnKeyUp.bind(a)}},a}return Rb(b,a),Ob(b,[{key:"suggestorOnSelect",value:function(a,b){var c=b.replace(/,/g,"");c="Warning: maximum length reached"===b?"":b;var d=this.checkValueUniqueness(c);if(c.length){if(d){var e=[c],f=c.length;this.state.fromEmploymentSection?this.createChips(e,$(".keyskillSection .suggest.keySkillSuggCont").find(".chipsContainer"),$("#chipsVal"),!1):this.createChips(e,$(".keySkillsEdit .suggest").find(".chipsContainer"),$("#chipsVal"),!1);var g=this.state,h=g.charsPreFilled,i=g.keySkillArr,j=f&&h!==f?1:0;i.push(c),this.setState({keySkills:i.join(","),keySkillArr:i,charsPreFilled:parseInt(this.state.charsPreFilled)-f-j,charsFilled:0})}this.sugInput.value=""}clearTimeout(this.checkBlur)}},{key:"getRelatedConcepts",value:function(a){if(a.resultConcepts.skill.length){for(var b=a.resultConcepts.skill,c=[],d=0;d<b.length;d++)c=[].concat(Tb(c),[b[d].displayTextEn]);$(".suggChips").html(""),this.chipsInput.value="",this.setState({suggestedKeySkills:c}),this.createChips(c,$(".suggChips"),$("#relatedCon"),!0)}}},{key:"initValidation",value:function(){this.validator=window.commonValidator(),this.validator.validate({formNames:[this.formName],errors:pg,submitButton:"saveKeySkills",focusOnError:!0,defaultEvents:["blur"],fireDelay:350,styles:{parentObjectClass:"row",maxLevel:6,errorClass:"err"}})}},{key:"componentWillReceiveProps",value:function(a){"employmentSection"==a.source&&this.setState({fromEmploymentSection:!0})}},{key:"onDeleteHandlePlug",value:function(a){this.state.fromEmploymentSection&&$("#EmpchipsVal_err").html("");var b=this.state.keySkillArr.filter(function(b){return b!==a[0].title}),c=b.join(","),d=b.length>0&&c.length!==this.charCount?1:0;this.setState({keySkillArr:b,keySkills:c,charsPreFilled:parseInt(this.charCount-c.length-d)})}},{key:"addSuggestedChips",value:function(){var a=this,b=this.props.getSuggestionCips(this.props.suggSkillsParam);b.then(function(b){for(var c=b.resultList,d=c.skill,e=[],f=0;f<d.length;f++)e=[].concat(Tb(e),[d[f].displayTextEn]);a.createChips(e,$(".suggChips"),$("#relatedCon"),!0),a.setState({suggKeySkills:e,_suggKeySkills:$.extend(!0,[],e)})},function(a){})}},{key:"onDeleteHandle",value:function(a,b,c){var d=this;if(c){if(this.state.charsPreFilled>=a[0].title.replace(/' '/g,"").length&&!this.inArray(a[0].title,this.state.keySkillArr)){var e=[].concat(Tb(this.state.keySkillArr),[a[0].title]),f=e.join(","),g=e.length>0&&f.length!==this.charCount?1:0,h=$(".suggChips").find("div[data-id='"+a[0].title+"_"+a[0].title.toLowerCase()+"']");
h&&h[0]&&h[0].remove();var i=parseInt(this.state.charsPreFilled)-a[0].title.replace(/' '/g,"").length-g;this.setState({charsPreFilled:i,keySkillArr:e,keySkills:f},function(){d.state.fromEmploymentSection?d.createChips(d.state.keySkillArr,$(".keyskillSection .suggest.keySkillSuggCont").find(".chipsContainer"),$("#chipsVal"),!1):d.createChips(d.state.keySkillArr,$(".keySkillsEdit .suggest").find(".chipsContainer"),$("#chipsVal"),!1)})}}else this.onDeleteHandlePlug(a)}},{key:"createChips",value:function(a,b,c,d){for(var e=this,f=0;f<a.length;f++){var g=a[f];g&&window.chips({contId:b,key:g,text:g,hiddenTag:c,tagType:"div",tagTitle:!0,chipClass:"waves-effect chip",onClick:function(a,b,c){d&&e.onDeleteHandle(a,c,d)},onDelete:function(a,b){e.onDeleteHandle(a,b,d)}})}}},{key:"inArray",value:function(a,b,c){var d=!1;if(b&&b.length>0)for(var e=0;e<b.length;e++)if(c){if(b[e]===a){d=!0;break}}else{var f=b[e]+"";if(f.toLowerCase()===a.toLowerCase()){d=!0;break}}return d}},{key:"checkValueUniqueness",value:function(a){return!this.inArray(a,this.state.keySkillArr,!1)}},{key:"createChipsOnBlur",value:function(a){var b=this,c=a.target.value.replace(/,/g,""),d=this.checkValueUniqueness(c);if(c.length){if(d){var e=[c],f=c.length;this.checkBlur=window.setTimeout(function(){b.state.fromEmploymentSection?b.createChips(e,$(".keyskillSection .suggest.keySkillSuggCont").find(".chipsContainer"),$("#chipsVal"),!1):b.createChips(e,$(".keySkillsEdit .suggest").find(".chipsContainer"),$("#chipsVal"),!1);var a=b.state,d=a.charsPreFilled,g=a.keySkillArr,h=f&&d!==f?1:0;g.push(c),b.setState({keySkills:g.join(","),keySkillArr:g,charsPreFilled:parseInt(b.state.charsPreFilled)-f-h,charsFilled:0})},300)}else this.setState({charsFilled:0});this.sugInput.value=""}}},{key:"attributeChangedCallback",value:function(a){a.keySkills!=this.props.keySkills&&this.setState({keySkills:a.keySkills,keySkillArr:a.keySkills&&a.keySkills.split(",")||[],suggParams:Qb({},this.state.suggParams,{value:a.keySkills})})}},{key:"attachedCallback",value:function(){this.props.keySkills||this.addSuggestedChips(),this.state.fromEmploymentSection||this.initValidation()}},{key:"closeLayer",value:function(){this.props.fromPushdown?this.props.closeDialog():(d("spa-event","EditProfile","KeySkills","Cancel"),history.back())}},{key:"saveKeySkills",value:function(a){var b=this;window.setTimeout(function(){if(a.preventDefault(),b.validator.isValid()){var c=xg;b.props.fromPushdown?b.setState({keySkills:$("#chipsVal").val()},function(){return b.props.submitToPushdown(c,"submit",b.state,!b.props.isSmurf)}):b.setState({keySkills:$("#chipsVal").val()},function(){return b.props.keySkillsSave(b.props.userDetail.profileId,b.state,"save")})}},400)}},{key:"handleCharChange",value:function(a){var b=a.target.value.replace(/,/g,"");this.setState({charsFilled:b.length})}},{key:"suggestorOnKeyUp",value:function(a){188!=a.keyCode||a.shiftKey||(this.suggestorOnSelect("keySkillSugg",this.sugInput.value.replace(/,/g,"")),this.sugInput.value="")}},{key:"render",value:function(){var a,b=this;return yg.createElement("div",null,yg.createElement(Pd,{id:"keySkillEditMessenger"}),this.state.fromEmploymentSection?yg.createElement("div",{className:"keyskillSection row mr0"},yg.createElement("div",null,yg.createElement("label",{className:"fnt13 mrgB5 required-field"},"Top 5 key skills that you think are important for current employment"),yg.createElement("div",null,yg.createElement(tg,this.state.suggParams,function(){return b.suggestorTemplate()}),yg.createElement("input",{type:"hidden",value:"",id:"relatedCon",ref:function(a){b.chipsInput=a}})))):yg.createElement("form",{name:this.formName,className:"col s12 lbpadding",noValidate:!0,action:"javascript:void(0)"},yg.createElement("div",{className:"editHeader"},yg.createElement("div",{className:"mb5"},yg.createElement("span",{className:"widgetTitle"},"Key Skills"),this.props.keySkills?null:yg.createElement("span",{className:"profileComScore"},"Add ",this.state.profileCompletenessScore)),yg.createElement("div",{className:"widgetDesc"},"Tell recruiters what you know or what you are known for e.g. Direct Marketing, Oracle, Java etc. We will send you job recommendations based on these skills. Each skill is separated by a comma. Max limit is 250 character(s) including commas.")),yg.createElement("label",{className:"fnt13 mrgB5"},"Skills"),yg.createElement("div",{className:"row"},yg.createElement(tg,this.state.suggParams,function(){return b.suggestorTemplate()}),yg.createElement("input",{type:"hidden",value:"",id:"relatedCon",ref:function(a){b.chipsInput=a}}),yg.createElement("div",{className:"suggChipsCont"},(this.state.suggKeySkills.length>0||this.state.suggestedKeySkills.length>0)&&yg.createElement("label",{className:"fnt13"},"Or you can select from the suggested set of skills"),yg.createElement("div",{className:"row suggChips"}))),yg.createElement("div",{className:"row"},yg.createElement("div",{className:"action s12"},yg.createElement("a",(a={className:"blue-text",href:"javascript:void(0)"},Pb(a,"className","cancelLayer"),Pb(a,"onClick",this.closeLayer.bind(this)),a),"CANCEL"),yg.createElement("button",{className:"waves-effect waves-light btn-large blue-btn",type:"button",onClick:this.saveKeySkills.bind(this),id:"saveKeySkills"},"Save")))))}}]),b}(yg.PureComponent),Ag={getSuggestionCips:function(a){return function(b){var c="//suggest.naukri.com/suggest/autosuggest?query="+a+"&appId=105&category=skill&limit=5&version=1.2.0",d=$.ajax({url:c,xhrFields:{withCredentials:!1},cache:!0});return d}}},Bg=window.interfaces,Cg=Bg.connect,Dg=function(a,b){var c=a.myProfile.self.eduList&&a.myProfile.self.eduList.length&&a.myProfile.self.eduList[0].specialisation.value||null,d=a.myProfile.self.empList&&a.myProfile.self.empList.length&&a.myProfile.self.empList[0].designation||null,e=a.myProfile.keySkills&&(","==a.myProfile.keySkills.slice(-1)?a.myProfile.keySkills.slice(0,-1):a.myProfile.keySkills),f="employmentSection"==b.source?b.currentKeySkills:e;return{currentRoute:a.route.current,keySkills:f,userDetail:a.userDetails,suggSkillsParam:"experienced"==a.myProfile.basicDetails.workStatus?d:c,route:a.route,lbInst:b.lbInst||null,profileCompletenessScore:a.pendingAction&&a.pendingAction.Key_Skills&&a.pendingAction.Key_Skills.subSectionWeightage||"8",origin:"pendingAction"==b.origin?"pA":"profile",messengerId:b.messengerId||null}},Eg=function(a,b){var c=function(b,c){var d="success"===b?"keySkillMessenger":"keySkillEditMessenger";a({type:Ed,payload:{id:d,type:b,msg:c}}),"error"===b&&$(".msgBox").focus()},e=function(b,c,d){var e="success"===b?d:"keySkillEditMessenger";a({type:Ed,payload:c?{id:e,type:b,msg:c}:{id:e,type:b}})};return{keySkillsSave:function(b,f,g){var h=G(f,g),i=Ra+"/profiles/"+b;return $.ajax({url:i,datatype:"json",data:JSON.stringify(h),method:"POST",headers:{accept:"application/json","X-HTTP-Method-Override":"PUT","Content-Type":"application/json",clientid:"d3skt0p"}}).then(function(b){setTimeout(function(){a(Ae.getMyProfile("MNJFlow")).then(function(b){a(Ae.getDashboard()),"pA"==f.origin?(e("success","Key Skills have been successfully saved.",f.pAMessengerId),$(window).scrollTop(0),d("spa-event","PendingAction","keySkills","Save")):(c("success","Key Skills have been successfully saved."),d("spa-event","EditProfile","keySkills","Save")),f.lbInst.close()})},10)},function(a){c("error"),d("spa-event","EditProfile","keySkills","SaveError",a.status+a.statusText+JSON.stringify(h)+i)})},hideMessenger:function(){var b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"keySkillEditMessenger";a({type:Fd,payload:{id:b}})},getSuggestionCips:function(b){return a(Ag.getSuggestionCips(b))},submitToPushdown:function(a,c,d,e){var f=H(d,c);b.saveLightBox(a,c,f,e)}}},Fg=Cg(Dg,Eg)(zg),Gg=window.interfaces,Hg=Gg.Virtual,Ig=function(a){function b(){Nb(this,b);var a=Sb(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments));return a.lazyloadContainer=null,a.addKeySkillsBtn=null,a.addKeySkillsCont=null,a.formName="keySkillsForm",a.state={addKeySkillsInstance:null,showDialog:!1,profileCompletenessScore:a.props.profileCompletenessScore+"%",keySkills:a.props.keySkills,keySkillArr:a.props.keySkills&&a.props.keySkills.split(",")||[]},a}return Rb(b,a),Ob(b,[{key:"initDrawerCall",value:function(){this.state.addKeySkillsInstance||this.initDrawer()}},{key:"initDrawer",value:function(){var a=this;this.state.addKeySkillsInstance=$(this.addKeySkillsBtn).lightBox({model:$(this.addKeySkillsCont),dimens:{width:"685px"},open:{event:"click",anim:"flipOpen",minTop:100,success:function(){d("spa-event","EditProfile","keySkills","EditOpen"),a.setState({showDialog:!0},function(){$(window).resize()})}},close:{layer:!1,anim:"flipClose",nodes:$(".crossLayer"),success:function(b){a.props.hideMessenger(),a.setState({showDialog:!1}),b&&d("spa-event","EditProfile","keySkills","Cancel")}}})}},{key:"attributeChangedCallback",value:function(a){a.keySkills!=this.props.keySkills&&this.setState({keySkills:a.keySkills,keySkillArr:a.keySkills&&a.keySkills.split(",")||[],suggParams:Qb({},this.state.suggParams,{value:a.keySkills})})}},{key:"attachedCallback",value:function(){this.initDrawerCall()}},{key:"render",value:function(){var a=this,b=this.props.keySkills,c=b&&b.split(",");return Hg.createElement("div",{className:"keySkills"},Hg.createElement("div",{className:"card"},Hg.createElement(Pd,{id:"keySkillMessenger",autoHideIn:"4000"}),Hg.createElement("div",{className:"cardPad"},Hg.createElement("div",{className:"widgetHead"},Hg.createElement("span",{className:"widgetTitle"},"Key Skills"),this.props.keySkills?null:Hg.createElement("span",{className:"profileComScore"},"Add ",this.state.profileCompletenessScore),this.props.keySkills?Hg.createElement("span",{className:"edit icon",ref:function(b){a.addKeySkillsBtn=b}},"Edit"):Hg.createElement("span",{className:"add",ref:function(b){a.addKeySkillsBtn=b}},"ADD KEY SKILLS")),Hg.createElement("div",{className:"widgetCont"},this.props.keySkills?Hg.createElement("div",{className:"prefill"},c.map(function(a,b){return!!a&&Hg.createElement("span",{className:"chip",title:a,key:b},a)})):Hg.createElement("div",{className:"empty"},this.props.emptyText)))),Hg.createElement("div",{className:"lightbox profileEditDrawer keySkillsEdit",ref:function(b){a.addKeySkillsCont=b}},Hg.createElement("div",{className:"crossLayer"},Hg.createElement("span",{className:"icon"},"CrossLayer")),this.state.showDialog&&Hg.createElement(Fg,{origin:this.props.origin,messengerId:this.props.messengerId,lbInst:this.state.addKeySkillsInstance})))}}]),b}(Hg.PureComponent),Jg=window.interfaces,Kg=Jg.connect,Lg=function(a,b){var c=a.myProfile.self.eduList&&a.myProfile.self.eduList.length&&a.myProfile.self.eduList[0].specialisation.value||null,d=a.myProfile.self.empList&&a.myProfile.self.empList.length&&a.myProfile.self.empList[0].designation||null,e="Tell recruiters what you know or what you are known for e.g. Direct Marketing, Oracle, Java etc. We will send you job recommendations based on these skills.",f="pending action text";return{currentRoute:a.route.current,keySkills:a.myProfile.keySkills&&(","==a.myProfile.keySkills.slice(-1)?a.myProfile.keySkills.slice(0,-1):a.myProfile.keySkills),userDetail:a.userDetails,suggSkillsParam:"experienced"==a.myProfile.basicDetails.workStatus?d:c,route:a.route,profileCompletenessScore:a.pendingAction&&a.pendingAction.Key_Skills&&a.pendingAction.Key_Skills.subSectionWeightage||"8",emptyText:"pendingAction"==b.origin?f:e,origin:b.origin,pAMessengerId:b.messengerId}},Mg=function(a){return{hideMessenger:function(){var b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"keySkillEditMessenger";a({type:Fd,payload:{id:b}})}}},Ng=Kg(Lg,Mg)(Ig),Og={1:"Jan",2:"Feb",3:"Mar",4:"Apr",5:"May",6:"Jun",7:"Jul",8:"Aug",9:"Sep",10:"Oct",11:"Nov",12:"Dec"},Pg={"Full Time":"F","Part Time":"P",correspondence:"C"},Qg={F:"Full Time",P:"Part Time",C:"correspondence"},Rg={M:"male",F:"female"},Sg={male:"M",female:"F"},Tg=function(){for(var a=(new Date).getFullYear(),b={},c=a;c>=1940;c--)b["#"+c]=c;return b}(),Ug=function(){for(var a=(new Date).getFullYear()+4,b={},c=a;c>=1940;c--)b["#"+c]=c;return b}(),Vg=function(a){function b(){return g}function c(b){var c={};if(b==e){for(var d=f;d<=12;d++)c[d]=a[d];return c}return a}function d(a,b){var c={};if(a&&b){var d=new Date(a,b,0).getDate();if(b==f)for(var e=(new Date).getDate();e<=d;e++)c[e]=e;else for(var g=1;g<=d;g++)c[g]=g}else for(var h=1;h<=31;h++)c[h]=h;return c}for(var e=(new Date).getFullYear(),f=(new Date).getMonth()+1,g={},h=e+1;h>=e;h--)g["#"+h]=h;return{year:b,month:c,day:d}}(Og),Wg={fullTime:"Full Time",partTime:"Part Time",contractual:"contractual",permanent:"permanent",offsite:"offsite",onsite:"onsite"},Xg=function(a){function b(){for(var b={},c=e+1;c<=12;c++)b[c]=a[c];return b}function c(b){return b?g[b]:a}var d,e;d=(new Date).getFullYear(),e=(new Date).getMonth();for(var f={},g={},h=d;h<=d+2;h++)f[h]=h,h==d?g[h]=b():g[h]=a;return{year:f,month:c}}(Og),Yg=function(a){function b(a,b){a=a||1970,b=b||0;for(var c=d-b,e={},f=c;f>=a;f--)e["#"+f]=f;return e}function c(b){var c={};if(b==d){for(var f=1;f<=e;f++)c[f]=a[f];return c}return a}var d,e;return d=(new Date).getFullYear(),e=(new Date).getMonth()+1,{year:b,month:c}}(Og),Zg={industryRange:qd("industry_err","hid_indDroope",Zc),fareaRange:qd("farea_err","hid_fareaDroope",$c),roleRange:qd("role_err","hid_roleDroope",_c),salaryRange:rd("salary_err","hid_lakhDroope","hid_thouDroope",Ic,Jc,{blank:!0}),locRange:qd("loc_err","hid_locDroope",ad,{blank:!0}),prefIndustryRange:qd("prefIndustry_err","hid_prefInsDroope",Zc,{blank:!0}),industry:{msg:"Please select Industry.",id:"industry_err"},farea:{msg:"Please select Functional area.",id:"farea_err"},role:{msg:"Please select Role.",id:"role_err"},joinDate:function(){if(!$("#availability").prop("checked")){var a=$("#hid_expYearDroope").val(),b=$("#hid_expMonthDroope").val();return(""!=a&&""==b||""==a&&""!=b)&&{msg:"Please specify valid date.",id:"joinDate_err"}}return!1}},$g=window.interfaces.Virtual,_g=function(a){function b(){Nb(this,b);var a=Sb(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments));return a.onChangeDroope=function(b,c,d){var e=c.constructor===Array||!1;"functionalArea"==b&&(a.resetDroope("roleDroope"),setTimeout(function(){$("#hid_roleDroope").attr("rel","required:role"),a.initValidation()},100),a.setState({role:{id:"",value:""}})),"expectedCtcLac"==b&&c>50&&(a.resetDroope("thouDroope"),a.setState({expectedCtcThou:{id:"",value:""}})),"joinDateYear"==b&&(a.resetDroope("expMonthDroope"),a.setState({joinDateMonth:{id:"",value:""}})),a.setState(Pb({},b,{id:c,value:e?I(d).join(", "):d}))},a.joinDateCheck=function(b){var c=b.target.checked;c?(a.setState({isImmediateAvail:"immediately",joinDateYear:{id:"",value:""},joinDateMonth:{id:"",value:""}}),a.resetDroope("expYearDroope"),a.resetDroope("expMonthDroope")):a.setState({isImmediateAvail:""})},a.closeLayer=function(){d("spa-event","EditProfile","desiredCareerProfile","Cancel"),history.back()},a.saveDesiredProfile=function(b){if(b.preventDefault(),a.validator.isValid()){var c={profileId:a.props.profileId,userType:a.props.userType,lbInst:a.props.lbInst,trackGA:d},e=Qb({},a.state);e.expectedCtcLac.id="string"==typeof e.expectedCtcLac.id?parseInt(e.expectedCtcLac.id.replace("#","")):e.expectedCtcLac.id,e.expectedCtcThou.id="string"==typeof e.expectedCtcThou.id?parseInt(e.expectedCtcThou.id.replace("#","")):e.expectedCtcThou.id,a.props.submitDesiredProfile(c,e)}},a.formName="desiredProfileForm",a.state={industry:a.props.profile.industry,functionalArea:a.props.profile.functionalArea,role:a.props.profile.role,desiredJobType:a.props.profile.desiredJobType,desiredEmploymentType:a.props.profile.desiredEmploymentType,preferredLocation:a.props.profile.preferredLocation,preferredIndustry:a.props.profile.preferredIndustry,shiftPrefTime:a.props.profile.shiftPrefTime,expectedCtcLac:a.props.profile.expectedCtcLac,expectedCtcThou:a.props.profile.expectedCtcThou,expectedCtcCurrency:a.props.profile.expectedCtcCurrency,isImmediateAvail:a.props.profile.isImmediateAvail,joinDateYear:a.props.profile.joinDateYear,joinDateMonth:a.props.profile.joinDateMonth,origin:a.props.origin,pAMessengerId:a.props.messengerId},a}return Rb(b,a),Ob(b,[{key:"initValidation",value:function(){this.validator=window.commonValidator(),this.validator.validate({formNames:[this.formName],errors:Zg,focusOnError:!0,submitButton:"saveDesiredProfile",styles:{parentObjectClass:"row",maxLevel:6,errorClass:"err"}})}},{key:"attachedCallback",value:function(){try{this.initValidation()}catch(a){}}},{key:"toggleCheckData",value:function(a,b){var c=a.target.id,d=this.state[b].concat([]),e=d.indexOf(Wg[c]);e==-1?d.push(Wg[c]):d.splice(e,1),this.setState(Pb({},b,d))}},{key:"resetDroope",value:function(a){var b=$("#"+a).data("droope");b&&b.reset()}},{key:"render",value:function(){var a,b=this;$("#locDroope .tagit").length?$("#locDroope .srchTxt").addClass("changePosition"):$("#locDroope .srchTxt").removeClass("changePosition"),$("#prefInsDroope .tagit").length?$("#prefInsDroope .srchTxt").addClass("changePosition"):$("#prefInsDroope .srchTxt").removeClass("changePosition");var c=this.state.desiredJobType.indexOf("permanent")>-1,d=this.state.desiredJobType.indexOf("contractual")>-1,e=this.state.desiredEmploymentType.indexOf("Full Time")>-1,f=this.state.desiredEmploymentType.indexOf("Part Time")>-1,g="immediately"==this.state.isImmediateAvail,h=g?{disabled:"disabled"}:{},i=!(this.state.expectedCtcLac.id>50),j="fresher"==this.props.userType;return $g.createElement("div",null,$g.createElement(Pd,{id:"desiredProfileFormMessenger"}),$g.createElement("form",{name:this.formName,id:this.formName,className:"container desiredProfileForm lbpadding",noValidate:!0},$g.createElement("div",{className:"editHeader"},$g.createElement("div",null,$g.createElement("span",{className:"widgetTitle mb5"},"Desired Career Profile")),$g.createElement("div",null,$g.createElement("span",{className:"lbl widgetDesc"},"This information will help the recruiters and Naukri know about your job preferences. This will help us personalize your job recommendations."))),$g.createElement("div",{className:"row"},$g.createElement("div",{className:"input-field col s12 mt0"},$g.createElement("span",{className:"lbl required-field"},"Industry")),$g.createElement("div",{className:"col s12"},$g.createElement(ld,{id:"indDroope",data:Zc,tags:!0,maxTagsCount:3,prefillData:[this.state.industry.id],placeholder:"Select Industry",rel:"required:industry,custom:industryRange",sortPrefix:"#",iconName:"DownArrow",onChange:function(a,c){return b.onChangeDroope("industry",a,c)}}),$g.createElement("span",{className:"erLbl",id:"industry_err"}))),$g.createElement("div",{className:"row"},$g.createElement("div",{className:"input-field col s12"},$g.createElement("span",{className:"lbl required-field"},"Functional Area / Department")),$g.createElement("div",{className:"col s12"},$g.createElement(ld,{id:"fareaDroope",data:$c,prefillData:[this.state.functionalArea.id],placeholder:"Select Desired Functional Area / Department",rel:"required:farea,custom:fareaRange",sortPrefix:"#",iconName:"DownArrow",onChange:function(a,c){return b.onChangeDroope("functionalArea",a,c)}}),$g.createElement("span",{className:"erLbl",id:"farea_err"}))),$g.createElement("div",{className:"row"},$g.createElement("div",{className:"input-field col s12"},$g.createElement("span",{className:"lbl required-field"},"Role")),$g.createElement("div",{className:"col s12"},$g.createElement(ld,{id:"roleDroope",prefillParent:this.state.functionalArea.id,data:_c,prefillData:[this.state.role.id],placeholder:"Select Desired Role",rel:"required:role",sortPrefix:"#",iconName:"DownArrow",onChange:function(a,c){return b.onChangeDroope("role",a,c)}}),$g.createElement("span",{className:"erLbl",id:"role_err"}))),$g.createElement("div",{className:"row"},$g.createElement("div",{className:"input-field col s12"},$g.createElement("span",{className:"lbl"},"Job Type")),$g.createElement("div",{className:"col s4"},$g.createElement("input",{name:"desiredJobType",className:"filled-in",type:"checkbox",onChange:function(a){return b.toggleCheckData(a,"desiredJobType")},id:"permanent",checked:c}),$g.createElement("label",{htmlFor:"permanent"},"Permanent")),$g.createElement("div",{className:"col s4"},$g.createElement("input",{name:"desiredJobType",className:"filled-in",type:"checkbox",onChange:function(a){return b.toggleCheckData(a,"desiredJobType")},id:"contractual",checked:d}),$g.createElement("label",{htmlFor:"contractual"},"Contractual"))),$g.createElement("div",{className:"row"},$g.createElement("div",{className:"input-field col s12"},$g.createElement("span",{className:"lbl"},"Employment Type")),$g.createElement("div",{className:"col s4"},$g.createElement("input",{name:"desiredEmploymentType",className:"filled-in",type:"checkbox",onChange:function(a){return b.toggleCheckData(a,"desiredEmploymentType")},id:"fullTime",checked:e}),$g.createElement("label",{htmlFor:"fullTime"},"Full Time")),$g.createElement("div",{className:"col s4"},$g.createElement("input",{name:"desiredEmploymentType",className:"filled-in",type:"checkbox",onChange:function(a){return b.toggleCheckData(a,"desiredEmploymentType")},id:"partTime",checked:f}),$g.createElement("label",{htmlFor:"partTime"},"Part Time"))),$g.createElement("div",{className:"row"},$g.createElement("div",{className:"input-field col s12"},$g.createElement("span",{className:"lbl"},"Preferred Shift")),$g.createElement("div",{className:"col s4"},$g.createElement("input",{name:"preferredShiftType",className:"with-gap",type:"radio",onChange:function(a){return b.setState({shiftPrefTime:{id:"D",value:"Day"}})},id:"day_shift",checked:"D"==this.state.shiftPrefTime.id}),$g.createElement("label",{htmlFor:"day_shift"},"Day")),$g.createElement("div",{className:"col s4"},$g.createElement("input",{name:"preferredShiftType",className:"with-gap",type:"radio",onChange:function(a){return b.setState({shiftPrefTime:{id:"N",value:"Night"}})},id:"night_shift",checked:"N"==this.state.shiftPrefTime.id}),$g.createElement("label",{htmlFor:"night_shift"},"Night")),$g.createElement("div",{className:"col s4"},$g.createElement("input",{name:"preferredShiftType",className:"with-gap",type:"radio",onChange:function(a){return b.setState({shiftPrefTime:{id:"F",value:"Flexible"}})},id:"flexible_shift",checked:"F"==this.state.shiftPrefTime.id}),$g.createElement("label",{htmlFor:"flexible_shift"},"Flexible"))),j&&$g.createElement("div",{className:"row"},$g.createElement("div",{className:"input-field col s12"},$g.createElement("span",{className:"lbl"},"Availability to Join")),$g.createElement("div",{className:"col s4"},$g.createElement(Bc,Qb({id:"expYearDroope",data:Xg.year,prefillData:[this.state.joinDateYear.id],rel:"custom:joinDate",placeholder:"Year",iconName:"DownArrow",onChange:function(a,c){return b.onChangeDroope("joinDateYear",a,c)}},h))),$g.createElement("div",{className:"col s4"},$g.createElement(Bc,Qb({id:"expMonthDroope",data:Xg.month(this.state.joinDateYear.id),prefillData:[this.state.joinDateMonth.id],placeholder:"Month",iconName:"DownArrow",onChange:function(a,c){return b.onChangeDroope("joinDateMonth",a,c)}},h))),$g.createElement("div",{className:"col s12"},$g.createElement("span",{className:"erLbl",id:"joinDate_err"})),$g.createElement("div",{className:"col s12 mt15"},$g.createElement("input",{name:"availability",className:"filled-in",type:"checkbox",id:"availability",onChange:this.joinDateCheck,checked:g}),$g.createElement("label",{htmlFor:"availability"},"Join Immediately"))),$g.createElement("div",{className:"row"},$g.createElement("div",{className:"input-field col s12"},$g.createElement("span",{className:"lbl"},"Expected Salary")),$g.createElement("div",{className:"col s12"},$g.createElement("div",{className:"row"},$g.createElement("div",{className:"col s4"},$g.createElement("input",{name:"currency",className:"with-gap",type:"radio",id:"INR",onChange:function(a){return b.setState({expectedCtcCurrency:"INR"})},checked:"INR"==this.state.expectedCtcCurrency}),$g.createElement("label",{htmlFor:"INR"},"Indian Rupees")),$g.createElement("div",{className:"col s4"},$g.createElement("input",{name:"currency",className:"with-gap",type:"radio",id:"USD",onChange:function(a){return b.setState({expectedCtcCurrency:"USD"})},checked:"USD"==this.state.expectedCtcCurrency}),$g.createElement("label",{htmlFor:"USD"},"US Dollars")))),$g.createElement("div",{className:"col s4"},$g.createElement(ld,{id:"lakhDroope",data:Ic,rel:"custom:salaryRange",postText:"Lacs",prefillData:[this.state.expectedCtcLac.id],placeholder:"Lacs",sortPrefix:"#",iconName:"DownArrow",onChange:function(a,c){return b.onChangeDroope("expectedCtcLac",a,c)}})),i&&$g.createElement("div",{className:"col s4"},$g.createElement(ld,{id:"thouDroope",rel:"custom:salaryRange",data:Jc,postText:"Thousands",prefillData:[this.state.expectedCtcThou.id],placeholder:"Thousand",sortPrefix:"#",iconName:"DownArrow",onChange:function(a,c){return b.onChangeDroope("expectedCtcThou",a,c)}})),$g.createElement("div",{className:"col s12"},$g.createElement("span",{className:"erLbl",id:"salary_err"}))),$g.createElement("div",{className:"row"},$g.createElement("div",{className:"input-field col s12"},$g.createElement("span",{className:"lbl"},"Desired Location")),$g.createElement("div",{className:"col s12 desiredLoc"},$g.createElement(ld,{id:"locDroope",data:ad,rel:"custom:locRange",prefillData:this.state.preferredLocation.id,placeholder:"Select Desired Location",checkBox:!0,tags:!0,maxSelection:3,sortPrefix:"#",iconName:"DownArrow",preText:"You have selected",onChange:function(a,c){return b.onChangeDroope("preferredLocation",a,c)},onError:function(a){}})),$g.createElement("div",{className:"col s12"},$g.createElement("label",null,"You can choose upto 3 locations")),$g.createElement("div",{className:"col s12"},$g.createElement("span",{className:"erLbl",id:"loc_err"}))),$g.createElement("div",{className:"row"},$g.createElement("div",{className:"input-field col s12"},$g.createElement("span",{className:"lbl"},"Desired Industry")),$g.createElement("div",{className:"col s12 desiredInd"},$g.createElement(ld,{id:"prefInsDroope",data:Zc,rel:"custom:prefIndustryRange",prefillData:this.state.preferredIndustry.id,placeholder:"Select Desired Industry",checkBox:!0,tags:!0,maxSelection:3,sortPrefix:"#",iconName:"DownArrow",preText:"You have selected",onChange:function(a,c){return b.onChangeDroope("preferredIndustry",a,c)},onError:function(a){}})),$g.createElement("div",{className:"col s12"},$g.createElement("label",null,"You can choose upto 3 industries")),$g.createElement("div",{className:"col s12"},$g.createElement("span",{className:"erLbl",id:"prefIndustry_err"}))),$g.createElement("div",{className:"row"},$g.createElement("div",{className:"col s12 action"},$g.createElement("a",(a={className:"blue-text"},Pb(a,"className","cancelLayer mr20"),Pb(a,"href","javascript:void(0)"),Pb(a,"onClick",this.closeLayer),a),"CANCEL"),$g.createElement("button",{className:"waves-effect waves-light btn-large",type:"button",id:"saveDesiredProfile",onClick:this.saveDesiredProfile},"Save")))))}}]),b}($g.PureComponent),ah=window.interfaces,bh=ah.connect,ch=function(a,b){return{profile:a.myProfile.otherDetails,userType:a.myProfile.basicDetails.workStatus,profileId:a.userDetails.profileId,origin:"pendingAction"==b.origin?"pA":"profile",messengerId:b.messengerId||null}},dh=function(a){var b=function(b,c){var d="success"===b?"desiredProfileMessenger":"desiredProfileFormMessenger";a({type:Ed,payload:c?{id:d,type:b,msg:c}:{id:d,type:b}}),"error"===b&&$(".msgBox").focus()},c=function(){var b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"desiredProfileFormMessenger";a({type:Fd,payload:{id:b}})},d=function(b,c,d){var e="success"===b?d:"educationEditMessenger";a({type:Ed,payload:c?{id:e,type:b,msg:c}:{id:e,type:b}})};return{submitDesiredProfile:function(e,f){c();var g=K(e.userType,f),h=Ra+"/profiles/"+e.profileId;return $.ajax({url:h,datatype:"json",data:JSON.stringify(g),method:"POST",headers:{accept:"application/json","X-HTTP-Method-Override":"PUT","Content-Type":"application/json"}}).then(function(c){setTimeout(function(){a(Ae.getMyProfile("MNJFlow")).then(function(c){a(Ae.getDashboard()),"pA"==f.origin?(d("success","Desired Career Profile have been successfully saved.",f.pAMessengerId),e.trackGA("spa-event","PendingAction","desiredCareerProfile","Save"),$(window).scrollTop(0)):(b("success","Desired Career Profile have been successfully saved."),e.trackGA("spa-event","EditProfile","desiredCareerProfile","Save"))})},10),history.back()},function(a){b("error"),e.trackGA("spa-event","EditProfile","desiredCareerProfile","SaveError",a.status+a.statusText+JSON.stringify(g)+h)})}}},eh=bh(ch,dh)(_g),fh=window.interfaces.Virtual,gh=function(a){function b(){Nb(this,b);var a=Sb(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments));return a.openDrawer=function(b,c){c&&a.focusTarget(c),a.addDesiredProfileInstance||(a.addDesiredProfileInstance=a.initDrawer(b.target)),a.setState({showDialog:!0},function(){a.addDesiredProfileInstance.open()})},a.addDesiredProfileCont=null,a.addDesiredProfileInstance=null,a.state={showDialog:!1},a}return Rb(b,a),Ob(b,[{key:"attachedCallback",value:function(){}},{key:"initDrawer",value:function(a){var b=this;return $(a).lightBox({model:$(this.addDesiredProfileCont),dimens:{width:"685px"},open:{anim:"flipOpen",minTop:100,success:function(){d("spa-event","EditProfile","desiredCareerProfile","EditOpen")},event:""},close:{layer:!1,anim:"flipClose",nodes:$(".cancelLayer,.crossLayer"),success:function(a){b.setState({showDialog:!1}),a&&d("spa-event","EditProfile","desiredCareerProfile","Cancel")}}})}},{key:"addDetails",value:function(a,b){var c=this;return fh.createElement("a",{href:"javascript:;",tabIndex:"0",className:"no-outline fs13 fw500",onClick:function(a){return c.openDrawer(a,b)}},a)}},{key:"focusTarget",value:function(a){a&&window.setTimeout(function(){var b=document.querySelector(a);b&&b.focus()},1e3)}},{key:"formatArrToStr",value:function(a){return"string"==typeof a?a:a.join(", ")}},{key:"formatCtc",value:function(a,b,c){var d="";return""===b&&""===c?d="":(b=""===b?0:b,c=""===c?0:c,d=0==c?a+" "+b+" Lakh(s)":a+" "+b+" Lakh(s) "+c+" Thousand"),d}},{key:"formatAvailability",value:function(a,b,c){var d="",e=Xg.month(b);return"immediately"==a?d=a:b&&c&&e&&(d=e[c]+", "+b),d}},{key:"render",value:function(){var a=this,b=("immediately"==this.props.profile.isImmediateAvail,"fresher"==this.props.userType);return fh.createElement("div",{className:"desiredProfile"},fh.createElement("div",{className:"card"},fh.createElement(Pd,{id:"desiredProfileMessenger",autoHideIn:"4000"}),fh.createElement("div",{className:"cardPad"},fh.createElement("div",{className:"widgetHead"},fh.createElement("span",{className:"widgetTitle"},"Desired Career Profile"),fh.createElement("span",{className:"edit icon",tabIndex:"0",onClick:function(b){return a.openDrawer(b)}},"Edit")),fh.createElement("div",{className:"widgetCont"+(this.props.isZUser?"":" m0")},this.props.isZUser&&fh.createElement("span",{className:"empty"},"This information will help the recruiters and Naukri know about your job preferences. This will help us personalize your job recommendations."),fh.createElement("div",{className:"row hori-list"},fh.createElement("div",{className:"col s6"},fh.createElement("div",{className:"title"},"Industry"),fh.createElement("div",{className:"desc"},this.props.profile.industry.value||this.addDetails("Add Industry","#indDroopeFor"))),fh.createElement("div",{className:"col s6"},fh.createElement("div",{className:"title"},"Functional Area"),fh.createElement("div",{className:"desc"},this.props.profile.functionalArea.value||this.addDetails("Add Functional Area","#fareaDroopeFor"))),fh.createElement("div",{className:"col s6"},fh.createElement("div",{className:"title"},"Role"),fh.createElement("div",{className:"desc"},this.props.profile.role.value||this.addDetails("Add Role","#roleDroopeFor"))),fh.createElement("div",{
className:"col s6"},fh.createElement("div",{className:"title"},"Job Type"),fh.createElement("div",{className:"desc"},this.formatArrToStr(this.props.profile.desiredJobType)||this.addDetails("Add Job Type","#permanent"))),fh.createElement("div",{className:"col s6"},fh.createElement("div",{className:"title"},"Employment Type"),fh.createElement("div",{className:"desc"},this.formatArrToStr(this.props.profile.desiredEmploymentType)||this.addDetails("Add Employment Type","#fullTime"))),fh.createElement("div",{className:"col s6"},fh.createElement("div",{className:"title"},"Desired Shift"),fh.createElement("div",{className:"desc"},this.props.profile.shiftPrefTime.value||this.addDetails("Add Desired Shift","#day_shift"))),b&&fh.createElement("div",{className:"col s6"},fh.createElement("div",{className:"title"},"Availability to Join"),fh.createElement("div",{className:"desc"},this.formatAvailability(this.props.profile.isImmediateAvail,this.props.profile.joinDateYear.value,this.props.profile.joinDateMonth.value)||this.addDetails("Add Availability","#expYearDroopeFor"))),fh.createElement("div",{className:"col s6"},fh.createElement("div",{className:"title"},"Expected Salary"),fh.createElement("div",{className:"grey-text"},this.formatCtc(this.props.profile.expectedCtcCurrency,this.props.profile.expectedCtcLac.value,this.props.profile.expectedCtcThou.value)||this.addDetails("Add Expected Salary","#lakhDroopeFor"))),fh.createElement("div",{className:"col s6"},fh.createElement("div",{className:"title"},"Desired Location"),fh.createElement("div",{className:"desc"},this.props.profile.preferredLocation&&this.props.profile.preferredLocation.value||this.addDetails("Add Desired Location","#locDroopeFor"))),fh.createElement("div",{className:"col s6"},fh.createElement("div",{className:"title"},"Desired Industry"),fh.createElement("div",{className:"desc"},this.props.profile.preferredIndustry&&this.props.profile.preferredIndustry.value||this.addDetails("Add Desired Industry","#prefInsDroopeFor"))))))),fh.createElement("div",{className:"lightbox desiredProfile profileEditDrawer",ref:function(b){a.addDesiredProfileCont=b}},fh.createElement("div",{className:"crossLayer"},fh.createElement("span",{className:"icon"},"CrossLayer")),this.state.showDialog&&fh.createElement(eh,{origin:this.props.origin,messengerId:this.props.messengerId,lbInst:this.addDesiredProfileInstance})))}}]),b}(fh.PureComponent),hh=window.interfaces,ih=hh.connect,jh=function(a,b){return{profile:a.myProfile.otherDetails,userType:a.myProfile.basicDetails.workStatus,route:a.route,isZUser:a.myProfile.self.isZUser,origin:b.origin,pAMessengerId:b.messengerId}},kh=function(a){return{}},lh=ih(jh,kh)(gh),mh=window,nh=mh.requirejs,oh=window.interfaces.routeUtil.loadModulePromise,ph=["ncUploader"+aa],qh=[{flowName:"mnj",jsVersion:"_v59",cssVersion:"_v9"},{flowName:"inbox",jsVersion:"_v49",cssVersion:"_v4"},{flowName:"searchFlow",jsVersion:"_v52",cssVersion:"_v10"},{flowName:"savedJobs",jsVersion:"_v28"},{flowName:"pendingAction",jsVersion:"_v39",cssVersion:"_v5"},{flowName:"dashboard",jsVersion:"_v63",cssVersion:"_v12"},{flowName:"setting",jsVersion:"_v37",cssVersion:"_v4"}],rh={};[].concat(qh).forEach(function(a){var b=a.flowName,c=a.cssVersion,d=void 0===c?"":c,e=a.jsVersion,f=void 0===e?"":e;rh[b]={flow:function(){return oh(""+b+f+aa)},styles:function(){return oh("text"+aa+"!c/"+b+d+aa+".css")}}}),nh.config({baseUrl:Z+"/j",paths:{c:"../c"},config:Pb({},"text"+aa,{useXhr:function(a,b,c,d){return!0}}),waitSeconds:30});var sh=function(a){return function(){var a="",b=["mob_number","tel_pNumber"],c=$("#"+b[0]).val()||$("#"+b[1]).val();return!c&&(a="Please specify your Contact number.",{msg:a,id:"mob_number_err"})}},th=function(a){return function(b){var c="",d=b.val().trim();return d?d.length>250?c="Keyskills length should not be more than 250 characters.":d.match(/^[^\\<]*$/)||(c="Please remove Less than(<) characters."):c="Please specify atleast one Key Skill.",{msg:c,id:a}}},uh={industry:{msg:"Please select Industry.",id:"industry_err"},farea:{msg:"Please select Functional area.",id:"farea_err"},role:{msg:"Please select Role.",id:"role_err"},location:{msg:"Please select your Location.",id:"loc_err"},city:{msg:"Please specify City.",id:"city_err"},otherLoc:{msg:"Special characters other than comma(,) hyphen(-) SingleQuote(') Dot(.) are not allowed.",regEx:/^[a-zA-Z0-9'\s&,.\-\(\)\/]+$/,id:"city_err"},profileSummary:{msg:"Please specify Profile summary.",id:"profileSummaryTxt_err"},mobNumber:sh("mob_number_err"),validChar:sd("profileSummaryTxt_err"),industryRange:qd("industry_err","hid_indDroope",Zc),fareaRange:qd("farea_err","hid_fareaDroope",$c),roleRange:qd("role_err","hid_roleDroope",_c),cityRange:qd("loc_err","hid_location-droope",Ec),countryRange:qd("loc_err","hid_location-droope",Fc),1e3:th("chipsVal_err"),1003:{msg:"Mobile number can contain only 7-15 digits & can start with + sign.",regEx:/^(?!\+$)((^\+?[0-9]{7,15})|(^\+?[0-9]{7,15}))(\.[0-9]{8,15})?$/}},vh=window.interfaces.Virtual,wh=function(a){function b(){Nb(this,b);var a=Sb(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments));a.suggestorTemplate=function(){return vh.createElement("div",{className:""},vh.createElement("div",{className:"suggest keySkillSuggCont"},vh.createElement("div",{className:"sWrap"},vh.createElement("div",{className:"inpWrap"},vh.createElement("div",{className:"chipsContainer"}),vh.createElement("input",{placeholder:"Enter your area of Expertise/Specialization",type:"text",onBlur:a.createChipsOnBlur.bind(a),className:"sugInp",name:"suggestor",ref:function(b){a.sugInput=b},onChange:function(b){return a.handleCharChange(b)},onKeyUp:a.suggestorOnKeyUp.bind(a),id:"keySkillSugg",maxLength:a.state.charsPreFilled}),vh.createElement("p",{className:"textCounter right"},a.state.charsPreFilled-a.state.charsFilled," Character(s) Left")))),vh.createElement("input",{type:"hidden",id:"chipsVal",rel:"custom:1000"}),vh.createElement("div",{className:"inputInfo"},vh.createElement("span",{className:"erLbl",id:"chipsVal_err"})))};var c=a.props.keySkills,d=c&&c.split(",")||[],e=c&&c.length<250&&d.length>0?1:0,f=c?250-parseInt(c.length)-e:250;return a.state={keySkills:c,keySkillArr:d,charsPreFilled:f,charsFilled:"0",addKeySkillsInstance:null,showDialog:!1,profileCompletenessScore:a.props.profileCompletenessScore+"%",lbInst:a.props.lbInst,_suggKeySkills:[],suggKeySkills:[],origin:a.props.origin,pAMessengerId:a.props.messengerId,suggestedKeySkills:[],suggParams:{appId:"105",width:"100%",id:"keySkillSugg",chipsContSelector:".keySkillSuggCont .chipsContainer",grouping:!1,relatedConcept_dataLayer:!1,placeholderText:"Enter your area of Expertise/Specialization",relatedConceptCategory:{skill:"skills"},multiSearch:!0,maxSuggestions:"7",startSearchAfter:"2",chips:!0,category:{skill:"skills"},maxCharacterLimit:250,singleSelect:!1,errorMessage:"Keyskills length should not be more than 250 character(s).",value:a.props.keySkills&&a.props.keySkills.replace(/, /g,","),onChipDelete:a.onDeleteHandlePlug.bind(a),onSelect:a.suggestorOnSelect.bind(a),getRelatedConcepts:function(b){a.getRelatedConcepts(b)},suggestorOnKeyUp:a.suggestorOnKeyUp.bind(a)}},a}return Rb(b,a),Ob(b,[{key:"suggestorOnSelect",value:function(a,b){var c=b.replace(/, /g,"");c="Warning: maximum length reached"===b?"":b;var d=this.checkValueUniqueness(c);if(c.length){if(d){var e=[c],f=c.length;this.createChips(e,$(".keySkillsEdit .suggest").find(".chipsContainer"),$("#chipsVal"),!1);var g=this.state,h=g.charsPreFilled,i=g.keySkillArr,j=f&&h!==f?1:0;i.push(c),this.setState({keySkills:i.join(","),keySkillArr:i,charsPreFilled:parseInt(this.state.charsPreFilled)-f-j,charsFilled:0})}else this.setState({charsFilled:0});this.sugInput.value=""}clearTimeout(this.checkBlur)}},{key:"getRelatedConcepts",value:function(a){if(a.resultConcepts.skill.length){for(var b=a.resultConcepts.skill,c=[],d=0;d<b.length;d++)c=[].concat(Tb(c),[b[d].displayTextEn]);$(".suggChips").html(""),this.chipsInput.value="",this.setState({suggestedKeySkills:c}),this.createChips(c,$(".suggChips"),$("#relatedCon"),!0)}}},{key:"scrollBottom",value:function(a){var b=document.getElementsByClassName(a);b[0].scrollTop=b[0].scrollHeight}},{key:"onDeleteHandlePlug",value:function(a){var b=this.state.keySkillArr.filter(function(b){return b!==a[0].title}),c=b.join(","),d=b.length>0&&250!==c.length?1:0;this.setState({keySkillArr:b,keySkills:c,charsPreFilled:parseInt(250-c.length-d)})}},{key:"addSuggestedChips",value:function(){var a=this,b=this.props.getSuggestionCips(this.props.suggSkillsParam);b.then(function(b){for(var c=b.resultList,d=c.skill,e=[],f=0;f<d.length;f++)e=[].concat(Tb(e),[d[f].displayTextEn]);a.createChips(e,$(".suggChips"),$("#relatedCon"),!0),a.setState({suggKeySkills:e,_suggKeySkills:$.extend(!0,[],e)})},function(a){})}},{key:"onDeleteHandle",value:function(a,b,c){var d=this;if(c){if(this.state.charsPreFilled>=a[0].title.replace(/' '/g,"").length&&!this.inArray(a[0].title,this.state.keySkillArr)){var e=[].concat(Tb(this.state.keySkillArr),[a[0].title]),f=e.join(","),g=e.length>0&&250!==f.length?1:0,h=$(".suggChips").find("div[data-id="+a[0].title+"_"+a[0].title.toLowerCase()+"]");h&&h[0]&&h[0].remove();var i=parseInt(this.state.charsPreFilled)-a[0].title.replace(/' '/g,"").length-g;this.setState({charsPreFilled:i,keySkillArr:e,keySkills:f},function(){d.createChips(d.state.keySkillArr,$(".keySkillsEdit .suggest").find(".chipsContainer"),$("#chipsVal"),!1)})}}else this.onDeleteHandlePlug(a);this.scrollBottom("chipsContainer")}},{key:"createChips",value:function(a,b,c,d){for(var e=this,f=0;f<a.length;f++){var g=a[f].replace(/[\\>]*$/,"");g&&window.chips({contId:b,key:g,text:g,hiddenTag:c,tagType:"div",tagTitle:!0,chipClass:"waves-effect chip",onClick:function(a,b,c){d&&e.onDeleteHandle(a,c,d)},onDelete:function(a,b){e.onDeleteHandle(a,b,d),$(window).resize()}})}$(window).resize()}},{key:"inArray",value:function(a,b,c){var d=!1;if(b&&b.length>0)for(var e=0;e<b.length;e++)if(c){if(b[e]===a){d=!0;break}}else{var f=b[e]+"";if(f.toLowerCase()===a.toLowerCase()){d=!0;break}}return d}},{key:"checkValueUniqueness",value:function(a){return!this.inArray(a,this.state.keySkillArr,!1)}},{key:"createChipsOnBlur",value:function(a){var b=this,c=a.target.value.replace(/, /g,""),d=this.checkValueUniqueness(c);if(c.length){if(d){var e=[c],f=c.length;this.checkBlur=window.setTimeout(function(){b.createChips(e,$(".keySkillsEdit .suggest").find(".chipsContainer"),$("#chipsVal"),!1);var a=b.state,d=a.charsPreFilled,g=a.keySkillArr,h=f&&d!==f?1:0;g.push(c),b.setState({keySkills:g.join(","),keySkillArr:g,charsPreFilled:parseInt(b.state.charsPreFilled)-f-h,charsFilled:0})},300)}else this.setState({charsFilled:0});this.sugInput.value=""}}},{key:"attachedCallback",value:function(){this.props.keySkills||this.addSuggestedChips()}},{key:"handleCharChange",value:function(a){var b=a.target.value.replace(/, /g,"");this.setState({charsFilled:b.length})}},{key:"suggestorOnKeyUp",value:function(a){188!=a.keyCode||a.shiftKey||(this.suggestorOnSelect("keySkillSugg",this.sugInput.value.replace(/[,\s]+$/g,"")),this.sugInput.value="")}},{key:"render",value:function(){var a=this;return vh.createElement("div",{className:"col s12"},vh.createElement(tg,this.state.suggParams,function(){return a.suggestorTemplate()}),vh.createElement("input",{type:"hidden",value:"",id:"relatedCon",ref:function(b){a.chipsInput=b}}),vh.createElement("div",{className:"suggChipsCont"},(this.state.suggKeySkills.length>0||this.state.suggestedKeySkills.length>0)&&vh.createElement("label",{className:"fnt13"},"Or you can select from the suggested set of skills"),vh.createElement("div",{className:"row suggChips"})))}}]),b}(vh.PureComponent),xh=window.interfaces.Virtual,yh=function(a){function b(a){Nb(this,b);var c=Sb(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments));return c.validateApiResponse=function(a){return"string"==typeof a},c.getObject=function(a,b){return a?"INDIA"==a?{id:11,value:"INDIA"}:"city"===b?{id:a,value:"",subValue:""}:{id:a,value:""}:null},c.formatKeySkills=function(a){if(a.length<=250)return a;a=a.substr(0,250);var b=a.lastIndexOf(",");return a.substr(0,b)},c.onChangeDroope=function(a,b,d){"functionalArea"==a&&(c.resetDroope("roleDroope"),setTimeout(function(){$("#hid_roleDroope").attr("rel","required:role"),c.initValidation()},100),c.setState({role:{id:"",value:""}})),c.setState(Pb({},a,{id:b,value:d}))},c.setOtherLoc=function(){if(c.state.city){var a=!c.state.isNationalLocation||c.state.city.value&&"other"==c.state.city.value.trim().toLowerCase().slice(-5);c.setState({isOtherLoc:a})}},c.handleChange=function(a,b){c.initialRenderMob=!0;var d={};d[b]=a.target.value,c.setState(d)},c.updateTextCount=function(a){if(c.initialRender=!0,"undefined"==typeof a)var b=c.state.profileSummary.length,d=c.props.recommendedFields.profileSummary.substr(0,1e3);else var e=a.target,b=e.value.length,d=e.value;var f=c.state.maxChar;f-b<0||c.setState({charsFilled:b,profileSummary:d})},c.saveDetails=function(a){a.preventDefault(),c.validator.isValid()&&c.setState({keySkills:$("#chipsVal").val()},function(){c.props.saveRecommendedDetails(c.state,c.props.profileId,c.props.recommendedFields)})},c.formName="recommendedFieldsForm",c.initialRender=!1,c.initialRenderMob=!1,c.state={keySkills:c.props.recommendedFields.keySkills&&c.formatKeySkills(c.props.recommendedFields.keySkills),mobNum:c.props.recommendedFields.mobNum,gender:c.props.recommendedFields.gender&&("M"==c.props.recommendedFields.gender?"male":"female"),profileSummary:c.validateApiResponse(c.props.recommendedFields.profileSummary)&&c.props.recommendedFields.profileSummary.substr(0,1e3),city:c.props.recommendedFields.country&&c.props.recommendedFields.city&&c.getObject(c.props.recommendedFields.city,"city"),country:c.getObject(c.props.recommendedFields.country),industry:c.getObject(c.props.recommendedFields.industry),functionalArea:c.getObject(c.props.recommendedFields.functionalArea),role:c.validateApiResponse(c.props.recommendedFields.role)&&c.getObject(c.props.recommendedFields.role.split(".")[1])||{id:"",value:""},charsFilled:c.validateApiResponse(c.props.recommendedFields.profileSummary)&&c.props.recommendedFields.profileSummary.substr(0,1e3).length||0,isNationalLocation:!(!c.props.recommendedFields.country||"11"!==c.props.recommendedFields.country),maxChar:1e3},c}return Rb(b,a),Ob(b,[{key:"attachedCallback",value:function(){try{this.initValidation()}catch(a){}this.setOtherLoc()}},{key:"initValidation",value:function(){this.validator=window.commonValidator(),this.validator.validate({formNames:[this.formName],errors:uh,focusOnError:!0,submitButton:"saveDetails",styles:{parentObjectClass:"row",maxLevel:6,errorClass:"err"}})}},{key:"resetDroope",value:function(a){var b=$("#"+a).data("droope");b&&b.reset()}},{key:"updateNationality",value:function(a,b){if(a!=this.state.isNationalLocation){var c={isNationalLocation:a,city:{id:"",value:"",subValue:""},country:{id:"",value:""},isOtherLoc:!a};this.setState(c,function(){setTimeout(function(){$("#hid_location-droope").attr("rel",b)},100)})}}},{key:"handleOtherLocChange",value:function(a){var b={id:this.state.isNationalLocation?this.state.city.id:9999,subValue:a.target.value};this.setState({city:b})}},{key:"updateLocation",value:function(a,b){var c={};this.state.isNationalLocation?(c.country={id:11},c.city={id:parseInt(a),value:b,subValue:""},c.isOtherLoc="other"==b.trim().toLowerCase().slice(-5)):(c.isOtherLoc=!0,c.country={id:parseInt(a)},c.city={id:9999,value:"Other",subValue:this.state.city.subValue}),this.setState(c)}},{key:"updateGender",value:function(a,b){var c={};c[a]=b,this.setState(c)}},{key:"closeLayer",value:function(){d("spa-event","EditProfile","fillFromResumeParser","Cancel"),history.back()}},{key:"render",value:function(){var a,b=this,c=this.state.isNationalLocation?"cityRange":"countryRange",d=this.state.isNationalLocation?Ec:Fc,e=void 0;return this.state.city&&(e=this.state.isNationalLocation?this.state.city.id:this.state.country&&(0===this.state.country.id?9999:this.state.country.id)),xh.createElement("div",{className:"resumeParser"},xh.createElement(Pd,{id:"recommendedFieldsFormMessenger"}),xh.createElement("form",{name:this.formName,id:this.formName,className:"container lbpadding",noValidate:!0},xh.createElement("div",{className:"editHeader"},xh.createElement("div",null,xh.createElement("span",{className:"widgetTitle mb5"},"Missing Profile Details")),xh.createElement("div",null,xh.createElement("span",{className:"lbl widgetDesc"},"Please review your details below"))),this.state.industry&&xh.createElement("div",{className:"row industry"},xh.createElement("div",{className:"input-field col s12 mt0"},xh.createElement("span",{className:"lbl required-field"},"Industry")),xh.createElement("div",{className:"col s12"},xh.createElement(ld,{id:"indDroope",data:Zc,tags:!0,maxTagsCount:3,prefillData:[this.state.industry.id],placeholder:"Select Industry",rel:"required:industry,custom:industryRange",sortPrefix:"#",iconName:"DownArrow",onChange:function(a,c){return b.onChangeDroope("industry",a,c)}}),xh.createElement("span",{className:"erLbl",id:"industry_err"}))),this.state.functionalArea&&xh.createElement("div",{className:"row farea"},xh.createElement("div",{className:"input-field col s12"},xh.createElement("span",{className:"lbl required-field"},"Functional Area / Department")),xh.createElement("div",{className:"col s12"},xh.createElement(ld,{id:"fareaDroope",data:$c,prefillData:[this.state.functionalArea.id],placeholder:"Select Desired Functional Area / Department",rel:"required:farea,custom:fareaRange",sortPrefix:"#",iconName:"DownArrow",onChange:function(a,c){return b.onChangeDroope("functionalArea",a,c)}}),xh.createElement("span",{className:"erLbl",id:"farea_err"}))),this.state.functionalArea&&xh.createElement("div",{className:"row role"},xh.createElement("div",{className:"input-field col s12"},xh.createElement("span",{className:"lbl required-field"},"Role")),xh.createElement("div",{className:"col s12"},xh.createElement(ld,{id:"roleDroope",prefillParent:this.state.functionalArea.id,data:_c,prefillData:[this.state.role.id],placeholder:"Select Desired Role",rel:"required:role",sortPrefix:"#",iconName:"DownArrow",onChange:function(a,c){return b.onChangeDroope("role",a,c)}}),xh.createElement("span",{className:"erLbl",id:"role_err"}))),this.state.country&&xh.createElement("div",{className:"row mb0"},xh.createElement("div",{className:"input-field col s12"},xh.createElement("span",{className:"lbl required-field"},"Current Location")),xh.createElement("p",{className:"col s6 mt0"},xh.createElement("input",{className:"with-gap",name:"location-country-india",type:"radio",id:"location-country-india",checked:this.state.isNationalLocation,onChange:function(a){b.updateNationality(!0,"required:location,custom:cityRange")}}),xh.createElement("label",{className:"radio-lbl",htmlFor:"location-country-india"},"India")),xh.createElement("p",{className:"col s6 mt0"},xh.createElement("input",{className:"with-gap",name:"location-country-outside",type:"radio",id:"location-country-outside",checked:!this.state.isNationalLocation,onChange:function(a){b.updateNationality(!1,"required:location,custom:countryRange")}}),xh.createElement("label",{className:"radio-lbl",htmlFor:"location-country-outside"},"Outside India"))),this.state.country&&xh.createElement("div",{className:"col s12"},xh.createElement("div",{className:"row"},xh.createElement("div",{className:"col s6"},xh.createElement(ld,{id:"location-droope",rel:"required:location,custom:"+c,placeholder:this.state.isNationalLocation?"Select City":"Select Country",data:d,radioFlag:!0,prefillData:[e],sortPrefix:"#",iconName:"DownArrow",title:"true",onChange:function(a,c){b.updateLocation(a,c)},onError:function(a){}}),xh.createElement("div",{className:"err-container"},xh.createElement("span",{className:"erLbl",id:"loc_err"}))),this.state.isOtherLoc&&xh.createElement("div",{className:"col s6"},xh.createElement("input",{rel:"required:city,specialChar:otherLoc",placeholder:"Add City",id:"name",type:"text",value:this.state.city.subValue,maxLength:"35",onChange:function(a){b.handleOtherLocChange(a)}}),xh.createElement("div",{className:"err-container"},xh.createElement("span",{className:"erLbl",id:"city_err"}))))),(this.initialRenderMob||this.state.mobNum)&&xh.createElement("div",{className:"row mb0"},xh.createElement("div",{className:"input-field col s12"},xh.createElement("span",{className:"lbl required-field"},"Mobile Number"),xh.createElement("div",{className:"row"},xh.createElement("div",{className:"col s12"},xh.createElement("input",{rel:"custom:mobNumber,specialChar:1003",id:"mob_number",type:"tel",value:this.state.mobNum,maxLength:"15",onChange:function(a){b.handleChange(a,"mobNum")}}),this.state.isNationalLocation?null:xh.createElement("p",{className:"help mt5"},"No need to verify international mobile number on Naukri.")),xh.createElement("div",{className:"col s12 err-container"},xh.createElement("span",{className:"erLbl",id:"mob_number_err"}))))),this.state.gender&&xh.createElement("div",{className:"row"},xh.createElement("div",{className:"input-field col s12"},xh.createElement("span",{className:"lbl"},"Gender")),xh.createElement("p",{className:"col s4 mt0"},xh.createElement("input",{className:"with-gap",name:"gender-male",type:"radio",id:"gender-male",checked:"male"===this.state.gender,onClick:function(a){b.updateGender("gender","male")}}),xh.createElement("label",{className:"radio-lbl",htmlFor:"gender-male"},"Male")),xh.createElement("p",{className:"col s4 mt0"},xh.createElement("input",{className:"with-gap",name:"gender-female",type:"radio",id:"gender-female",checked:"female"===this.state.gender,onClick:function(a){b.updateGender("gender","female")}}),xh.createElement("label",{className:"radio-lbl",htmlFor:"gender-female"},"Female"))),(this.initialRender||this.state.profileSummary)&&xh.createElement("div",{className:"row mb0"},xh.createElement("div",{className:"input-field col s12"},xh.createElement("span",{className:"lbl required-field"},"Profile Summary"),xh.createElement("div",{className:"row"},xh.createElement("div",{className:"col s12"},xh.createElement("textarea",{rel:"required:profileSummary,custom:validChar",value:this.state.profileSummary,"data-length":"1000",maxLength:"1000",onChange:this.updateTextCount,id:"profileSummaryTxt",className:"profileSummaryTxt materialize-textarea",placeholder:"Type here..."}),xh.createElement("div",{className:"inputInfo"},xh.createElement("span",{className:"erLbl",id:"profileSummaryTxt_err"}),xh.createElement("div",{className:"textCounter right"},this.state.maxChar-this.state.charsFilled," Character(s) Left")))))),this.state.keySkills&&xh.createElement("div",{className:"row mb0"},xh.createElement("div",{className:"input-field col s12"},xh.createElement("span",{className:"lbl required-field"},"Key Skills"),xh.createElement("div",{className:"row keySkillsEdit"},xh.createElement(wh,{keySkills:this.state.keySkills})))),xh.createElement("div",{className:"row"},xh.createElement("div",{className:"col s12 action"},xh.createElement("a",(a={className:"blue-text",href:"javascript:void(0)"},Pb(a,"className","cancelLayer"),Pb(a,"onClick",this.closeLayer),a),"CANCEL"),xh.createElement("button",{className:"waves-effect waves-light btn-large blue-btn",type:"button",id:"saveDetails",onClick:this.saveDetails},"Save")))))}}]),b}(xh.PureComponent),zh=window.interfaces,Ah=zh.connect,Bh=function(a,b){return{recommendedFields:b.recommendedFields,profileId:a.userDetails.profileId}},Ch=function(a){function b(a){var b={};for(var c in a)a[c]&&a[c].constructor===Object?a[c].id&&(b[c]=a[c]):a[c]&&(b[c]=a[c]);return b}function c(a){a=Qb({},b(a)),a.functionalArea&&(a.functionalArea.id?a.functionalArea.id=parseInt(a.functionalArea.id):"",a.role.id?a.role.id=parseInt(a.role.id):"");var c={profiles:{city:a.city,country:a.country,functionalArea:a.functionalArea,role:a.functionalArea&&a.role,industry:a.industry,keySkills:a.keySkills,summary:a.profileSummary&&a.profileSummary.replace(/\n\s*\n/g,"\n").replace(/  +/g," "),gender:Sg[a.gender]},user:{mobile:a.mobNum}};return $.isEmptyObject(b(c.profiles))&&delete c.profiles,$.isEmptyObject(b(c.user))&&delete c.user,c}function e(a,b){var c={};b.profiles&&(c={keySkills:b.profiles.keySkills,industry:b.profiles.industry&&b.profiles.industry.id,fArea:b.profiles.functionalArea&&b.profiles.functionalArea.id.toString(),role:b.profiles.role&&b.profiles.role.id.toString(),summary:b.profiles.profileSummary,country:b.profiles.country&&b.profiles.country.id.toString(),city:b.profiles.city&&b.profiles.city.id,gender:b.profiles.gender}),b.user&&(c=Qb({},c,{mobile:b.user.mobile}));var e=JSON.stringify(c);e=e&&$.parseJSON(e);var f=Object.keys(e),g=f&&f.join(","),h=Object.keys(a).map(function(b){return"functionalArea"==b?a[b]!=c.fArea?"fArea":"":"role"==b?a[b]&&a[b].split(".")[1]!=c.role?"role":"":e[b]!=a[b]?b:""}),i=h.filter(function(a){return""!=a});e=Qb({},e,{editedField:i}),d("spa-event","EditProfile","fillFromResumeParser","resumeParserSubmit","",g,e)}var f=function(b,c){var d="success"===b?"attachCVMsgCont":"recommendedFieldsFormMessenger";a({type:Ed,payload:c?{id:d,type:b,msg:c}:{id:d,type:b}})};return{saveRecommendedDetails:function(b,g,h){var i=c(b),j=Ra+"/fullProfile/"+g;return $.ajax({url:j,datatype:"json",data:JSON.stringify(i),method:"POST",headers:{accept:"application/json","Content-Type":"application/json","X-HTTP-Method-Override":"PUT"}}).then(function(b){setTimeout(function(){a(Ae.getMyProfile("MNJFlow")).then(function(b){a(Ae.getDashboard()),history.back(),a(Pe({msg:"Your profile has been updated successfully.",id:"attachCVMsgCont"})),e(h,i)})},10)},function(a){d("spa-event","EditProfile","fillFromResumeParser","SaveError",a.status+a.statusText+JSON.stringify(i)+j),f("error")})}}},Dh=Ah(Bh,Ch)(yh),Eh=window.interfaces,Fh=Eh.Virtual,Gh=function(a){function b(){Nb(this,b);var a=Sb(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments));a.getFormattedDate=function(a){if(!a)return"";a=a.substr(0,a.indexOf(" "));var b=new Date(a),c={0:"Jan",1:"Feb",2:"Mar",3:"Apr",4:"May",5:"Jun",6:"Jul",7:"Aug",8:"Sep",9:"Oct",10:"Nov",11:"Dec"};return b.getDate()+" "+c[b.getMonth()]+", "+b.getFullYear()},a.shouldPostResumeApi=function(b,c){a.props.profileKeySkills&&a.props.otherDetails.industry.constructor!==Array&&a.props.otherDetails.functionalArea.constructor!==Array&&a.props.otherDetails.role.constructor!==Array&&a.props.basicDetails.mobNum&&a.props.profileSummary&&a.props.basicDetails.country.constructor!==Array&&a.props.basicDetails.city.constructor!==Array&&a.props.otherDetails.gender||a.getRecommendedFields(b,c)},a.shouldStringType=function(a){return"string"==typeof a},a.formatResponse=function(b){if(!b||b.constructor===Array||b.constructor!=Object)return{};var c={};return a.shouldStringType(b.KEYSKILLS)&&a.shouldShow(a.props.profileKeySkills,b.KEYSKILLS)&&(c.keySkills=b.KEYSKILLS),a.shouldStringType(b.INDTYPE)&&a.shouldShow(a.props.otherDetails.industry,b.INDTYPE)&&(c.industry=b.INDTYPE),a.shouldStringType(b.FAREA)&&a.shouldShow(a.props.otherDetails.functionalArea,b.FAREA)&&(c.functionalArea=b.FAREA,a.shouldShow(a.props.otherDetails.role,b.role)&&(c.role=b.role)),a.shouldStringType(b.MOBILE)&&a.shouldShow(a.props.basicDetails.mobNum,b.MOBILE)&&(c.mobNum=b.MOBILE),a.shouldStringType(b.summary)&&a.shouldShow(a.props.profileSummary,b.summary)&&(c.profileSummary=b.summary),a.shouldStringType(b.COUNTRY)&&a.shouldShow(a.props.basicDetails.country,b.COUNTRY)&&(c.country=b.COUNTRY,a.shouldShow(a.props.basicDetails.city,b.city)&&(c.city=b.city)),a.shouldStringType(b.GENDER)&&a.shouldShow(a.props.otherDetails.gender,b.GENDER)&&(c.gender=b.GENDER),c},a.getRecommendedFields=function(b,c){a.props.getRecommendedFields(b,c).then(function(){var b=a.formatResponse(a.props.recommendFields);if(!$.isEmptyObject(b)){a.recommendedFields=Qb({},b),a.state.recommendedFieldsInstance.open();var c=Object.keys(a.recommendedFields),e=c.join(","),f={keySkills:a.recommendedFields.keySkills,industry:a.recommendedFields.industry,fArea:a.recommendedFields.functionalArea,role:a.recommendedFields.role,mobile:a.recommendedFields.mobNum,summary:a.recommendedFields.profileSummary,country:a.recommendedFields.country,city:a.recommendedFields.city,gender:a.recommendedFields.gender},g=JSON.stringify(f);g=g&&$.parseJSON(g),d("spa-event","EditProfile","fillFromResumeParser","resumeParserView","",e,g)}},function(a){})},a.setResumeContainerInstance=function(){a.props.instance({download:function(){a.downloadForm.submit(),d("spa-event","EditProfile","DownloadResume","Download")}})};var c=a.props,e=(c.cvInfo,c.isDelete),f=c.isUploadData,g=c.isDownload,h=c.isAvailable,i=c.cvFormat,j=c.uploadDate,k=i?"Resume."+i:"Resume";return j=j?a.getFormattedDate(j):"",a.recommendedFields={},a.addResumeCont=null,a.state=Qb({isAvailable:h,resumeName:k,uploadDate:j,cvFormat:i},{isDelete:e,isUploadData:f,isDownload:g,cvFormat:i},{recommendedFieldsInstance:null,showDialog:!1}),a}return Rb(b,a),Ob(b,[{key:"attributeChangedCallback",value:function(a){var b=a.isAvailable;this.props.isAvailable!==b&&this.setState({isAvailable:b})}},{key:"attachedCallback",value:function(){var a=this;requirejs([ph[0]],function(b){var c=b.ncUploader;a.initUploader(c),a.setState({isPluginLoaded:!0})}),this.setResumeContainerInstance(),this.initDrawerCall()}},{key:"getResumeData",value:function(){var a=this,b=function(a){var b;return a.forEach(function(a){if(a.profile.isActiveProfile)return b=a.profile.cvInfo,!1}),b},c=function(a){if(!a)return"";a=a.substr(0,a.indexOf(" "));var b=new Date(a),c={0:"Jan",1:"Feb",2:"Mar",3:"Apr",4:"May",5:"Jun",6:"Jul",7:"Aug",8:"Sep",9:"Oct",10:"Nov",11:"Dec"};return b.getDate()+" "+c[b.getMonth()]+", "+b.getFullYear()};this.props.getResumeData().then(function(d){var e=d.profile[0]&&d.profile[0].cvInfo,f=e&&e.hasOwnProperty("isAvailable")?e:b(e);if(f.isAvailable){var g=f.cvFormat?"Resume."+f.cvFormat:"Resume",h=f.uploadDate?c(f.uploadDate):"";a.setState({isAvailable:!0,resumeName:g,uploadDate:h})}},function(b){a.props.onError(b)})}},{key:"updateResume",value:function(a,b){var c=this,e=b.cvFormat,f=b.fileName,g=b.sizeInKB,h={textCV:a};this.props.updateResume(h).then(function(){c.props.onResumeUpdate({cvFormat:e,fileName:f,sizeInKB:g}),d("spa-event","EditProfile","UpdateResume","Save")},function(a){c.props.onError(a)})}},{key:"initUploader",value:function(a){var b=this,c="attachCV",d="F51f8e7e54e205",e=($("#"+c),$("#uploadBtnCont"),function(a){for(var b="",c="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",d=a;d>0;--d)b+=c[Math.round(Math.random()*(c.length-1))];return b}),f="U"+e(13),g="//my.naukri.com",h={uploadTarget:{saveFileUrl:Va,saveCloudUrl:Xa,deleteUrl:"//files.naukri.com/0/deleteFile.php"},parseResume:g+"/CVParser/parseResume"};window.resumeParser={util:{_trackEvent:{}}},resumeParser.errorMessages={"default":"Something went wrong. Please try again.",INVALID_EXTENSION:"File extension not supported. Supported file extensions: .docx, .doc, .pdf, .rtf",FILE_SIZE_LIMIT_EXCEEDED:"Resume uploaded exceeds maximum file size limit (2 MB). Upload a smaller file",BLANK_FILE:"Attached resume is blank, retry with valid resume.",TIME_OUT:"Maximum timeout reached to upload the file."};$("html");resumeParser.util.showError=function(a,c){b.props.onError(a,c)},resumeParser.util.hideLoader=function(){b.props.endLoader()},new a({appId:105,fileId:c,fileKeys:[f],formKey:d,materializeLoader:!0,targets:h.uploadTarget,forceBasicUploader:!1,maxSize:2097152,maxNumOfFiles:1,outputHolder:{id:"results_resumeParser",cssClass:"outputCss"},extensions:["doc","docx","pdf","rtf"],beforeSendCallback:function(){b.props.startLoader()},callback:function(a){if(a.SUCCESS){if(a.SUCCESS[f].URL){var c=a.SUCCESS[f].name.split(".");b.updateResume({formKey:d,fileKey:f},{cvFormat:c[1],fileName:c[0],sizeInKB:""}),"profile"===b.props.origin&&b.shouldPostResumeApi(d,f)}}else if(a.ERROR){var e=a.ERROR[f]||a.ERROR.dummyFileKey;e&&(resumeParser.util.hideLoader(),
"INVALID_EXTENSION"==e.error?resumeParser.util.showError(resumeParser.errorMessages.INVALID_EXTENSION,"INVALID EXTENSION"):"FILE SIZE LIMIT EXCEEDED"==e.error?resumeParser.util.showError(resumeParser.errorMessages.FILE_SIZE_LIMIT_EXCEEDED,e.error):"BLANK_FILE"==e.error?resumeParser.util.showError(resumeParser.errorMessages.BLANK_FILE,"BLANK FILE"):"timeout"==e.error?resumeParser.util.showError(resumeParser.errorMessages.TIME_OUT,"TIME OUT"):resumeParser.util.showError(resumeParser.errorMessages["default"]))}}})}},{key:"shouldShow",value:function(a,b){return a&&a.constructor==Array&&(a=!1),!a&&b}},{key:"deleteResume",value:function(){var a=this;this.props.deleteResume().then(function(){a.props.onDelete(),d("spa-event","EditProfile","DeleteResume","Delete")},function(b){a.props.onError(b)})}},{key:"initDrawerCall",value:function(){this.state.recommendedFieldsInstance||this.initDrawer()}},{key:"initDrawer",value:function(){var a=this;this.state.recommendedFieldsInstance=$("<div>").lightBox({model:$(this.addResumeCont),dimens:{width:"685px"},open:{event:"click",anim:"flipOpen",minTop:100,success:function(){d("spa-event","EditProfile","fillFromResumeParser","EditOpen"),a.setState({showDialog:!0},function(){$(window).resize()})}},close:{layer:!1,anim:"flipClose",nodes:$(".crossLayer"),success:function(b){a.setState({showDialog:!1}),b&&d("spa-event","EditProfile","fillFromResumeParser","Cancel")}}})}},{key:"render",value:function(){var a=this;return Fh.createElement("div",{className:"uploadBtn"},this.state.isAvailable&&Fh.createElement("div",null,this.state.isUploadData&&Fh.createElement("div",null,Fh.createElement("strong",null,this.state.resumeName),Fh.createElement("div",null,Fh.createElement("small",{className:"grey-text"},this.state.uploadDate))),Fh.createElement("form",{style:{display:this.state.isDownload?"initial":"none"},ref:function(b){return a.downloadForm=b},className:"download",method:"get",action:Ya},Fh.createElement("div",{className:"icon-wrap center"},Fh.createElement("div",{className:"lig-wrap"},Fh.createElement("button",{className:"blue-text waves-effect waves-teal btn-flat","data-ga-track":"spa-event|EditProfile|DownloadResume|Download",type:"submit"},Fh.createElement("i",{className:"ligature-icons"},"Download")))))),Fh.createElement("section",null,Fh.createElement("div",{className:"action"},Fh.createElement("div",{className:"uploadContainer"},Fh.createElement("input",{id:"attachCV",className:"fileUpload waves-effect waves-light btn-large",type:"file",disabled:!this.state.isPluginLoaded})),Fh.createElement("div",null,Fh.createElement("div",{id:"result"}),Fh.createElement("input",{value:this.props.uploadButtonTitle,type:"button",className:"btn btn-block dummyUpload fs14",disabled:!this.state.isPluginLoaded})))),Fh.createElement("ul",{id:"results_resumeParser"}),this.state.isAvailable&&this.state.isDelete&&Fh.createElement("div",{className:"center delete-wrap col s12"},Fh.createElement("a",{onClick:this.deleteResume.bind(this),className:"waves-effect waves-teal blue-text btn-flat"},Fh.createElement("strong",null,"Delete Resume"))),Fh.createElement("div",{className:"lightbox profileEditDrawer",ref:function(b){a.addResumeCont=b}},Fh.createElement("div",{className:"crossLayer"},Fh.createElement("span",{className:"icon"},"CrossLayer")),this.state.showDialog&&Fh.createElement(Dh,{recommendedFields:this.recommendedFields})))}}]),b}(Fh.Component);Gh.defaultProps={uploadButtonTitle:"Upload Resume",isDownload:!0};var Hh=window.interfaces,Ih=Hh.connect,Jh=function(a,b){return Qb({route:a.route,recommendFields:a.resumeParser},b,{profileKeySkills:a.myProfile.keySkills,otherDetails:a.myProfile.otherDetails,basicDetails:a.myProfile.basicDetails,profileSummary:a.myProfile.profileSummary})},Kh=function(a,b){return{startLoader:function(){a({type:He})},endLoader:function(){a({type:Ie})},getResumeData:function(a){return $.ajax({url:$a,method:"GET",datatype:"file",headers:{Accept:"application/json","Content-Type":"application/json"}})},deleteResume:function(b){return a({type:He,payload:{type:"block"}}),$.ajax({url:ab,method:"GET",datatype:"file",headers:{Accept:"application/json","Content-Type":"application/json","X-HTTP-Method-Override":"DELETE"}})},updateResume:function(a){return $.ajax({url:_a,data:JSON.stringify(a),method:"POST",datatype:"file",headers:{Accept:"application/json","Content-Type":"application/json"}})},getRecommendedFields:function(b,c){var d={formKey:b,fileKey:c};return $.ajax({url:yb,method:"POST",data:JSON.stringify(d),headers:{"Content-Type":"application/json"}}).then(function(b){a(b&&b.constructor===Array?{type:de,payload:{}}:{type:ce,payload:b})})}}},Lh=Ih(Jh,Kh)(Gh),Mh=window.interfaces.Virtual,Nh={textResume:{msg:"Please enter text resume",id:"textResume_err"},validChar:sd("textResume_err")},Oh=function(a){function b(){Nb(this,b);var a=Sb(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments));return a.handleChange=function(b){a.setState({value:b.target.value})},a.saveTextResume=function(){a.props.updateResume({resumeDetails:{textCV:{textCvContent:a.state.value}},uploadDate:he(),instance:a.instance,origin:a.props.origin}).then(function(b){a.instance.close()})},a.dialogInstance=function(b){a.instance=b,a.props.instance(b)},a.initValidation=function(){a.validator=window.commonValidator(),a.validator.validate({formNames:[a.formName],errors:Nh,focusOnError:!1,defaultEvents:["blur"],styles:{parentObjectClass:"row",maxLevel:6,errorClass:"err"}})},a.savetextResume=function(b){b.preventDefault(),a.validator.isValid()&&a.saveTextResume()},a.textResumeTemplate=function(b){var c=b.close;return Mh.createElement("div",{className:"container section textResume"},Mh.createElement("div",{className:"crossLayer",onClick:c},Mh.createElement("span",{className:"icon"},"CrossLayer")),Mh.createElement("div",{className:"row"},Mh.createElement("div",{className:"col s12"},Mh.createElement("h5",null,"Write Profile"),Mh.createElement("div",{className:"subInfo ln20"},"You can copy paste your resume here. However, recruiters cannot download it. They can only download your Naukri profile or your uploaded resume. So ensure both of them are updated too."))),Mh.createElement("form",{ref:function(b){return a.formRef=b},name:a.formName,onSubmit:a.savetextResume,className:"mt10"},Mh.createElement("div",{className:"row"},Mh.createElement("div",{className:"col s12"},Mh.createElement("textarea",{rel:"required:textResume,custom:validChar",value:a.state.value,onChange:a.handleChange,placeholder:"Write or copy paste your resume here."}),Mh.createElement("span",{className:"erLbl",id:"textResume_err"},"Please enter text resume"))),Mh.createElement("div",{className:"row action"},Mh.createElement("div",{className:"col s4 offset-s8 right-align"},Mh.createElement("a",{href:"javascript:void(0)",onClick:c},"CANCEL"),Mh.createElement("button",{className:"waves-effect waves-light btn-large",type:"submit"},"Save")))))},a.state={},a.instance=null,a.formName="textResumeForm",a}return Rb(b,a),Ob(b,[{key:"attachedCallback",value:function(){this.initValidation()}},{key:"render",value:function(){var a=this,b={dimens:{width:"50%",height:"610px"},close:{layer:!1,anim:"flipClose",success:function(){var b=a.formRef.querySelector(".row.err");b&&b.classList.remove("err")}}};return Mh.createElement(Ke,{params:b,defaultOpen:!1,setInstance:this.dialogInstance},function(b){var c=b.close;return a.textResumeTemplate({close:c})})}}]),b}(Mh.Component),Ph=window.interfaces.Virtual,Qh=function(a){function b(){Nb(this,b);var a=Sb(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments));return a.createMarkup=function(){return{__html:a.state.data}},a.state={data:null},a}return Rb(b,a),Ob(b,[{key:"attachedCallback",value:function(a){var b=this;this.props.getData({profileId:this.props.profileId}).then(function(a){var c=a.data;b.setState({data:c.replace(/\n/g,"<br/>")})},function(a){b.setState({data:a.responseText})})}},{key:"render",value:function(){return Ph.createElement("div",{className:"textView",dangerouslySetInnerHTML:this.createMarkup()})}}]),b}(Ph.Component),Rh=window.interfaces,Sh=Rh.Virtual,Th=function(a){function b(){Nb(this,b);var a=Sb(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments));return a.resume=function(){return Sh.createElement("iframe",{width:a.state.iframeWidth,height:a.state.iframeHeight,src:a.state.iframeSrc})},a.showTextResume=function(){a.textResumeInstance.open()},a.dailogInstance=function(b){a.textResumeInstance=b},a.onResumeUpdate=function(b){a.setState({iframeSrc:a.iframeSrc+"?v="+(new Date).getTime(),fileSizeExceed:!1}),a.props.onResumeUpdate(Qb({},b),a.props.origin)},a.onError=function(b,c){["INVALID EXTENSION","FILE SIZE LIMIT EXCEEDED"].indexOf(c)!==-1?a.setState({fileSizeExceed:!0}):(a.setState({fileSizeExceed:!1},function(){a.props.showMessage({id:"attachCVMsgCont",type:"error"})}),document.getElementById("attachCVMsgBox").focus()),$("#attachCV").val("")},a.getResumeContainerInstance=function(b){a.resumeContainerInstance=b},a.setDeleteConfirmationInstance=function(b){a.deleteConfirmationInstance=b},a.deleteResumeConfirmation=function(){a.deleteConfirmationInstance.open()},a.deleteDialogtemplate=function(){var b={dimens:{width:"40%",height:"180px"}};return Sh.createElement(Ke,{params:b,setInstance:a.setDeleteConfirmationInstance},function(b){var c,d=b.close;return Sh.createElement("div",{className:"confirmationBox profileSummaryConfirmation"},Sh.createElement("p",null,"Are you sure you want to delete the Resume?"),Sh.createElement("div",{className:"action right-align"},Sh.createElement("a",(c={className:"blue-text"},Pb(c,"className","cancelLayerDel"),Pb(c,"href","javascript:void(0)"),Pb(c,"onClick",function(){return d()}),c),"CANCEL"),Sh.createElement("button",{className:"waves-effect waves-light btn-large blue-btn",onClick:a.deleteResume},"DELETE")))})},a.deleteResume=function(){var b=a.props.isAvailable?"Attached Resume has been successfully deleted.":"Text Resume has been successfully deleted.";a.props.deleteTextResume(b),a.deleteConfirmationInstance.close()},a.iframeSrc=bb+"/"+a.props.profileId+"/resumePreview",a.state={subHeadinfo:"Resume is the most important document recruiters look for. Recruiters generally do not look at profiles without resumes.",iframeWidth:"685px",iframeHeight:"400px",iframeSrc:a.iframeSrc,fileSizeExceed:!1,errorMessage:"Please ensure the file size is less than 2MB and file type is doc, docx, rtf or pdf."},a}return Rb(b,a),Ob(b,[{key:"render",value:function(){var a=this,b=this.props,c=b.isAvailable,d=b.fileName,e=b.sizeInKB,f=b.cvFormat,g=b.uploadDate,h=b.isTextResume,i=b.textUploadDate,j=b.uploadButtonTitle,k=b.profileId,l=b.updateTextResume,m=b.fetchResumeData;return Sh.createElement("div",{className:"card mt15"},Sh.createElement("span",{id:"attachCVMsgBox",tabIndex:"-1"},Sh.createElement(Pd,{id:"attachCVMsgCont"})),Sh.createElement("div",{className:"attachCV"},Sh.createElement("div",{className:"heading row"},Sh.createElement("div",{className:"row main"},Sh.createElement("div",{className:"col s12"},"Attach Resume",!c&&!h&&Sh.createElement("span",{className:"subTitle fw500"},"Add 10%"))),Sh.createElement("div",{className:"row"},Sh.createElement("div",{className:"col s12 subHeadinfo"},this.state.subHeadinfo))),Sh.createElement("div",null,c&&Sh.createElement("div",{className:"cvPreview"},Sh.createElement("div",{className:"row"},Sh.createElement("div",{className:"col s9"},Sh.createElement("div",{className:"left"},Sh.createElement("b",{title:d+"."+f,className:"truncate exten"},d+"."+f,"-",e,""),Sh.createElement("span",{className:"updateOn"},"Uploaded on ",g))),Sh.createElement("div",{className:"col s3"},Sh.createElement("div",{className:"right download"},Sh.createElement("i",{className:"icon",onClick:function(){return a.resumeContainerInstance.download()},title:"Click here to download your resume"},"Download")))),Sh.createElement("div",{className:"row"},Sh.createElement("div",{className:"col s12"},Sh.createElement("a",{href:"javascript:;",className:"link right fs14 fw500",onClick:this.deleteResumeConfirmation},"DELETE RESUME")))),Sh.createElement("div",{className:"row"},Sh.createElement("div",{className:"cvUpload col s12"},Sh.createElement("div",{className:"uploadCont"},Sh.createElement(Lh,{isDownload:!1,isUploadData:!1,isDelete:!1,isAvailable:c,uploadDate:g,cvFormat:f,uploadButtonTitle:j,onResumeUpdate:this.onResumeUpdate,onError:this.onError,instance:this.getResumeContainerInstance,origin:this.props.origin}),this.state.fileSizeExceed&&Sh.createElement("p",{className:"error"},this.state.errorMessage),Sh.createElement("div",{className:"format"},"Supported Formats: doc, docx, rtf, pdf, upto 2 MB")),Sh.createElement("div",{className:"center-align"},!c&&Sh.createElement("div",{className:"separator"},Sh.createElement("span",null),"or",Sh.createElement("span",null)),!c&&!h&&Sh.createElement("div",{className:"fs13"},"If you do not have a resume document, you may write your brief professional profile ",Sh.createElement("a",{href:"javascript:;",onClick:this.showTextResume},"here"),".")),Sh.createElement(Oh,{updateResume:l,origin:this.props.origin,instance:this.dailogInstance})))),h&&!c&&Sh.createElement("div",{className:"textCVPreview"},Sh.createElement("div",{className:"row"},Sh.createElement("div",{className:"col s9"},Sh.createElement("div",{className:"left"},Sh.createElement("b",null,"Text Resume"),"",Sh.createElement("span",{className:"updateOn"},"Uploaded on ",i)))),Sh.createElement("div",{className:"row"},Sh.createElement("div",{className:"cvPreviewCont col s12"},Sh.createElement(Qh,{isTextResume:h,profileId:k,getData:m}))),Sh.createElement("div",{className:"row"},Sh.createElement("div",{className:"col s12"},Sh.createElement("a",{href:"javascript:;",className:"link right fw500",onClick:this.deleteResumeConfirmation},"DELETE"))))),this.deleteDialogtemplate())}}]),b}(Sh.Component),Uh=window.interfaces.connect,Vh=function(a,b){var c=a.myProfile.resume,d=c.isAvailable,e=c.fileName,f=c.sizeInKB,g=c.cvFormat,h=c.uploadDate,i=c.isTextResume,j=c.textUploadDate,k=c.uploadButtonTitle;return{isAvailable:d,cvFormat:g,fileName:e,sizeInKB:f,uploadDate:h,isTextResume:i,textUploadDate:j,uploadButtonTitle:k,profileId:a.userDetails.profileId,origin:"pendingAction"==b.origin?"pA":"profile"}},Wh=function(a,b){var c={showMessage:function(b){return a(Pe(b))},fetchResumeData:function(a){var b=a.profileId;return $.ajax({url:"/jobseekerapi/v1/user/profiles/"+b+"/resumePreview?textCv=1",method:"GET",datatype:"file",headers:{Accept:"application/json","Content-Type":"application/json"}})},onResumeUpdate:function(b,d){var e=b.isAvailable,f=void 0===e||e,g=b.cvFormat,h=b.fileName,i=b.sizeInKB;a({type:be,payload:{isAvailable:f,uploadButtonTitle:"Update Resume",uploadDate:he(),cvFormat:g,fileName:h,sizeInKB:i}}),c.showMessage({msg:"Resume has been successfully uploaded.",isAvailable:f,id:"pA"==d?"pendingActionMessenger":"attachCVMsgCont"}),a(Ae.getDashboard()).then(function(a){"pA"==d&&$(window).scrollTop(0)}),$("#attachCV").val("")},updateTextResume:function(b){var e=b.resumeDetails,f=b.uploadDate,g=b.instance,h=b.origin;return $.ajax({url:_a,data:JSON.stringify(e),method:"POST",datatype:"file",headers:{Accept:"application/json","Content-Type":"application/json"}}).then(function(b){a({type:be,payload:{isTextResume:!0,uploadDate:f}}),g.close(),a(Ae.getDashboard()),"pA"==h&&$(window).scrollTop(0),c.showMessage({msg:"Text Resume has been successfully saved.",id:"pA"==h?"pendingActionMessenger":"attachCVMsgCont"}),document.getElementById("attachCVMsgBox").focus(),d("spa-event","EditProfile","UpdateTextResume","Save")})["catch"](function(a){c.errorHandler(a),document.getElementById("attachCVMsgBox").focus()})},deleteTextResume:function(b){return a({type:He,payload:{type:"block"}}),$.ajax({url:ab,method:"GET",datatype:"file",headers:{Accept:"application/json","Content-Type":"application/json","X-HTTP-Method-Override":"DELETE"}}).then(function(e){a({type:be,payload:{isAvailable:!1,isTextResume:!1,uploadButtonTitle:"Upload Resume"}}),a(Ae.getDashboard()),c.showMessage({id:"attachCVMsgCont",msg:b}),document.getElementById("attachCVMsgBox").focus(),d("spa-event","EditProfile","DeleteTextResume","Delete")})["catch"](function(a){c.errorHandler(a),document.getElementById("attachCVMsgBox").focus()})},errorHandler:function(a){var b={msg:"Oops something went wrong."};0===a.status&&"error"==a.statusText&&(b.msg="",b.autoHideIn=!1),c.showMessage(Qb({id:"attachCVMsgCont",type:"error"},b))}};return c},Xh=Uh(Vh,Wh)(Th),Yh=function(a){return function(b){var c="",d=b.val().trim();return d?d.length>40?c="Skill length should not be more than 40 characters.":d.match(/^[^\\<]*$/)||(c="Please remove Backslash(\\) Less than(<) Greater than(>) characters."):c="Please specify IT Skills.",{msg:c,id:a}}},Zh=function(a){return function(b){var c="",d=b.val().trim();return d.match(/^[^\\<]*$/)?d.length>10&&(c="Version length should not be more than 10 characters."):c="Special Characters Backslash(\\) Less than(<) Greater than(>) not allowed.",{msg:c,id:a}}},$h={1e3:Yh("itSkillSugg_err"),1001:Zh("version_err"),expItskill:rd("expskill_err","hid_expYearDroope","hid_expMonthDroope",Nc,Hc)},_h=window.interfaces.Virtual,ai=function(a){function b(){Nb(this,b);var a=Sb(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments));a.onValueChange=function(b,c,d){a.setState(Pb({},b,{id:c,value:d}))};var c=a;return a.formName="itSkillsForm",a.dummyState={},a.ConfirmationBoxInstance=null,a.deleteCurrentSkill=a.deleteCurrentSkill.bind(a),a.state={itSkillId:a.props.prefillId||-1,experienceTimeYear:a.props.itSkills.experienceTime&&{id:a.props.itSkills.experienceTime.year,value:a.props.itSkills.experienceTime.year}||{id:"",value:""},experienceTimeMonth:a.props.itSkills.experienceTime&&{id:a.props.itSkills.experienceTime.month,value:a.props.itSkills.experienceTime.month}||{id:"",value:""},skill:a.props.itSkills.skill||"",lastUsed:a.props.itSkills.lastUsed||{id:"",value:""},version:a.props.itSkills.version||"",lbInst:a.props.lbInst,origin:a.props.origin,pAMessengerId:a.props.messengerId,suggParamsItSklls:{appId:"105",width:"100%",id:"itSkillSugg",grouping:!1,relatedConcept_dataLayer:!1,placeholderText:"Please enter IT Skills",relatedConceptCategory:{skill:"skills"},multiSearch:!1,maxSuggestions:"7",startSearchAfter:"2",chips:!1,category:{skill:"skills"},maxCharacterLimit:40,maxlength:40,singleSelect:!0,value:a.props.itSkills.skill||"",rel:"custom:1000",onChange:function(a){c.setState({skill:a.target.value})},onSelectClbk:function(a,b){c.setState({skill:b})}}},a}return Rb(b,a),Ob(b,[{key:"setConfirmationInstance",value:function(a){this.ConfirmationBoxInstance=a}},{key:"attributeChangedCallback",value:function(a){a.prefillId!=this.props.prefillId&&this.setState({itSkillId:this.props.prefillId||-1,experienceTimeYear:this.props.itSkills.experienceTime&&this.props.itSkills.experienceTime.year&&{id:this.props.itSkills.experienceTime.year,value:this.props.itSkills.experienceTime.year}||{id:"",value:""},experienceTimeMonth:this.props.itSkills.experienceTime&&this.props.itSkills.experienceTime.month&&{id:this.props.itSkills.experienceTime.month,value:this.props.itSkills.experienceTime.month}||{id:"",value:""},skill:this.props.itSkills.skill||"",lastUsed:this.props.itSkills.lastUsed||{id:"",value:""},version:this.props.itSkills.version||"",suggParamsItSklls:Qb({},this.state.suggParamsItSklls,{value:this.props.itSkills.skill||""})})}},{key:"showDialog",value:function(){this.ConfirmationBoxInstance.open()}},{key:"initValidation",value:function(){this.validator=window.commonValidator(),this.validator.validate({formNames:[this.formName],errors:$h,focusOnError:!0,submitButton:"saveITSkills",styles:{parentObjectClass:"row",maxLevel:10,errorClass:"err"}})}},{key:"handleInputChange",value:function(a,b){this.dummyState[a]=b.target.value}},{key:"closeLayer",value:function(){d("spa-event","EditProfile","itskills","Cancel"),history.back()}},{key:"deleteCurrentSkill",value:function(){this.props.removeCurrentSkill(this.props.userDetail.profileId,this.state.itSkillId,this.ConfirmationBoxInstance,this.props.lbInst)}},{key:"closeDeleteBox",value:function(){this.ConfirmationBoxInstance.close()}},{key:"attachedCallback",value:function(){try{this.initValidation()}catch(a){}}},{key:"handleSaveData",value:function(a){if(a.preventDefault(),this.validator.isValid()){var b=Qb({},this.state,this.dummyState);this.state.itSkillId==-1?this.props.saveITSkills(this.props.userDetail.profileId,b,this.props.lbInst):this.props.updateITSkills(this.props.userDetail.profileId,b,this.props.lbInst)}}},{key:"render",value:function(){var a,b=this,c={dimens:{width:"30%",height:"180px"},routing:!1},d=_h.createElement(Ke,{params:c,setInstance:this.setConfirmationInstance.bind(this)},function(a){var c;a.close;return _h.createElement("div",{className:"confirmationBox itSkillsConfirmation"},_h.createElement("p",null,"Are you sure you want to delete IT Skills ?"),_h.createElement("div",{className:"action right-align"},_h.createElement("a",(c={className:"blue-text"},Pb(c,"className","cancelLayer"),Pb(c,"href","javascript:void(0)"),Pb(c,"onClick",function(){return b.closeDeleteBox()}),c),"CANCEL"),_h.createElement("button",{className:"waves-effect waves-light btn-large blue-btn",onClick:function(){return b.deleteCurrentSkill()}},"DELETE")))});return _h.createElement("div",null,_h.createElement(Pd,{id:"itSkillEditMessenger"}),_h.createElement("form",{name:this.formName,id:this.formName,className:"lbpadding section",noValidate:!0,action:"javascript:void(0)"},d,_h.createElement("div",{className:"editHeader"},_h.createElement("div",null,this.props.prefillId==-1?_h.createElement("span",{className:"widgetTitle"},"IT Skills"):_h.createElement("span",{className:"widgetTitle elps",title:this.state.suggParamsItSklls.value},"Edit - ",this.state.suggParamsItSklls.value),this.props.prefillId==-1&&_h.createElement("span",{className:"profileComScore"},"Add ",this.props.profileCompletenessScore,"%"),this.props.prefillId!=-1&&_h.createElement("span",{className:"delete",ref:function(a){b.addITSkillsDelBtn=a},onClick:this.showDialog.bind(this)},"DELETE")),this.props.prefillId==-1&&_h.createElement("div",null,_h.createElement("span",{className:"lbl widgetDesc"},"Specify details about programming languages (such as Java, Python, C/C++, Oracle, SQL etc), softwares (Microsoft Word, Excel, Tally etc) or any other software related knowledge."))),_h.createElement("div",{className:"row"},_h.createElement("div",{className:"input-field mt0"},_h.createElement("span",{className:"lbl required-field"},"IT Skills")),_h.createElement("div",{className:"col s12 pad0"},_h.createElement(ng,this.state.suggParamsItSklls),_h.createElement("div",{className:"inputInfo"},_h.createElement("span",{className:"erLbl",id:"itSkillSugg_err"})))),_h.createElement("div",{className:"row"},_h.createElement("div",{className:"s4 col pad0"},_h.createElement("div",{className:"input-field"},_h.createElement("span",{className:"lbl"},"Version")),_h.createElement("div",{className:""},_h.createElement("input",{type:"text",placeholder:"Version",id:"version",rel:"custom:1001",maxLength:"10",defaultValue:this.state.version,onBlur:function(a){b.handleInputChange("version",a)}}),_h.createElement("div",{className:"inputInfo"},_h.createElement("span",{className:"erLbl",id:"version_err"})))),_h.createElement("div",{className:"s4 col pad0"},_h.createElement("div",{className:"input-field col s12"},_h.createElement("span",{className:"lbl"},"Last Used")),_h.createElement("div",{className:"col s12"},_h.createElement(Bc,{id:"lastUsedDroope",data:Tg,noDataTxt:"No data found",prefillData:[this.state.lastUsed.value],sortPrefix:"#",iconName:"DownArrow",placeholder:"Last Used",onChange:function(a,c){return b.onValueChange("lastUsed",a,c)}})))),_h.createElement("div",{className:"row"},_h.createElement("div",{className:"pad0 col s12"},_h.createElement("div",{className:"input-field"},_h.createElement("span",{className:"lbl"},"Experience"))),_h.createElement("div",{className:"pad0 col s4"},_h.createElement(ld,{id:"expYearDroope",data:Nc,rel:"custom:expItskill",postText:"Years",noDataTxt:"No data found",prefillData:[this.state.experienceTimeYear.value],placeholder:"Years",sortPrefix:"#",iconName:"DownArrow",onChange:function(a,c){return b.onValueChange("experienceTimeYear",a,c)}})),_h.createElement("div",{className:"col s4"},_h.createElement(ld,{id:"expMonthDroope",data:Hc,rel:"custom:expItskill",postText:"Months",noDataTxt:"No data found",prefillData:[this.state.experienceTimeMonth.value],placeholder:"Months",sortPrefix:"#",iconName:"DownArrow",onChange:function(a,c){return b.onValueChange("experienceTimeMonth",a,c)}})),_h.createElement("div",{className:"pad0 col s12"},_h.createElement("span",{className:"erLbl",id:"expskill_err"}))),_h.createElement("div",{className:"row"},_h.createElement("div",{className:"action s12"},_h.createElement("a",(a={className:"blue-text"},Pb(a,"className","cancelLayer"),Pb(a,"href","javascript:void(0)"),Pb(a,"onClick",function(){return b.closeLayer()}),a),"CANCEL"),_h.createElement("button",{id:"saveITSkills",className:"waves-effect waves-light btn-large blue-btn",type:"button",onClick:this.handleSaveData.bind(this)},"Save")))))}}]),b}(_h.Component),bi=window.interfaces,ci=bi.connect,di=function(a,b){var c=a.myProfile.itSkills||{},d=b.prefillId||-1;return{itSkills:c[d]||{},prefillId:d,userDetail:a.userDetails,route:a.route,lbInst:b.lbInst||null,profileCompletenessScore:a.pendingAction&&a.pendingAction.Farea_and_IT_skills&&a.pendingAction.Farea_and_IT_skills.subSectionWeightage||"5",origin:"pendingAction"==b.origin?"pA":"profile",messengerId:b.messengerId||null}},ei=function(a,b){var c=function(b,c){var d="success"===b?"itSkillMessenger":"itSkillEditMessenger";a({type:Ed,payload:{id:d,type:b,msg:c}}),"error"===b&&$(".msgBox").focus()},e=function(b,c,d){var e="success"===b?d:"itSkillEditMessenger";a({type:Ed,payload:c?{id:e,type:b,msg:c}:{id:e,type:b}})};return{saveITSkills:function(b,f){var g=L(f),h=Ra+"/profiles/"+b+"/itskills";return $.ajax({url:h,datatype:"json",data:JSON.stringify(g),method:"POST",headers:{accept:"application/json","Content-Type":"application/json"}}).then(function(b){setTimeout(function(){a(Ae.getMyProfile("MNJFlow")).then(function(b){a(Ae.getDashboard()),f.lbInst.close(),"pA"==f.origin?(e("success","IT Skills have been successfully saved.",f.pAMessengerId),$(window).scrollTop(0),d("spa-event","PendingAction","itskills","Save")):(c("success","IT Skills have been successfully saved."),d("spa-event","EditProfile","itskills","Save"))})},10)},function(a){d("spa-event","EditProfile","itskills","SaveError",a.status+a.statusText+JSON.stringify(g)+h),c("error")})},updateITSkills:function(b,e){var f=L(e),g=Ra+"/profiles/"+b+"/itskills/"+e.itSkillId;return $.ajax({url:g,datatype:"json",data:JSON.stringify(f),method:"POST",headers:{accept:"application/json","X-HTTP-Method-Override":"PUT","Content-Type":"application/json"}}).then(function(b){a(Ae.getMyProfile("MNJFlow")).then(function(b){a(Ae.getDashboard()),e.lbInst.close(),c("success","IT Skills have been successfully saved."),d("spa-event","EditProfile","itskills","Edit")})},function(a){c("error"),d("spa-event","EditProfile","itskills","EditError",a.status+a.statusText+JSON.stringify(f)+g)})},removeCurrentSkill:function(b,e,f,g){var h={profileId:b,skillId:e},i=Ra+"/profiles/"+b+"/itskills/"+e;return $.ajax({url:i,datatype:"json",method:"POST",headers:{accept:"application/json","X-HTTP-Method-Override":"DELETE","Content-Type":"application/json"}}).then(function(b){a(Ae.getMyProfile("MNJFlow")).then(function(b){a(Ae.getDashboard()),d("spa-event","EditProfile","itskills","Delete"),f.close(),g.close(),c("success","IT Skills have been successfully deleted.")})},function(a){c("error"),f.close(),d("spa-event","EditProfile","itskills","DeleteError",a.status+a.statusText+h+i)})},showToast:function(a,b){c(b,a)}}},fi=ci(di,ei)(ai),gi=window.interfaces,hi=gi.Virtual,ii=function(a){function b(){Nb(this,b);var a=Sb(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments));return a.lazyloadContainer=null,a.addITSkillsBtn=null,a.addITSkillsCont=null,a.state={showDialog:!1,skillId:-1,addITSkillsInstance:null},a}return Rb(b,a),Ob(b,[{key:"addITSkills",value:function(a){var b=this;this.setState({skillId:-1},function(){return b.initDrawerCall()})}},{key:"editITSkills",value:function(a){var b=this,c=(a.target.attributes.getNamedItem("data-prefillid")?a.target.attributes.getNamedItem("data-prefillid").value:$(a.target).closest("[data-prefillid]").data("prefillid"))||-1;this.setState({skillId:c},function(){return b.initDrawerCall()})}},{key:"getITSkillsTitleVal",value:function(a,b){var a=a||"-",b=b||"-";return{skill:a,version:b}}},{key:"getITSkillsLabelVal",value:function(a,b){var c=a.year>"1"&&a.year+" Years"||a.year!=-1&&a.year+" Year"||"",d=a.month>"1"&&" "+a.month+" Months "||a.month!=-1&&" "+a.month+" Month "||"",b=c&&b&&b.id&&b.id>-1&&b.value||"";return{exp:c+d||"-",lastUsed:b||"-"}}},{key:"getITSkillsTemplate",value:function(a){var b=this;a=a||[];for(var c=[],d=a.length-1;d>=0;d--)c.push(hi.createElement("li",{key:d,className:"collection","data-prefillid":a[d].skillId},hi.createElement("span",{className:"col s3 "},a[d].skill||"-"),hi.createElement("span",{className:"col s2 "},a[d].version||"-"),a[d].lastUsed&&hi.createElement("span",{className:"col s3"},this.getITSkillsLabelVal(a[d].experienceTime,a[d].lastUsed).lastUsed)||"-",a[d].experienceTime&&hi.createElement("span",{className:"col s3"},this.getITSkillsLabelVal(a[d].experienceTime,a[d].lastUsed).exp)||"-",hi.createElement("span",{tabIndex:"0",className:"col s1 icon edit right-align","data-prefillid":a[d].skillId,onClick:function(a){b.editITSkills(a)}},"Edit")));return c.length||c.push(hi.createElement("div",{className:"row",key:d},hi.createElement("p",{className:"noData col s12"},"Not Mentioned"))),c}},{key:"attachedCallback",value:function(){}},{key:"initDrawer",value:function(){var a=this;this.state.addITSkillsInstance=$(this.addITSkillsBtn).lightBox({model:$(this.addITSkillsCont),dimens:{width:"685px"},open:{anim:"flipOpen",success:function(){d("spa-event","EditProfile","itskills","EditOpen")},event:""},close:{layer:!1,anim:"flipClose",replaceToRoute:"edit=ITSkills",nodes:$(".cancelLayer,.crossLayer"),success:function(b){a.setState({showDialog:!1}),d("spa-event","EditProfile","itskills","Cancel")}}})}},{key:"initDrawerCall",value:function(){var a=this;this.state.addITSkillsInstance||this.initDrawer(),this.setState({showDialog:!0},function(){a.state.addITSkillsInstance.open()})}},{key:"saveITSkills",value:function(a){a.preventDefault(),this.validator.isValid()&&this.props.itSkillsSave(this.props.userDetail.profileId,this.state)}},{key:"render",value:function(){var a=this;return hi.createElement("div",{className:"itSkills"},hi.createElement("div",{className:"card"},hi.createElement(Pd,{id:"itSkillMessenger",autoHideIn:"4000"}),hi.createElement("div",{className:"cardPad"},hi.createElement("div",{className:"widgetHead"},hi.createElement("span",{className:"widgetTitle"},"IT Skills"),!(this.props.userData.self.itSkills&&this.props.userData.self.itSkills.length)&&hi.createElement("span",{className:"profileComScore"},"Add ",this.props.profileCompletenessScore,"%"),hi.createElement("span",{tabIndex:"0",className:"add no-outline",ref:function(b){a.addITSkillsBtn=b},onClick:function(b){a.addITSkills(b)}},this.props.userData.self.itSkills&&this.props.userData.self.itSkills.length<10&&"ADD DETAILS"||"")),hi.createElement("div",{className:"widgetCont"},this.props.userData.self.itSkills&&this.props.userData.self.itSkills.length?hi.createElement("div",{className:"prefill"},hi.createElement("ul",null,hi.createElement("li",{className:"collection"},hi.createElement("span",{className:"col s3"},"Skills"),hi.createElement("span",{className:"col s2"},"Version"),hi.createElement("span",{className:"col s3"},"Last Used"),hi.createElement("span",{className:"col s3"
},"Experience"),hi.createElement("span",{className:"col s1"})),this.getITSkillsTemplate(this.props.userData.self&&this.props.userData.self.itSkills))):hi.createElement("span",{className:"empty"},this.props.emptyText)))),hi.createElement("div",{className:"lightbox profileEditDrawer itSkillsEdit",ref:function(b){a.addITSkillsCont=b}},hi.createElement("div",{className:"crossLayer"},hi.createElement("span",{className:"icon"},"CrossLayer")),this.state.showDialog&&hi.createElement(fi,{origin:this.props.origin,messengerId:this.props.messengerId,lbInst:this.state.addITSkillsInstance,prefillId:this.state.skillId})))}}]),b}(hi.PureComponent),ji=window.interfaces,ki=ji.connect,li=function(a,b){var c="Specify details about programming languages (such as Java, Python, C/C++, Oracle, SQL etc), softwares (Microsoft Word, Excel, Tally etc) or any other software related knowledge.",d="pending action text";return{userDetail:a.userDetails,route:a.route,userData:a.myProfile,profileCompletenessScore:a.pendingAction&&a.pendingAction.Farea_and_IT_skills&&a.pendingAction.Farea_and_IT_skills.subSectionWeightage||"5",emptyText:"pendingAction"==b.origin?d:c,origin:b.origin,pAMessengerId:b.messengerId}},mi=function(a){return{hideMessenger:function(){var b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"itSkillMessenger";a({type:Fd,payload:{id:b}})}}},ni=ki(li,mi)(ii),oi=function(a){return function(b){var c="",d=b.val().trim(),e=b.val().split(",").length;return e>5&&(c="Please specify max 5 skills Key Skill."),d?d.length>100?c="Keyskills length should not be more than 100 characters.":d.match(/^[^\\<]*$/)||(c="Please remove Less than(<) characters."):c="Please specify atleast one Key Skill.",{msg:c,id:a}}},pi={1e3:oi("EmpchipsVal_err"),salaryRange:rd("ctc_err","hid_lakhDroope","hid_thouDroope",Ic,Jc,{blank:!0}),currentsalaryRange:rd("currentctc_err","hid_lakhDroope","hid_thouDroope",Ic,Jc,{blank:!0}),desigRequired:{msg:"Please specify your Designation.",id:"designation_err"},skill_err:{msg:"Please specify your skills.",id:"skill_err"},totalExp:{msg:"Please specify your total experience.",id:"exp_err"},ctc:{msg:"Please select Salary.",id:"currentctc_err"},expCombination:function(){var a=$("#hid_exp-years-droope").val(),b=$("#hid_exp-months-droope").val();return 0==a&&0==b&&{msg:"Please specify your total experience.",id:"exp_err"}},expRange:rd("exp_err","hid_exp-years-droope","hid_exp-months-droope",Gc,Hc),desigSpecialChar:{msg:"Special characters other than Hyphen(-) SingleQuote(') Comma(,)  Dot(.) are not allowed.",id:"designation_err",regEx:/^[a-zA-Z0-9\'\s&,.\-\(\)]+$/},cnameRequired:{msg:"Please specify your Organization.",id:"cname_err"},cnameSpecialChar:{msg:"Special characters other than Hyphen(-) SingleQuote(') Comma(,) Dot(.) are not allowed.",id:"cname_err",regEx:/^[a-zA-Z0-9'\s&,.\-\(\)\/]+$/},validChar:{msg:"Special characters such as Backslash(\\) & Less than(<) are not allowed.",regEx:/^[^\\<]*$/},startedFrom:function(){var a=$("#hid_startedYear").val(),b=$("#hid_startedMonth").val();return(""==a||""==b)&&{msg:"Please select valid Start date.",id:"startedFrom_err"}},workedTill:function(){var a=$("#hid_startedYear").val()?parseInt($("#hid_startedYear").val()):"",b=$("#hid_startedMonth").val()?parseInt($("#hid_startedMonth").val()):"",c=$("#hid_workedTillYear").val()?parseInt($("#hid_workedTillYear").val()):"",d=$("#hid_workedTillMonth").val()?parseInt($("#hid_workedTillMonth").val()):"";return""==c||""==d?{msg:"Please select End date.",id:"workedTill_err"}:(c<a||c==a&&d<b)&&{msg:"End Date must be greater than Start Date.",id:"workedTill_err"}},lwd:function(){var a=$("#hid_lwdYear").val(),b=$("#hid_lwdMonth").val(),c=$("#hid_lwdDay").val();return(""==a||""==b||""==c)&&{msg:"Please specify your Last Working Day in current company.",id:"lwd_err"}},nextDesigSpecialChar:{msg:"Special characters other than Hyphen(-) SingleQuote(') Comma(,) Colon(:) Exclamation(!) Dot(.) are not allowed.",id:"nextDesignation_err",regEx:/^[a-zA-Z0-9\'\s&,.\-\(\)!:]+$/},nextCompSpecialChar:{msg:"Special characters other than Hyphen(-) SingleQuote(') Comma(,) Dot(.) are not allowed.",id:"nextCompany_err",regEx:/^[a-zA-Z0-9'\s&,.\-\(\)\/]+$/}},qi=(function(){var a={ctcLacs:{},ctcThousands:{}};a.ctcLacs[-1]="Select",a.ctcLacs[0]="0 Lakh",a.ctcLacs[1]="1 Lakh";for(var b=2;b<=50;b++)a.ctcLacs[b]=b+" Lakhs";a.ctcLacs[51]="50+ Lakhs";for(var c=93,d=55;c<103;c++,d+=5)a.ctcLacs[c]=d+"+ Lakhs";a.ctcThousands[0]="0 Thousand";for(var e=5;e<=95;e+=5)a.ctcThousands[e]=e+" Thousand";return a}(),function(){for(var a=(new Date).getFullYear(),b={},c=a;c>=1940;c--)b["#"+c]=c;return b}(),{"#3":"Doctorate/PhD","#2":"Masters/Post-Graduation","#1":"Graduation/Diploma","#12":"12th","#10":"10th","#99":"Below 10th"}),ri=(function(){for(var a=(new Date).getFullYear()+4,b={},c=a;c>=1940;c--)b["#"+c]=c;return b}(),{1:"Jan",2:"Feb",3:"Mar",4:"Apr",5:"May",6:"Jun",7:"Jul",8:"Aug",9:"Sep",10:"Oct",11:"Nov",12:"Dec"}),si=(function(a){function b(){for(var b={},c=e+1;c<=12;c++)b[c]=a[c];return b}function c(b){return b?g[b]:a}var d,e;d=(new Date).getFullYear(),e=(new Date).getMonth();for(var f={},g={},h=d;h<=d+2;h++)f[h]=h,h==d?g[h]=b():g[h]=a;return{year:f,month:c}}(ri),function(a){function b(){return f}function c(b){var c={};if(b==d){for(var f=1;f<=e;f++)c[f]=a[f];return c}return a}var d,e;d=(new Date).getFullYear(),e=(new Date).getMonth()+1;for(var f={},g=d;g>=1970;g--)f["#"+g]=g;return{year:b,month:c}}(ri)),ti=(function(a){function b(a,b){a=a||1970,b=b||0;for(var c=d-b,e={},f=c;f>=a;f--)e["#"+f]=f;return e}function c(b){var c={};if(b==d){for(var f=1;f<=e;f++)c[f]=a[f];return c}return a}var d,e;return d=(new Date).getFullYear(),e=(new Date).getMonth()+1,{year:b,month:c}}(ri),function(a){function b(){return g}function c(b){var c={};if(b==e){for(var d=f;d<=12;d++)c[d]=a[d];return c}return a}function d(a,b){var c={};if(a&&b){var d=new Date(a,b,0).getDate();if(b==f)for(var e=(new Date).getDate();e<=d;e++)c[e]=e;else for(var g=1;g<=d;g++)c[g]=g}else for(var h=1;h<=31;h++)c[h]=h;return c}for(var e=(new Date).getFullYear(),f=(new Date).getMonth()+1,g={},h=e+1;h>=e;h--)g["#"+h]=h;return{year:b,month:c,day:d}}(ri),window.interfaces.Virtual),ui=function(a){function b(){var a;Nb(this,b);var c=Sb(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments));return c.handleChange=function(a,b){b&&(b=b.replace("#","")),"currentCtcLacs_keys"==a&&b>50&&(c.resetDroope("currentThouDroope"),c.setState({currentCtcThousands_keys:""})),"ctcLacs_keys"==a&&b>50&&(c.resetDroope("thouDroope"),c.setState({ctcThousands_keys:""})),c.setState(Pb({},a,b),function(){"isCurrent"==a&&("yes"==b?c.setState({workedTillYear:"",workedTillMonth:"",np_keys:c.props.empDetails.np_keys}):c.setState({np_keys:""}))})},c.updateTextCount=function(a){var b=a.target.value.length;c.state.maxChar-b<0||c.setState({jobDescription:a.target.value,charsFilled:b})},c.deleteEmployment=function(a){a.preventDefault();var b={profileId:c.props.profileId,closeLayer:c.props.closeLayer,confirmBoxInst:c.confirmBoxInstance};c.props.deleteEmployment(b,c.state.empId)},c.submitEmployment=function(a){a.preventDefault(),c.setState({skillSet:$("#chipsVal").val()},function(){if(c.validator.isValid()){var a={profileId:c.props.profileId,closeLayer:c.props.closeLayer};c.props.submitEmployment(a,c.state)}})},c.formName="employmentForm",c.confirmBoxInstance=null,c.state=(a={skillSet:"",currentKeySkills:c.props.empDetails.keySkills||"",currentCtcThousands_keys:"",maxChar:4e3,charsFilled:c.props.empDetails.jobDescription&&c.props.empDetails.jobDescription.length||0,empId:c.props.prefillId,designation:c.props.empDetails.designation,cname:c.props.empDetails.cname,jobDescription:c.props.empDetails.jobDescription,isCurrent:c.props.empDetails.isCurrent||"yes",startedYear:c.props.empDetails.startedYear,startedMonth:c.props.empDetails.startedMonth,workedTillYear:c.props.empDetails.workedTillYear,workedTillMonth:c.props.empDetails.workedTillMonth,np_keys:c.props.empDetails.np_keys,lwdYear:c.props.empDetails.lwdYear,lwdMonth:c.props.empDetails.lwdMonth,lwdDay:c.props.empDetails.lwdDay,currency:c.props.empDetails.currency||"INR",curentCurrency:c.props.userDetails.currency||"INR",ctcLacs_keys:c.props.empDetails.ctcLacs_keys,ctcThousands_keys:c.props.empDetails.ctcThousands_keys,currentCtcLacs_keys:c.props.userDetails.ctcLacs_keys},Pb(a,"currentCtcThousands_keys",c.props.userDetails.ctcThousands_keys),Pb(a,"nextDesignation",c.props.empDetails.nextDesignation),Pb(a,"nextCompany",c.props.empDetails.nextCompany),Pb(a,"origin",c.props.origin),Pb(a,"pAMessengerId",c.props.messengerId),Pb(a,"fromRecoAction",c.props.fromRecoAction),Pb(a,"userName",c.props.userName),a),c}return Rb(b,a),Ob(b,[{key:"initValidation",value:function(){this.validator=window.commonValidator(),this.validator.validate({formNames:[this.formName],errors:pi,focusOnError:!0,submitButton:"submitEmployment",styles:{parentObjectClass:"row",maxLevel:10,errorClass:"err"}})}},{key:"attachedCallback",value:function(){try{this.initValidation()}catch(a){}}},{key:"getSuggConfig",value:function(a){var b={maxSuggestions:"12",grouping:!1,relatedConcept_dataLayer:!1,multiSearch:!1,startSearchAfter:"2",chips:!1,maxCharacterLimit:100,maxlength:100,singleSelect:!0,appId:"105",width:"100%"};return Qb({},b,a)}},{key:"resetDroope",value:function(a){var b=$("#"+a).data("droope");b&&b.reset()}},{key:"renderConfirmBox",value:function(){var a=this,b={dimens:{width:"30%",height:"160px"},routing:!1};return ti.createElement(Ke,{params:b,setInstance:function(b){return a.confirmBoxInstance=b}},function(b){var c;b.close;return ti.createElement("div",{className:"confirmationBox empConfirmation"},ti.createElement("div",{className:"row"},ti.createElement("p",{className:"left-align"},"Are you sure you want to delete this employment?")),ti.createElement("div",{className:"row"},ti.createElement("div",{className:"col s12 right-align"},ti.createElement("a",(c={className:"blue-text"},Pb(c,"className","cancelLayer mr20"),Pb(c,"href","javascript:void(0)"),Pb(c,"onClick",function(){return a.confirmBoxInstance.close()}),c),"CANCEL"),ti.createElement("button",{className:"waves-effect waves-light btn-large",onClick:a.deleteEmployment},"DELETE"))))})}},{key:"render",value:function(){var a,b=this,c="yes"==this.state.isCurrent,d=!(!c||6!=this.state.np_keys),e=!(this.state.ctcLacs_keys>50),f=!(this.state.currentCtcLacs_keys>50),g=this.state.empId==-1;!this.state.totalExpYears_keys||parseInt(this.state.totalExpYears_keys)<6;return ti.createElement("div",null,ti.createElement(Pd,{id:"employmentFormMessenger"}),ti.createElement("form",{name:this.formName,id:this.formName,className:"container employmentForm lbpadding",noValidate:!0},this.renderConfirmBox(),ti.createElement("div",{className:"editHeader"},g?ti.createElement("div",null,ti.createElement("span",{className:"widgetTitle"},"Add Employment")):ti.createElement("div",null,ti.createElement("span",{className:"widgetTitle truncate",title:this.props.empDetails.designation},"Edit - ",this.props.empDetails.designation||"Employment"),ti.createElement("a",{href:"javascript:void(0);",className:"delete",onClick:function(){return b.confirmBoxInstance.open()}},"DELETE"))),ti.createElement("div",{className:"row"},ti.createElement("div",{className:"input-field col s12 mt0"},ti.createElement("span",{className:"lbl required-field"},"Your Designation")),ti.createElement("div",{className:"col s12"},ti.createElement(ng,this.getSuggConfig({id:"designationSugg",category:{title:"title"},placeholderText:"Type Your Designation",value:this.state.designation,rel:"required:desigRequired,specialChar:desigSpecialChar",onChange:function(a){return b.handleChange("designation",a.target.value)},onSelectClbk:function(a,c){return b.handleChange("designation",c)}})),ti.createElement("span",{className:"erLbl",id:"designation_err"}))),ti.createElement("div",{className:"row"},ti.createElement("div",{className:"input-field col s12"},ti.createElement("span",{className:"lbl required-field"},"Your Organization")),ti.createElement("div",{className:"col s12"},ti.createElement(ng,this.getSuggConfig({id:"companySugg",category:{company:"company"},placeholderText:"Type Your Organization",value:this.state.cname,rel:"required:cnameRequired,specialChar:cnameSpecialChar",onChange:function(a){return b.handleChange("cname",a.target.value)},onSelectClbk:function(a,c){return b.handleChange("cname",c)}})),ti.createElement("span",{className:"erLbl",id:"cname_err"}))),ti.createElement("div",{className:"row"},ti.createElement("div",{className:"input-field col s12"},ti.createElement("span",{className:"lbl"},"Is this your current company?")),ti.createElement("div",{className:"col s4"},ti.createElement("input",{name:"isCurrent",className:"with-gap",type:"radio",id:"yes",onChange:function(){return b.handleChange("isCurrent","yes")},checked:c}),ti.createElement("label",{htmlFor:"yes"},"Yes")),ti.createElement("div",{className:"col s4"},ti.createElement("input",{name:"isCurrent",className:"with-gap",type:"radio",id:"no",onChange:function(){return b.handleChange("isCurrent","no")},checked:!c}),ti.createElement("label",{htmlFor:"no"},"No"))),ti.createElement("div",{className:"row"},ti.createElement("div",{className:"input-field col s12"},ti.createElement("span",{className:"lbl required-field"},"Started Working From")),ti.createElement("div",{className:"col s4"},ti.createElement(Bc,{id:"startedYear",data:si.year(),prefillData:[this.state.startedYear],placeholder:"Select Year",sortPrefix:"#",rel:"custom:startedFrom",iconName:"DownArrow",onChange:function(a,c){return b.handleChange("startedYear",a)}})),ti.createElement("div",{className:"col s4"},ti.createElement(Bc,{id:"startedMonth",data:si.month(this.state.startedYear),prefillData:[this.state.startedMonth],placeholder:"Select Month",iconName:"DownArrow",onChange:function(a,c){return b.handleChange("startedMonth",a)}})),ti.createElement("div",{className:"col s12"},ti.createElement("span",{className:"erLbl",id:"startedFrom_err"}))),ti.createElement("div",{className:"row"},ti.createElement("div",{className:"input-field col s12"},ti.createElement("span",{className:"lbl required-field"},"Worked Till")),c?ti.createElement("div",{className:"col s4"},ti.createElement("div",{className:"present-box"},"Present")):ti.createElement("div",null,ti.createElement("div",{className:"col s4"},ti.createElement(Bc,{id:"workedTillYear",data:si.year(),prefillData:[this.state.workedTillYear],placeholder:"Select Year",sortPrefix:"#",rel:"custom:workedTill",iconName:"DownArrow",onChange:function(a,c){return b.handleChange("workedTillYear",a)}})),ti.createElement("div",{className:"col s4"},ti.createElement(Bc,{id:"workedTillMonth",data:si.month(this.state.workedTillYear),prefillData:[this.state.workedTillMonth],placeholder:"Select Month",iconName:"DownArrow",onChange:function(a,c){return b.handleChange("workedTillMonth",a)}})),ti.createElement("div",{className:"col s12"},ti.createElement("span",{className:"erLbl",id:"workedTill_err"})))),c&&"pA"!=this.state.origin?ti.createElement("div",null,ti.createElement("div",{className:"row"},ti.createElement("div",{className:"input-field col s12"},ti.createElement("span",{className:"lbl required-field"},"Current Salary")),ti.createElement("div",{className:"col s12"},ti.createElement("div",{className:"row"},ti.createElement("div",{className:"col s4"},ti.createElement("input",{name:"curentCurrency",className:"with-gap",type:"radio",id:"CurrentINR",onChange:function(a){return b.handleChange("curentCurrency","INR")},checked:"INR"==this.state.curentCurrency}),ti.createElement("label",{htmlFor:"CurrentINR"},"Indian Rupees")),ti.createElement("div",{className:"col s4"},ti.createElement("input",{name:"curentCurrency",className:"with-gap",type:"radio",id:"CurrentUSD",onChange:function(a){return b.handleChange("curentCurrency","USD")},checked:"USD"==this.state.curentCurrency}),ti.createElement("label",{htmlFor:"CurrentUSD"},"US Dollars")))),ti.createElement("div",{className:"col s4"},ti.createElement(ld,{id:"currentLakhDroope",rel:"required:ctc,custom:currentsalaryRange",data:Ic,postText:"Lacs",prefillData:[this.state.currentCtcLacs_keys],placeholder:"Lacs",sortPrefix:"#",iconName:"DownArrow",onChange:function(a,c){return b.handleChange("currentCtcLacs_keys",a)}})),f&&ti.createElement("div",{className:"col s4"},ti.createElement(ld,{id:"currentThouDroope",rel:"custom:currentsalaryRange",data:Jc,postText:"Thousand",prefillData:[this.state.currentCtcThousands_keys],sortPrefix:"#",placeholder:"Thousands",iconName:"DownArrow",onChange:function(a,c){return b.handleChange("currentCtcThousands_keys",a)}})),ti.createElement("div",{className:"col s12 err-container"},ti.createElement("span",{className:"erLbl",id:"currentctc_err"}))),ti.createElement(Fg,{setKeySkills:this.setKeySkills,currentKeySkills:this.state.currentKeySkills,source:"employmentSection"})):null,ti.createElement("div",{className:"row"},ti.createElement("div",{className:"input-field col s12"},ti.createElement("span",{className:"lbl"},"Describe your Job Profile")),ti.createElement("div",{className:"col s12"},ti.createElement("textarea",{id:"jobDescription",className:"materialize-textarea jobDescription",placeholder:"Type here...",rel:"specialChar:validChar",defaultValue:this.state.jobDescription,maxLength:"4000",onChange:this.updateTextCount}),ti.createElement("span",{className:"erLbl",id:"jobDescription_err"}),ti.createElement("div",{className:"textCounter right"},this.state.maxChar-this.state.charsFilled," Character(s) Left"))),c&&ti.createElement("div",{className:"row"},ti.createElement("div",{className:"input-field col s12"},ti.createElement("span",{className:"lbl"},"Notice Period")),ti.createElement("div",{className:"col s12"},ti.createElement(ld,{id:"noticePeriod",data:Kc,prefillData:[this.state.np_keys],placeholder:"Select Notice Period",sortPrefix:"#",iconName:"DownArrow",onChange:function(a,c){return b.handleChange("np_keys",a)}}))),d&&ti.createElement("div",null,ti.createElement("div",{className:"row"},ti.createElement("div",{className:"input-field col s12"},ti.createElement("span",{className:"lbl required-field"},"Expected Last Working Day")),ti.createElement("div",{className:"col s4"},ti.createElement(Bc,{id:"lwdYear",data:Vg.year(),prefillData:[this.state.lwdYear],placeholder:"Select Year",sortPrefix:"#",rel:"custom:lwd",iconName:"DownArrow",onChange:function(a,c){return b.handleChange("lwdYear",a)}})),ti.createElement("div",{className:"col s4"},ti.createElement(Bc,{id:"lwdMonth",data:Vg.month(this.state.lwdYear),prefillData:[this.state.lwdMonth],placeholder:"Select Month",sortPrefix:"#",iconName:"DownArrow",onChange:function(a,c){return b.handleChange("lwdMonth",a)}})),ti.createElement("div",{className:"col s4"},ti.createElement(Bc,{id:"lwdDay",data:Vg.day(this.state.lwdYear,this.state.lwdMonth),prefillData:[this.state.lwdDay],sortPrefix:"#",placeholder:"Select Day",iconName:"DownArrow",onChange:function(a,c){return b.handleChange("lwdDay",a)}})),ti.createElement("div",{className:"col s12"},ti.createElement("span",{className:"erLbl",id:"lwd_err"}))),ti.createElement("div",{className:"row"},ti.createElement("div",{className:"input-field col s12"},ti.createElement("span",{className:"lbl"},"Offered Salary")),ti.createElement("div",{className:"col s12"},ti.createElement("div",{className:"row"},ti.createElement("div",{className:"col s4"},ti.createElement("input",{name:"currency",className:"with-gap",type:"radio",id:"INR",onChange:function(a){return b.handleChange("currency","INR")},checked:"INR"==this.state.currency}),ti.createElement("label",{htmlFor:"INR"},"Indian Rupees")),ti.createElement("div",{className:"col s4"},ti.createElement("input",{name:"currency",className:"with-gap",type:"radio",id:"USD",onChange:function(a){return b.handleChange("currency","USD")},checked:"USD"==this.state.currency}),ti.createElement("label",{htmlFor:"USD"},"US Dollars")))),ti.createElement("div",{className:"col s4"},ti.createElement(ld,{id:"lakhDroope",rel:"custom:salaryRange",data:Ic,postText:"Lacs",prefillData:[this.state.ctcLacs_keys],placeholder:"Lacs",sortPrefix:"#",iconName:"DownArrow",onChange:function(a,c){return b.handleChange("ctcLacs_keys",a)}})),e&&ti.createElement("div",{className:"col s4"},ti.createElement(ld,{id:"thouDroope",rel:"custom:salaryRange",data:Jc,postText:"Thousand",prefillData:[this.state.ctcThousands_keys],sortPrefix:"#",placeholder:"Thousands",iconName:"DownArrow",onChange:function(a,c){return b.handleChange("ctcThousands_keys",a)}})),ti.createElement("div",{className:"col s12 err-container"},ti.createElement("span",{className:"erLbl",id:"ctc_err"}))),ti.createElement("div",{className:"row"},ti.createElement("div",{className:"input-field col s12"},ti.createElement("span",{className:"lbl"},"Offered Designation")),ti.createElement("div",{className:"col s12"},ti.createElement(ng,this.getSuggConfig({id:"nextDesignationSugg",category:{title:"title"},placeholderText:"",value:this.state.nextDesignation,rel:"specialChar:nextDesigSpecialChar",onChange:function(a){return b.handleChange("nextDesignation",a.target.value)},onSelectClbk:function(a,c){return b.handleChange("nextDesignation",c)}})),ti.createElement("span",{className:"erLbl",id:"nextDesignation_err"}))),ti.createElement("div",{className:"row"},ti.createElement("div",{className:"input-field col s12"},ti.createElement("span",{className:"lbl"},"Next Employer")),ti.createElement("div",{className:"col s12"},ti.createElement(ng,this.getSuggConfig({id:"nextCompanySugg",category:{company:"company"},placeholderText:"",value:this.state.nextCompany,rel:"specialChar:nextCompSpecialChar",onChange:function(a){return b.handleChange("nextCompany",a.target.value)},onSelectClbk:function(a,c){return b.handleChange("nextCompany",c)}})),ti.createElement("span",{className:"erLbl",id:"nextCompany_err"})))),ti.createElement("div",{className:"row"},ti.createElement("div",{className:"col s12 action"},ti.createElement("a",(a={className:"blue-text"},Pb(a,"className","cancelLayer mr20"),Pb(a,"href","javascript:void(0)"),Pb(a,"onClick",function(){return b.props.closeLayer()}),a),"CANCEL"),ti.createElement("button",{className:"waves-effect waves-light btn-large",type:"button",id:"submitEmployment",onClick:this.submitEmployment},"Save")))))}}]),b}(ti.PureComponent),vi=window.interfaces,wi=vi.connect,xi=function(a,b){return{empDetails:a.myProfile.empDetails[b.prefillId]||{},prefillId:b.prefillId||-1,profileId:a.userDetails.profileId,userDetails:a.myProfile.basicDetails,origin:"pendingAction"==b.origin||"recommendAction"==b.origin?"pA":"profile",messengerId:b.messengerId||null,fromRecoAction:"recommendAction"==b.origin,userName:a.userDetails.username}},yi=function(a){return!a||a<0||isNaN(parseInt(a))?0:parseInt(a)},zi=function(a){var b={employments:{keySkills:a.skillSet,employmentType:"yes"==a.isCurrent?"current":"previous",jobDescription:a.jobDescription||"",organization:a.cname,designation:a.designation,startDate:a.startedYear+"-"+("0"+a.startedMonth).slice(-2)+"-01",endDate:"yes"==a.isCurrent?"":a.workedTillYear+"-"+("0"+a.workedTillMonth).slice(-2)+"-01"}};if("-1"!=a.empId&&(b.employments.employmentId=a.empId),"yes"==a.isCurrent&&(b.profiles={noticePeriod:{id:a.np_keys||-1},currency:a.curentCurrency,ctc:{lacs:{id:yi(a.currentCtcLacs_keys)},thousands:{id:yi(a.currentCtcThousands_keys)}}},"6"==a.np_keys)){b.noticePeriod={notice_endDate:a.lwdYear+"-"+("0"+a.lwdMonth).slice(-2)+"-"+("0"+a.lwdDay).slice(-2),offeredDesig:a.nextDesignation,nextEmployer:a.nextCompany};var c=a.ctcLacs_keys,d=a.ctcThousands_keys;"undefined"==typeof c&&"undefined"==typeof d||(b.noticePeriod.salary={currency:a.currency||"INR",lakhs:yi(c),thousands:yi(d)})}return b},Ai=function(a){var b=1,c=function(b,c){var d="success"===b?"employmentMessenger":"employmentFormMessenger";a({type:Ed,payload:c?{id:d,type:b,msg:c}:{id:d,type:b}}),"error"===b&&$(".msgBox").focus()},e=function(){var b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"employmentFormMessenger";a({type:Fd,payload:{id:b}})},f=function(b,c,d){var e="success"===b?d:"educationEditMessenger";a({type:Ed,payload:c?{id:e,type:b,msg:c}:{id:e,type:b}})};return{submitEmployment:function(g,h){if(b){b=0,e();var i=zi(h),j=Ra+"/fullProfile/"+g.profileId;return $.ajax({url:j,datatype:"json",data:JSON.stringify(i),method:"POST",headers:{accept:"application/json","X-HTTP-Method-Override":"PUT","Content-Type":"application/json"}}).then(function(e){setTimeout(function(){b=1},6e3),setTimeout(function(){a(Ae.getMyProfile("MNJFlow")).then(function(b){a(Ae.getDashboard()),g.closeLayer(!1),"pA"==h.origin?(f("success","Employment Details have been successfully saved.",h.pAMessengerId),d("spa-event","PendingAction","employment","Save"),$(window).scrollTop(0),h.fromRecoAction&&a(Ae.getRecommendAction(h.userName))):(c("success","Employment Details have been successfully saved."),d("spa-event","EditProfile","employment","Save"))})},10)},function(a){c("error"),d("spa-event","EditProfile","employment","SaveError",a.status+a.statusText+JSON.stringify(i)+j)})}return!1},deleteEmployment:function(b,f){e();var g=Ra+"/profiles/"+b.profileId+"/employments/"+f;return $.ajax({url:g,datatype:"json",method:"POST",headers:{accept:"application/json","X-HTTP-Method-Override":"DELETE","Content-Type":"application/json"}}).then(function(e){c("success","Employment Details have been successfully deleted."),setTimeout(function(){a(Ae.getMyProfile("MNJFlow")).then(function(c){a(Ae.getDashboard()),b.confirmBoxInst.close(),b.closeLayer(!1),d("spa-event","EditProfile","employment","Delete")})},10)},function(a){b.confirmBoxInst.close(),c("error"),d("spa-event","EditProfile","employment","DeleteError",a.status+a.statusText+JSON.stringify(formModel)+g)})}}},Bi=wi(xi,Ai)(ui),Ci=window.interfaces.Virtual,Di=function(a){function b(){return Nb(this,b),Sb(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return Rb(b,a),Ob(b,[{key:"renderTags",value:function(a){return a.map(function(a,b){return Ci.createElement("span",{className:"chip",key:b,title:a.title},a.title)})}},{key:"render",value:function(){return Ci.createElement("div",{className:"prefill"},this.renderTags(this.props.items))}}]),b}(Ci.PureComponent);Di.propTypes={items:Ci.PropTypes.array.isRequired};var Ei=window.interfaces.Virtual,Fi=function(a){function b(){Nb(this,b);var a=Sb(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments));return a.openLayer=function(b,c){"Add Job Profile"==b.target.textContent&&a.focusTarget("#jobDescription"),a.addEmploymentInstance||(a.addEmploymentInstance=a.initDrawer(b.target)),a.setState({showDialog:!0,prefillId:c},function(){a.addEmploymentInstance.open(),d("spa-event","EditProfile","employment","EditOpen")})},a.closeLayer=function(){var b=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],c=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];c&&history.back(),a.setState({showDialog:!1}),b&&d("spa-event","EditProfile","employment","Cancel")},a.addEmploymentCont=null,a.addEmploymentInstance=null,a.state={showDialog:!1,prefillId:-1},a}return Rb(b,a),Ob(b,[{key:"attachedCallback",value:function(){}},{key:"initDrawer",value:function(a){var b=this;return $(a).lightBox({model:$(this.addEmploymentCont),dimens:{width:"685px"},open:{anim:"flipOpen",event:"",minTop:100},close:{layer:!1,anim:"flipClose",nodes:$(".crossLayer"),success:function(a){b.setState({showDialog:!1})}}})}},{key:"addDetails",value:function(a,b){var c=this;return Ei.createElement("a",{href:"javascript:void(0);",className:"no-outline",tabIndex:"0",onClick:function(a){return c.openLayer(a,b)}},Ei.createElement("strong",null,a))}},{key:"focusTarget",value:function(a){a&&window.setTimeout(function(){var b=document.querySelector(a);b&&b.focus()},500)}},{key:"formatDate",value:function(a){if(a){var b=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],c=a.replace(/-/g,"/").match(/\d{4}\/\d{2}\/\d{2}/),d=new Date(c[0]);return b[d.getMonth()]+" "+d.getFullYear()}}},{key:"getDuration",value:function(a,b){var c=a?new Date(a):new Date,d=b?new Date(b):new Date,e=d.getTime()-c.getTime();if(e<=0)return{};var f=e/864e5,g=Math.floor(f/365),h=Math.floor(f%365/30);return{years:g,months:h}}},{key:"getDurationLabel",value:function(a,b){var c=this.getDuration(a,b),d=c.years||"",e=c.months||"",f=void 0,g=void 0;return d&&(f=d>1?d+" years":d+" year"),e&&(g=e>1?e+" months":e+" month"),f&&g?"("+f+" "+g+")":f?"("+f+")":g?"("+g+")":""}},{key:"formatDuration",value:function(a,b){var c=this.formatDate(a),d=this.formatDate(b)||"Present",e=this.getDurationLabel(a,b);return c+" to "+d+" "+e}},{key:"formatNoticePeriod",value:function(a,b){var c="";return"current"==a&&b&&b.id&&(c=6!=b.id?"Available to join in "+b.value:"Serving Notice Period"),c}},{key:"renderEmployment",value:function(a){var b=this,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return a?c.map(function(a){var c=b.formatNoticePeriod(a.employmentType,b.props.noticePeriod),d=!(!a.projects||!a.projects.length);return Ei.createElement("div",{key:a.employmentId,className:"row emp-list"},Ei.createElement("div",{className:"col s12 item title"},Ei.createElement("span",{className:"truncate ln15",title:a.designation},a.designation),Ei.createElement("span",{className:"edit icon",tabIndex:"0",onClick:function(c){return b.openLayer(c,a.employmentId)}},"Edit")),Ei.createElement("div",{className:"col s12 item"},Ei.createElement("span",{className:"truncate ln15 fs13",title:a.organization},a.organization)),Ei.createElement("div",{className:"col s12 item fs13"},b.formatDuration(a.startDate,a.endDate)),c&&Ei.createElement("div",{className:"col s12 item fs13"},c),Ei.createElement("div",{className:"col s12 item prefill fs13"},a.jobDescription&&Ei.createElement(Ff,{text:a.jobDescription,showChars:285})||b.addDetails("Add Job Profile",a.employmentId)),d&&Ei.createElement("div",{className:"col s12 item projects"},Ei.createElement("label",{className:"grey-text-light"},"Projects"),Ei.createElement(Di,{items:a.projects})),"current"==a.employmentType&&a.keySkills?Ei.createElement("div",{className:"col s12 keyskillList item"},Ei.createElement("span",{className:"keySkillHeading"},"Top 5 Key Skills:"),Ei.createElement("span",null,a.keySkills)):null)}):Ei.createElement("span",{className:"empty"},this.props.emptyText)}},{key:"render",value:function(){var a=this,b=!(!this.props.empList||!this.props.empList.length),c=!(b&&this.props.empList.length>=10);return Ei.createElement("div",{className:"employment-section"},Ei.createElement("div",{className:"card"},Ei.createElement(Pd,{id:"employmentMessenger",autoHideIn:"4000"}),Ei.createElement("div",{className:"cardPad"},Ei.createElement("div",{className:"widgetHead"},Ei.createElement("span",{className:"widgetTitle"},"Employment"),this.props.profileScore?Ei.createElement("span",{className:"profileComScore"},"Add ",this.props.profileScore,"%"):null,c&&Ei.createElement("span",{className:"add no-outline",tabIndex:"0",onClick:function(b){return a.openLayer(b,-1)}},"ADD EMPLOYMENT")),Ei.createElement("div",{className:"widgetCont"},this.renderEmployment(b,this.props.empList)))),Ei.createElement("div",{className:"lightbox employmentLayer profileEditDrawer",ref:function(b){a.addEmploymentCont=b}},Ei.createElement("div",{className:"crossLayer"},Ei.createElement("span",{className:"icon"},"CrossLayer")),this.state.showDialog&&Ei.createElement(Bi,{prefillId:this.state.prefillId,origin:this.props.origin,messengerId:this.props.messengerId,closeLayer:this.closeLayer})))}}]),b}(Ei.PureComponent),Gi=window.interfaces,Hi=Gi.connect,Ii=function(a,b){var c=function(a){if(a&&!$.isEmptyObject(a)){var b=a.Company_Name_and_Designation?a.Company_Name_and_Designation.subSectionWeightage:0,c=a.Job_Summary?a.Job_Summary.subSectionWeightage:0;return b&&c?b+c:0}return 0},d="Mention your employment details including your current and previous company work experience.",e="pending action text";return{empList:a.myProfile.self.empList,noticePeriod:a.myProfile.self.noticePeriod,
route:a.route,profileScore:c(a.pendingAction),emptyText:"pendingAction"==b.origin?e:d,origin:b.origin,pAMessengerId:b.messengerId}},Ji=function(a){return{}},Ki=Hi(Ii,Ji)(Fi),Li=function(a){return function(b){var c="#gradeMarks",d=$(c).attr("data-id"),e="",f=b.val();return f?f.match(/^([0-9]*[.])?[0-9]+$/)?(e=1==d&&(f<.1||f>10)?"The score should lie between 0.1 and 10.":2==d&&(f<.1||f>4)?"The score should lie between 0.1 and 4.":3==d&&(f<.1||f>100)?"The score should lie between 0.1 and 100.":"",{msg:e,id:a}):{msg:"Please enter numeric value.",id:a}:(e="Please enter a valid score.",{msg:e,id:a})}},Mi={educationRange:qd("highEdu_err","hid_highEdu",Oc),ppgCourseRange:qd("crs_err","hid_crs",Rc),pgCourseRange:qd("crs_err","hid_crs",Qc),ugCourseRange:qd("crs_err","hid_crs",Pc),ppgSpecRange:qd("specialization_err","hid_specialization",Uc),pgSpecRange:qd("specialization_err","hid_specialization",Tc),ugSpecRange:qd("specialization_err","hid_specialization",Sc),gradeRange:qd("gradeField_err","hid_gradeField",Vc),boardRange:qd("schoolBoardIdField_err","hid_schoolBoardIdField",Wc),mediumRange:qd("schoolMediumIdField_err","hid_schoolMediumIdField",Xc),marksRange:qd("schoolPercentageIdField_err","hid_schoolPercentageIdField",Yc),highEdu:{msg:"Please specify Education.",id:"highEdu_err"},course:{msg:"Please select Course.",id:"crs_err"},courseSub:{msg:"Please specify Course.",id:"courseSub_err"},specialization:{msg:"Please select Specialization.",id:"specialization_err"},specialSub:{msg:"Please specify Specialization.",id:"specialSub_err"},institute:{msg:"Please specify University/Institute.",id:"institute_err"},institute_specialChar:{msg:"Special characters other than comma(,) hyphen(-) underscore(_) Dot(.) are not allowed.",regEx:/^[a-zA-Z0-9-,'\s.@&_\(\)]+$/},passingYear:{msg:"Please select Passing out year.",id:"passingYear_err"},gradeMarks:Li("gradeMarks_err"),schoolBoardIdField:{msg:"Please select Board.",id:"schoolBoardIdField_err"},schoolCompletionYearField:{msg:"Please select Passing out year.",id:"schoolCompletionYearField_err"},schoolMediumIdField:{msg:"Please select Language medium.",id:"schoolMediumIdField_err"},schoolPercentageIdField:{msg:"Please select Marks.",id:"schoolPercentageIdField_err"},schoolEnglishMarks:td("schoolEnglishMarks_err"),schoolMathematicsMarks:td("schoolMathematicsMarks_err"),validChar:{msg:"Please remove Backslash(\\) & Less than(<) characters.",regEx:/^[^\\<]*$/}},Ni=window.interfaces.Virtual,Oi=function(a){function b(){Nb(this,b);var a=Sb(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments));a.suggestorTemplateIns=function(){return Ni.createElement("div",{className:"row"},Ni.createElement("div",{className:"suggest instituteSuggCont"},Ni.createElement("div",{className:"sWrap"},Ni.createElement("div",{className:"inpWrap pad0"},Ni.createElement("input",{placeholder:"Select university/institute",maxLength:"250",onChange:function(b){return a.setState({institute:b.target.value})},defaultValue:a.props.eduDetails.institute,rel:"required:institute,specialChar:institute_specialChar",type:"text",autocomplete:"off",className:"sugInp",name:"suggestor",id:"institute"})))),Ni.createElement("div",{className:"inputInfo"},Ni.createElement("span",{className:"erLbl",id:"institute_err"})))};var c=a;return a.formName="educationForm",a.ConfirmationBoxInstance=null,a.changeEducationLabel=a.changeEducationLabel.bind(a),a.state={lbInst:a.props.lbInst,prefillId:a.props.prefillId||-1,education:a.props.fromPushdown?{id:a.props.eduId,value:""}:a.props.eduDetails.educationType||a.props.addEduDetails||{id:"",value:""},course:a.props.eduDetails.course||{id:"",value:"",subValue:""},courseType:a.courseTypeMapping(a.props.eduDetails.courseType)||{id:"F",value:"Full Time"},institute:a.props.eduDetails.institute||"",specialization:a.props.eduDetails.specialization||{id:"",value:"",subValue:""},yop:a.props.eduDetails.yearOfCompletion||{id:"",value:""},grade:a.props.eduDetails.grade||{id:"",value:"",subValue:""},gradeMarks:a.props.eduDetails.marks,schoolBoardIdField:a.props.eduDetails.schoolBoardIdField||{id:"",value:""},schoolCompletionYearField:a.props.eduDetails.schoolCompletionYearField||{id:"",value:""},schoolMediumIdField:a.props.eduDetails.schoolMediumIdField||{id:"",value:""},schoolPercentageIdField:a.props.eduDetails.schoolPercentageIdField||{id:"",value:""},schoolEnglishMarks:a.props.eduDetails.schoolEnglishMarks||"",schoolMathematicsMarks:a.props.eduDetails.schoolMathematicsMarks||"",origin:a.props.origin,pAMessengerId:a.props.messengerId,focusCourse:!1,focusSpecialization:!1,suggParamsInstitute:{appId:"105",width:"100%",grouping:!1,relatedConcept_dataLayer:!1,multiSearch:!1,maxSuggestions:"7",startSearchAfter:"2",id:"institute",maxCharacterLimit:250,value:a.props.eduDetails.institute||"",category:{institute:"institute"},relatedConceptCategory:{institute:"institute"},singleSelect:!0,openState:!0,onSelectClbk:function(a,b){c.setState({institute:b})}},fromRecoAction:a.props.fromRecoAction,userName:a.props.userDetail.username,educationTypeData:{},educationTypeDataFromApi:!1},a.dummyState={},a.droopeCont=null,n("EDUCATION_TYPE").then(function(b){a.setState({educationTypeData:b,educationTypeDataFromApi:!0})}),a}return Rb(b,a),Ob(b,[{key:"courseTypeMapping",value:function(a){return a&&(a.value=Qg[a.value]),a}},{key:"changeEducationLabel",value:function(a){var b="";return"ppg"==a.toLowerCase()?b="Doctorate/PhD":"pg"==a.toLowerCase()?b="Masters/Post-Graduation":"ug"==a.toLowerCase()&&(b="Graduation/Diploma"),b}},{key:"setConfirmationInstance",value:function(a){this.ConfirmationBoxInstance=a}},{key:"initValidation",value:function(){this.validator=window.commonValidator(),this.validator.validate({formNames:[this.formName],errors:Mi,focusOnError:!0,submitButton:"saveEducation",styles:{parentObjectClass:"row",maxLevel:6,errorClass:"err"}})}},{key:"deleteEducation",value:function(){var a=Qb({},this.state,this.dummyState);this.props.removeCurrentEducation(this.props.userDetail.profileId,this.state.prefillId,this.state.education.id,this.ConfirmationBoxInstance,this.props.lbInst,a)}},{key:"closeDeleteBox",value:function(){this.ConfirmationBoxInstance.close()}},{key:"droope_onChange",value:function(a,b,c){a&&(this.openDroope_id=c,this.droope_Selections={keys:a,values:b},this.droope_Done())}},{key:"closeLayer",value:function(){this.props.fromPushdown?this.props.closeDialog():(d("spa-event","EditProfile","education","Cancel"),this.props.lbInst.close())}},{key:"handleInputChange",value:function(a,b,c){this.dummyState[a]=this.dummyState[a]||{},this.dummyState[a][b]=c.target.value,this.dummyState[a][b]?this.dummyState[a].id=9999:""}},{key:"droope_Done",value:function(){var a=this.droope_Selections;if(a){var b=this.openDroope_id,c=a.keys.constructor===Array||!1,d=c?I(a.values).join(", "):a.values,e={};e[b]={id:a.keys&&parseInt(a.keys)||a.keys,value:d},"education"==b&&a.keys!=this.state.education.id?(e.course={id:"",value:"",subValue:""},e.specialization={id:"",value:"",subValue:""}):"course"==b&&a.keys!=this.state.course.id?(e.specialization={id:"",value:"",subValue:""},"9999"==this.state.course.id&&(e.focusCourse=!0,e.focusSpecialization=!1)):"9999"==this.state.specialization.id?(e.focusSpecialization=!0,e.focusCourse=!1):"courseType"==b&&"9999"==this.state.course.id&&(e.focusCourse=!0,e.focusSpecialization=!1),this.setState(e)}}},{key:"handleMarksChange",value:function(a,b){this.dummyState[a]=b.target.value}},{key:"getUpdatedEducationType",value:function(a){var b=a;if(this.state.prefillId&&this.state.prefillId!=-1)b={},Object.keys(this.props.eduDetails).length&&(b["#"+this.props.eduDetails.educationType.id]=a["#"+this.props.eduDetails.educationType.id]);else{var c=this.props.educationDetails;delete c.prefillId;var d=0;for(var e in c)c[e]&&c[e].educationType&&c[e].educationType.id&&delete b["#"+c[e].educationType.id],d++;d?delete b["#99"]:""}return b}},{key:"showDialog",value:function(){this.ConfirmationBoxInstance.open()}},{key:"attachedCallback",value:function(){try{this.initValidation()}catch(a){}}},{key:"saveEduDetails",value:function(a){if(a.preventDefault(),this.validator.isValid()){var b=Qb({},this.state,this.dummyState),c=this.state.education.id;if(this.props.fromPushdown){var d=void 0;this.props.eduId===-1&&(d=ug),12===this.props.eduId&&(d=vg),10===this.props.eduId&&(d=wg),this.props.submitToPushdown(d,"submit",b,!0)}else this.state.prefillId==-1?this.props.saveEduDetails(c,this.props.userDetail.profileId,b,this.props.lbInst):this.props.updateEduDetails(c,this.props.userDetail.profileId,b,this.props.lbInst)}}},{key:"render",value:function(){var a,b,c=this,d=null,e=null,f=(this.state.course.id,void 0),g=10!=this.state.education.id&&12!=this.state.education.id&&99!=this.state.education.id,h=10==this.state.education.id||12==this.state.education.id,i=12==this.state.education.id;f=this.state.course.value;var j="";3==this.state.education.id?(d=Rc,e=Uc,j="ppgCourseRange"):2==this.state.education.id?(d=Qc,e=Tc,j="pgCourseRange"):1==this.state.education.id&&(d=Pc,e=Sc,j="ugCourseRange");var k=$.extend(!0,{},this.state.educationTypeData);if(this.props.fromPushdown)for(var l in k)l==="#"+this.props.eduId?k=Pb({},l,k[l]):this.props.eduId===-1&&(delete k["#10"],delete k["#12"],delete k["#99"],k=k);var m=this.getUpdatedEducationType(k),n=m["#"+this.state.education.id],o={dimens:{width:"30%",height:"180px"},routing:!1},p=this.state.prefillId!=-1||this.props.addEduDetails?{disabled:"disabled"}:"",q=Ni.createElement(Ke,{params:o,setInstance:this.setConfirmationInstance.bind(this)},function(a){var b;a.close;return Ni.createElement("div",{className:"confirmationBox educationConfirmation"},Ni.createElement("p",{className:"left-align"},"Are you sure you want to delete this Education ?"),Ni.createElement("div",{className:"action right-align"},Ni.createElement("a",(b={className:"blue-text"},Pb(b,"className","cancelLayer"),Pb(b,"href","javascript:void(0)"),Pb(b,"onClick",function(){return c.closeDeleteBox()}),b),"CANCEL"),Ni.createElement("button",{className:"waves-effect waves-light btn-large blue-btn",onClick:function(){return c.deleteEducation()}},"DELETE")))}),r=(this.props.userData&&this.props.userData.self&&this.props.userData.self.eduList&&this.props.userData.self.eduList.length||0)+(this.props.userData&&this.props.userData.self&&this.props.userData.self.schoolList&&this.props.userData.self.schoolList.length||0);return Ni.createElement("div",null,Ni.createElement(Pd,{id:"educationEditMessenger"}),Ni.createElement("form",{name:this.formName,className:"lbpadding container educationForm",noValidate:!0,action:"javascript:void(0)"},q,Ni.createElement("div",{className:"editHeader"},Ni.createElement("div",null,this.state.prefillId==-1?Ni.createElement("span",{className:"widgetTitle"},"Add Education"):Ni.createElement("span",{className:"widgetTitle"},"Edit - ",n),0==r&&Ni.createElement("span",{className:"profileComScore"},"Add ",this.props.profileCompletenessScore,"%"),this.state.prefillId&&this.state.prefillId!=-1&&Object.keys(this.props.educationDetails).length>2&&Ni.createElement("span",{className:"delete",ref:function(a){c.addEducationDelBtn=a},onClick:this.showDialog.bind(this)},"DELETE"))),Ni.createElement("div",{className:"row"},Ni.createElement("div",{className:"col s12 input-field mt0"},Ni.createElement("span",{className:"lbl required-field"},"Education")),Ni.createElement("div",{className:"col s12"},this.state.educationTypeDataFromApi&&Ni.createElement(Bc,Qb({id:"highEdu",data:m,prefillData:[this.state.education.id],sortPrefix:"#",onChange:function(a,b){return c.droope_onChange(a,b,"education")},rel:"required:highEdu,custom:educationRange",iconName:"DownArrow",placeholder:"Select education"},p)),Ni.createElement("span",{className:"erLbl",id:"highEdu_err"}))),g&&Ni.createElement("div",{className:"graduation"},9999!=this.state.course.id&&Ni.createElement("div",{className:"row"},Ni.createElement("div",{className:"col s12 input-field"},Ni.createElement("span",{className:"lbl required-field"},"Course")),Ni.createElement("div",{className:"col s12"},Ni.createElement(ld,{id:"crs",data:d,radioFlag:!0,prefillData:[this.state.course.id],onChange:function(a,b){return c.droope_onChange(a,b,"course")},sortPrefix:"#",rel:"required:course,custom:"+j,iconName:"DownArrow",placeholder:"Select course"}),Ni.createElement("span",{className:"erLbl",id:"crs_err"}))),9999==this.state.course.id&&Ni.createElement("div",{className:"row"},Ni.createElement("div",{className:"col s12 input-field"},Ni.createElement("span",{className:"lbl required-field"},"Course")),Ni.createElement("div",{className:"col s12"},Ni.createElement(ld,(a={id:"crs",radioFlag:!0,data:d},Pb(a,"radioFlag",!0),Pb(a,"prefillData",[this.state.course.id]),Pb(a,"onChange",function(a,b){return c.droope_onChange(a,b,"course")}),Pb(a,"sortPrefix","#"),Pb(a,"rel","required:course,custom:"+j),Pb(a,"iconName","DownArrow"),Pb(a,"placeholder","Select course"),a)),Ni.createElement("span",{className:"erLbl",id:"course_err"})),Ni.createElement("div",{className:"col s12 mrgT"},Ni.createElement("input",{rel:"required:courseSub,specialChar:validChar",maxLength:"250",id:"courseSub",ref:"courseSub_InputNode",type:"text",placeholder:"Enter course",defaultValue:this.state.course.subValue,onBlur:function(a){c.handleInputChange("course","subValue",a)},autoFocus:this.state.focusCourse}),Ni.createElement("span",{className:"erLbl",id:"courseSub_err"}))),9999!=this.state.specialization.id&&Ni.createElement("div",{className:"row"},Ni.createElement("div",{className:"col s12 input-field"},Ni.createElement("span",{className:"lbl required-field"},"Specialization")),Ni.createElement("div",{className:"col s12"},Ni.createElement(ld,{id:"specialization",data:e,prefillData:[this.state.specialization.id],prefillParent:this.state.course.id,sortPrefix:"#",onChange:function(a,b){return c.droope_onChange(a,b,"specialization")},rel:"required:specialization",iconName:"DownArrow",placeholder:"Select specialization",radioFlag:!0}),Ni.createElement("span",{className:"erLbl",id:"specialization_err"}))),9999==this.state.specialization.id&&Ni.createElement("div",{className:"row"},Ni.createElement("div",{className:"col s12 input-field"},Ni.createElement("span",{className:"lbl required-field"},"Specialization")),Ni.createElement("div",{className:"col s12"},Ni.createElement(ld,{id:"specialization",data:e,prefillParent:this.state.course.id,prefillData:[this.state.specialization.id],onChange:function(a,b){return c.droope_onChange(a,b,"specialization")},sortPrefix:"#",rel:"required:specialization",iconName:"DownArrow",placeholder:"Select specialization",radioFlag:!0}),Ni.createElement("span",{className:"erLbl",id:"specialization_err"})),Ni.createElement("div",{className:"col s12 mrgT"},Ni.createElement("input",{rel:"required:specialSub,specialChar:validChar",maxLength:"250",id:"specialSub",type:"text",ref:"specialSub_InputNode",placeholder:"Enter specialization",defaultValue:this.state.specialization.subValue,onBlur:function(a){c.handleInputChange("specialization","subValue",a)},autoFocus:this.state.focusSpecialization}),Ni.createElement("span",{className:"erLbl",id:"specialSub_err"}))),Ni.createElement("div",{className:"row"},Ni.createElement("div",{className:"col s12 input-field"},Ni.createElement("span",{className:"lbl required-field"},"University/Institute")),Ni.createElement("div",{className:"col s12"},Ni.createElement(ng,this.state.suggParamsInstitute,function(){return c.suggestorTemplateIns()}))),Ni.createElement("div",{className:"row"},Ni.createElement("div",{className:"col s12 input-field"},Ni.createElement("span",{className:"lbl"},"Course Type")),Ni.createElement("div",{className:"col s3"},Ni.createElement("input",{name:"courseType",className:"with-gap",type:"radio",onChange:function(a){return c.setState({courseType:{id:"F",value:"Full Time"}})},id:"full_time",checked:"Full Time"==this.state.courseType.value||""==this.state.courseType.value}),Ni.createElement("label",{htmlFor:"full_time"},"Full Time")),Ni.createElement("div",{className:"col s3"},Ni.createElement("input",{name:"courseType",className:"with-gap",type:"radio",onChange:function(a){return c.setState({courseType:{id:"P",value:"Part Time"}})},id:"part_time",checked:"Part Time"==this.state.courseType.value}),Ni.createElement("label",{htmlFor:"part_time"},"Part Time")),Ni.createElement("div",{className:"col s6"},Ni.createElement("input",{name:"courseType",className:"with-gap",type:"radio",onChange:function(a){return c.setState({courseType:{id:"C",value:"correspondence"}})},id:"correspondence",checked:"correspondence"==this.state.courseType.value}),Ni.createElement("label",{htmlFor:"correspondence"},"Correspondence/Distance learning"))),Ni.createElement("div",{className:"row"},Ni.createElement("div",{className:"col s12 input-field"},Ni.createElement("span",{className:"lbl required-field"},"Passing Out Year")),Ni.createElement("div",{className:"col s6"},Ni.createElement(Bc,{id:"yopField",data:Ug,prefillData:[this.state.yop.id],sortPrefix:"#",rel:"required:passingYear",onChange:function(a,b){return c.droope_onChange(a,b,"yop")},iconName:"DownArrow",placeholder:"Select passing out year"}),Ni.createElement("span",{className:"erLbl",id:"passingYear_err"}))),Ni.createElement("div",{className:"row"},Ni.createElement("div",{className:"col s12 input-field"},Ni.createElement("span",{className:"lbl"},"Grading System")),Ni.createElement("div",{className:"col s12"},Ni.createElement(ld,{id:"gradeField",data:Vc,prefillData:[this.state.grade.id],sortPrefix:"#",rel:"custom:gradeRange",iconName:"DownArrow",onChange:function(a,b){return c.droope_onChange(a,b,"grade")},placeholder:"Select grading system"}),Ni.createElement("span",{className:"erLbl",id:"gradeField_err"}))),this.state.grade.id&&4!=this.state.grade.id&&Ni.createElement("div",{className:"row"},Ni.createElement("div",{className:"col s12 input-field"},Ni.createElement("span",{className:"lbl required-field"},"Marks")),Ni.createElement("div",{className:"col s12"},Ni.createElement("input",{rel:"custom:gradeMarks","data-id":this.state.grade.id,id:"gradeMarks",type:"text",autocomplete:"off",maxLength:"3",defaultValue:this.state.gradeMarks,onBlur:function(a){c.handleMarksChange("gradeMarks",a)}}),Ni.createElement("span",{className:"erLbl",id:"gradeMarks_err"})))),h&&Ni.createElement("div",{className:"school"},Ni.createElement("div",{className:"row"},Ni.createElement("div",{className:"col s12 input-field"},Ni.createElement("span",{className:"lbl required-field"},"Board")),Ni.createElement("div",{className:"col s12"},Ni.createElement(ld,{id:"schoolBoardIdField",data:Wc,prefillData:[this.state.schoolBoardIdField.id],onChange:function(a,b){return c.droope_onChange(a,b,"schoolBoardIdField")},sortPrefix:"#",rel:"required:schoolBoardIdField,custom:boardRange",iconName:"DownArrow",placeholder:"Select board"}),Ni.createElement("span",{className:"erLbl",id:"schoolBoardIdField_err"}))),Ni.createElement("div",{className:"row"},Ni.createElement("div",{className:"col s12 input-field"},Ni.createElement("span",{className:"lbl required-field"},"Passing Out Year")),Ni.createElement("div",{className:"col s6"},Ni.createElement(Bc,{id:"schoolCompletionYearField",data:Tg,prefillData:[this.state.schoolCompletionYearField.id],sortPrefix:"#",onChange:function(a,b){return c.droope_onChange(a,b,"schoolCompletionYearField")},rel:"required:schoolCompletionYearField",iconName:"DownArrow",placeholder:"Select passing out year"}),Ni.createElement("span",{className:"erLbl",id:"schoolCompletionYearField_err"}))),Ni.createElement("div",{className:"row"},Ni.createElement("div",{className:"col s12 input-field"},Ni.createElement("span",{className:"lbl required-field"},"School Medium")),Ni.createElement("div",{className:"col s12"},Ni.createElement(ld,{id:"schoolMediumIdField",data:Xc,prefillData:[this.state.schoolMediumIdField.id],onChange:function(a,b){return c.droope_onChange(a,b,"schoolMediumIdField")},sortPrefix:"#",rel:"required:schoolMediumIdField,custom:mediumRange",iconName:"DownArrow",placeholder:"Select medium"}),Ni.createElement("span",{className:"erLbl",id:"schoolMediumIdField_err"}))),Ni.createElement("div",{className:"row"},Ni.createElement("div",{className:"col s12 input-field"},Ni.createElement("span",{className:"lbl required-field"},"Total Marks")),Ni.createElement("div",{className:"col s12"},Ni.createElement(ld,{id:"schoolPercentageIdField",data:Yc,onChange:function(a,b){return c.droope_onChange(a,b,"schoolPercentageIdField")},prefillData:[this.state.schoolPercentageIdField.id],sortPrefix:"#",rel:"required:schoolPercentageIdField,custom:marksRange",iconName:"DownArrow",placeholder:"Select total marks"}),Ni.createElement("span",{className:"erLbl",id:"schoolPercentageIdField_err"}))),i&&Ni.createElement("div",{className:"marksCont"},Ni.createElement("div",{className:"row"},Ni.createElement("div",{className:"col s12 input-field"},Ni.createElement("span",{className:"lbl"},"English Marks")),Ni.createElement("div",{className:"col s12"},Ni.createElement("input",{placeholder:"Marks (out of 100)",rel:"custom:schoolEnglishMarks",id:"schoolEnglishMarks",type:"text",maxLength:"3",defaultValue:this.state.schoolEnglishMarks,onBlur:function(a){c.handleMarksChange("schoolEnglishMarks",a)}}),Ni.createElement("span",{className:"erLbl",id:"schoolEnglishMarks_err"}))),Ni.createElement("div",{className:"row"},Ni.createElement("div",{className:"col s12 input-field"},Ni.createElement("span",{className:"lbl"},"Maths Marks")),Ni.createElement("div",{className:"col s12"},Ni.createElement("input",{placeholder:"Marks (out of 100)",rel:"custom:schoolMathematicsMarks",id:"schoolMathematicsMarks",type:"text",maxLength:"3",defaultValue:this.state.schoolMathematicsMarks,onBlur:function(a){c.handleMarksChange("schoolMathematicsMarks",a)}}),Ni.createElement("span",{className:"erLbl",id:"schoolMathematicsMarks_err"}))))),Ni.createElement("div",{className:"row"},Ni.createElement("div",{className:"action"},Ni.createElement("div",{className:"s12 col"},Ni.createElement("a",(b={className:"blue-text"},Pb(b,"className","cancelLayer"),Pb(b,"href","javascript:void(0)"),Pb(b,"onClick",function(){return c.closeLayer()}),b),"CANCEL"),Ni.createElement("button",{className:"waves-effect waves-light btn-large blue-btn",type:"button",id:"saveEducation",onClick:this.saveEduDetails.bind(this)},"Save"))))))}}]),b}(Ni.Component),Pi=window.interfaces,Qi=Pi.connect,Ri=function(a,b){var c=a.myProfile.eduDetails||{},d=b.prefillId||-1;return{eduId:b.eduId,fromPushdown:b.fromPushdown,closeDialog:b.closeDialog,skipEditLayer:b.skipEditLayer,addEduDetails:b.addEduDetails,eduDetails:c[d]||{},prefillId:d,userDetail:a.userDetails,educationDetails:c,route:a.route,lbInst:b.lbInst||null,userData:a.myProfile,profileCompletenessScore:a.pendingAction&&a.pendingAction.Educational_Qualification&&a.pendingAction.Educational_Qualification.subSectionWeightage||"10",origin:"pendingAction"==b.origin||"recommendAction"==b.origin?"pA":"profile",messengerId:b.messengerId||null,fromRecoAction:"recommendAction"==b.origin}},Si=function(a,b){var c=function(b,c){var d="success"===b?"educationMessenger":"educationEditMessenger";a({type:Ed,payload:{id:d,type:b,msg:c}}),"error"===b&&$(".msgBox").focus()},e=function(b,c,d){var e="success"===b?d:"educationEditMessenger";a({type:Ed,payload:c?{id:e,type:b,msg:c}:{id:e,type:b}})};return{saveEduDetails:function(b,f,g){var h=void 0,i=void 0;return[1,2,3].indexOf(parseInt(b))>-1?(h=N(g),i=Ra+"/profiles/"+f+"/educations"):[10,12].indexOf(parseInt(b))>-1?(h=O(g),i=Ra+"/profiles/"+f+"/schools"):(h=P(g),i=Ra+"/profiles/"+f+"/schools"),$.ajax({url:i,datatype:"json",data:JSON.stringify(h),method:"POST",xhrFields:{withCredentials:!1},headers:{accept:"application/json","Content-Type":"application/json"}}).then(function(b){setTimeout(function(){a(Ae.getMyProfile("MNJFlow")).then(function(b){a(Ae.getDashboard()),history.back(),"pA"==g.origin?(e("success","Education Details have been successfully saved.",g.pAMessengerId),$(window).scrollTop(0),d("spa-event","PendingAction","education","Save"),g.fromRecoAction&&a(Ae.getRecommendAction(g.userName))):(c("success","Education Details have been successfully saved."),d("spa-event","EditProfile","education","Save"))})},10)},function(a){d("spa-event","EditProfile","education","SaveError",a.status+a.statusText+JSON.stringify(h)+i),c("error")})},updateEduDetails:function(b,e,f){var g=void 0,h=void 0;return[1,2,3].indexOf(parseInt(b))>-1?(g=N(f),h=Ra+"/profiles/"+e+"/educations/"+f.prefillId):[12,10].indexOf(parseInt(b))>-1?(g=O(f),h=Ra+"/profiles/"+e+"/schools/"+f.prefillId):(g=P(f),h=Ra+"/profiles/"+e+"/schools/"+f.prefillId),$.ajax({url:h,datatype:"json",data:JSON.stringify(g),method:"POST",headers:{accept:"application/json","X-HTTP-Method-Override":"PUT","Content-Type":"application/json"}}).then(function(b){setTimeout(function(){a(Ae.getMyProfile("MNJFlow")).then(function(b){a(Ae.getDashboard()),history.back(),c("success"," Education Details have been successfully saved."),d("spa-event","EditProfile","education","Edit")})},10)},function(a){c("error"),d("spa-event","EditProfile","education","EditError",a.status+a.statusText+JSON.stringify(g)+h)})},removeCurrentEducation:function(b,f,g,h,i,j){var k=void 0;return k=[1,2,3].indexOf(parseInt(g))>-1?Ra+"/profiles/"+b+"/educations/"+f:[12,10].indexOf(parseInt(g))>-1?Ra+"/profiles/"+b+"/schools/"+f:Ra+"/profiles/"+b+"/schools/"+f,$.ajax({url:k,datatype:"json",method:"POST",headers:{accept:"application/json","X-HTTP-Method-Override":"DELETE","Content-Type":"application/json"}}).then(function(b){setTimeout(function(){a(Ae.getMyProfile("MNJFlow")).then(function(b){a(Ae.getDashboard()),h.close(),history.back(),"pA"==j.origin?e("success","Education Details have been successfully deleted.",j.pAMessengerId):c("success","Education Details have been successfully deleted."),d("spa-event","EditProfile","education","Delete")})},10)},function(a){history.back(),c("error"),d("spa-event","EditProfile","education","DeleteError",a.status+a.statusText+JSON.stringify(formModel)+k)})},submitToPushdown:function(a,c,d,e){var f=Q(a,d);b.saveLightBox(a,c,f,e,"your education layer is saved")}}},Ti=Qi(Ri,Si)(Oi),Ui=window.interfaces.Virtual,Vi=function(a){function b(){Nb(this,b);var a=Sb(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments));return a.lazyloadContainer=null,a.addEducationBtn=null,a.addEducationCont=null,a.state={showDialog:!1,eduId:-1,addEducationInstance:null,addEduDetails:null},a}return Rb(b,a),Ob(b,[{key:"attachedCallback",value:function(){}},{key:"initDrawer",value:function(a){var b=this,c=this;this.state.addEducationInstance=$(this.addEducationBtn).lightBox({model:$(this.addEducationCont),dimens:{width:"685px"},open:{minTop:100,anim:"flipOpen",success:function(){a?d("spa-event","EditProfile","Add "+a.value,"EditOpen"):d("spa-event","EditProfile","education","EditOpen")},event:""},close:{layer:!1,anim:"flipClose",nodes:$(".cancelLayer,.crossLayer"),success:function(a){c.props.hideMessenger(),b.setState({showDialog:!1}),a&&d("spa-event","EditProfile","education","Cancel")}}})}},{key:"initDrawerCall",value:function(a){var b=this;this.state.addEducationInstance||this.initDrawer(a),this.setState({showDialog:!0},function(){b.state.addEducationInstance.open(a)})}},{key:"saveEducation",value:function(a){a.preventDefault(),this.validator.isValid()&&this.props.educationSave(this.props.userDetail.profileId,this.state)}},{key:"getCourseVal",value:function(a){return a&&a.id&&9999==a.id?a.subValue:a&&a.id?a.value:""}},{key:"getSpecializationVal",value:function(a){return a&&a.id&&9999==a.id?a.subValue:a&&a.id?a.value:""}},{key:"getCourseSpecializationStr",value:function(a,b){var c=this.getCourseVal(a),d=this.getSpecializationVal(b);return c&&d?{course:c,specialization:d}:c&&!d?{course:c,specialization:""}:d&&!c?{course:"",specialization:d}:""}},{key:"addProjects",value:function(a){a=a||[];for(var b=[],c=0;c<a.length;c++)b.push(Ui.createElement("span",{className:"chip","data-prefillid":a[c].id,title:a[c].title},a[c].title));return b}},{key:"renderEducationbtn",value:function(a){var b=this;a.length&&(a=[].concat(Tb(a),["#99"]));var c=[];for(var d in qi)a.indexOf(d)===-1&&!function(){var a={id:JSON.parse(d.replace("#","")),value:qi[d]},e=Ui.createElement("span",{tabIndex:"0",className:"add no-outline eduDetailsBtn",ref:function(a){b.addEducationBtn=a},onClick:function(c){b.addEducation(c,a)}},"Add ",qi[d]," ");c=[].concat(Tb(c),[e])}();return c}},{key:"getEduTemplate",value:function(a){var b=this;a=a||[];for(var c=[],d=0;d<a.length;d++)c.push(Ui.createElement("div",{key:d,className:"row edu-list","data-prefillid":a[d].educationId},Ui.createElement("div",{className:"col s12 item"},Ui.createElement("span",{className:"col title elps",title:this.getCourseSpecializationStr(a[d].course,a[d].specialisation).course},this.getCourseSpecializationStr(a[d].course,a[d].specialisation).course),Ui.createElement("span",{className:"col title"},"-"),Ui.createElement("span",{className:"col title elps",title:this.getCourseSpecializationStr(a[d].course,a[d].specialisation).specialization},this.getCourseSpecializationStr(a[d].course,a[d].specialisation).specialization),Ui.createElement("span",{tabIndex:"0",className:"col s2 icon edit","data-prefillid":a[d].educationId,onClick:function(a){b.editEducation(a)}},"Edit")),Ui.createElement("div",{className:"col s12 item ins"},a[d].institute||""),Ui.createElement("div",{className:"col s12 item"},a[d].yearOfCompletion&&a[d].yearOfCompletion!=-1&&a[d].yearOfCompletion,a[d].courseType&&" ("+Qg[a[d].courseType]+")"),a[d].projects.length>0&&Ui.createElement("div",{key:d,className:"col s12 item project-list"},Ui.createElement("p",{className:"grey-text-light"},"Projects"),this.addProjects(a[d].projects))));return!c.length&&this.props.userData&&this.props.userData.self&&this.props.userData.self.schoolList&&0==this.props.userData.self.schoolList.length&&c.push(Ui.createElement("div",{className:"row",key:d},Ui.createElement("p",{className:"noData col s12"},"Not Mentioned"))),c}},{key:"getSchoolTemplate",value:function(a){var b=this;a=a||[];for(var c=[],d=0;d<a.length;d++)c.push(Ui.createElement("div",{key:d,className:"row edu-list","data-prefillid":a[d].schoolId},a[d].educationType&&a[d].educationType.id&&"99"==a[d].educationType.id?Ui.createElement("div",null,Ui.createElement("div",{className:"col s12 item"},"Below Class X"),a[d].projects.length>0&&Ui.createElement("div",{key:d,className:"col s12 item project-list"},Ui.createElement("p",null,"Projects"),this.addProjects(a[d].projects))):Ui.createElement("div",null,Ui.createElement("div",{className:"col s12 item"},Ui.createElement("span",{className:"col title"},a[d].schoolBoard.value&&a[d].schoolBoard.value),Ui.createElement("span",{className:"col title"},"-"),Ui.createElement("span",{className:"col title"},a[d].schoolMedium.value),Ui.createElement("span",{tabIndex:"0",className:"col s2 icon edit","data-prefillid":a[d].schoolId,onClick:function(a){b.editEducation(a)}},"Edit")),Ui.createElement("div",{className:"col s12 item"},a[d].schoolCompletionYear),a[d].projects.length>0&&Ui.createElement("div",{key:d,className:"col s12 item project-list"},Ui.createElement("p",null,"Projects"),this.addProjects(a[d].projects)))));return c.length||!this.props.userData||!this.props.userData.self||!this.props.userData.self.eduList||0!=this.props.userData.self.eduList.length||this.props.userData&&this.props.userData.self&&this.props.userData.self.isZUser||c.push(Ui.createElement("div",{className:"row",key:d},Ui.createElement("p",{className:"noData col s12"},"Not Mentioned"))),c}},{key:"updateMyProfile",value:function(a){var b=(a.target.attributes.getNamedItem("data-prefillid")?a.target.attributes.getNamedItem("data-prefillid").value:$(a.target).closest("[data-prefillid]").data("prefillid"))||-1;this.props.updateMyProfileData(this.props.userData,"eduDetails",b)}},{key:"addEducation",value:function(a,b){var c=this;this.updateMyProfile(a),this.setState({eduId:-1,addEduDetails:b},function(){
return c.initDrawerCall(b)})}},{key:"editEducation",value:function(a){var b=this;this.updateMyProfile(a);var c=(a.target.attributes.getNamedItem("data-prefillid")?a.target.attributes.getNamedItem("data-prefillid").value:$(a.target).closest("[data-prefillid]").data("prefillid"))||-1;this.setState({eduId:c},function(){return b.initDrawerCall()})}},{key:"render",value:function(){var a=this,b=(this.props.userData&&this.props.userData.self&&this.props.userData.self.eduList&&this.props.userData.self.eduList.length||0)+(this.props.userData&&this.props.userData.self&&this.props.userData.self.schoolList&&this.props.userData.self.schoolList.length||0),c=(this.state.eduId!=-1&&this.props.educationDetails[this.state.eduId]?10!=this.props.educationDetails[this.state.eduId].educationType.id&&99!=this.props.educationDetails[this.state.eduId].educationType.id?"clg":"":"clg",this.props.educationDetails),d=[];for(var e in c)c[e].educationType&&(d=[].concat(Tb(d),["#"+c[e].educationType.id]));return Ui.createElement("div",{className:"education"},Ui.createElement("div",{className:"card"},Ui.createElement(Pd,{id:"educationMessenger",autoHideIn:"4000"}),Ui.createElement("div",{className:"cardPad"},Ui.createElement("div",{className:"widgetHead"},Ui.createElement("span",{className:"widgetTitle"},"Education"),0==b&&Ui.createElement("span",{className:"profileComScore"},"Add ",this.props.profileCompletenessScore,"%"),b<5&&Ui.createElement("span",{tabIndex:"0",className:"add no-outline",ref:function(b){a.addEducationBtn=b},onClick:function(b){a.addEducation(b)}},"ADD EDUCATION")),Ui.createElement("div",{className:"widgetCont"},this.props.userData.self.schoolList&&this.props.userData.self.schoolList.length||this.props.userData.self.eduList&&this.props.userData.self.eduList.length?Ui.createElement("div",{className:"prefill"},this.getEduTemplate(this.props.userData.self&&this.props.userData.self.eduList),this.getSchoolTemplate(this.props.userData.self&&this.props.userData.self.schoolList)):Ui.createElement("span",{className:"empty"},this.props.emptyText),this.renderEducationbtn(d)))),Ui.createElement("div",{className:"lightbox profileEditDrawer educationEdit ",ref:function(b){a.addEducationCont=b}},Ui.createElement("div",{className:"crossLayer"},Ui.createElement("span",{className:"icon"},"CrossLayer")),this.state.showDialog&&Ui.createElement(Ti,{lbInst:this.state.addEducationInstance,addEduDetails:this.state.addEduDetails,origin:this.props.origin,messengerId:this.props.messengerId,prefillId:this.state.eduId})))}}]),b}(Ui.Component),Wi="UPDATE_PROFILE_DETAILS",Xi=window.interfaces,Yi=Xi.connect,Zi=function(a,b){var c=a.myProfile.eduDetails||{},d=c.prefillId||-1,e="Please mention your education details. You can add details about your school, college and degree. This will increase your profile strength.";return{eduDetails:c[d]||{},prefillId:d,educationDetails:c,eduList:a.myProfile.self.eduList,userDetail:a.userDetails,route:a.route,userData:a.myProfile,profileCompletenessScore:a.pendingAction&&a.pendingAction.Educational_Qualification&&a.pendingAction.Educational_Qualification.subSectionWeightage||"10",emptyText:e,origin:b.origin,pAMessengerId:b.messengerId}},$i=function(a){return{hideMessenger:function(){var b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"educationEditMessenger";a({type:Fd,payload:{id:b}})},updateMyProfileData:function(b,c,d){a({type:Wi,payload:S(b,c,d)})}}},_i=Yi(Zi,$i)(Vi),aj=function(a){var b;return b={},Pb(b,"profile_"+a,{msg:"Please add Profile name.",id:"online_profile_name_err_"+a}),Pb(b,"url_"+a,{msg:"Please add Profile URL.",id:"online_profile_url_err_"+a}),Pb(b,"invalid_profile_specialChar_"+a,{msg:"Please remove Backslash(\\) & Less than(<) characters.",id:"online_profile_name_err_"+a}),Pb(b,"invalid_url_format_"+a,{msg:"Please enter a valid URL.",id:"online_profile_url_err_"+a}),Pb(b,"invalid_url_specialChar_"+a,{msg:"Please remove Backslash(\\) & Less than(<) characters.",id:"online_profile_url_err_"+a}),Pb(b,"invalid_desc_specialChar_"+a,{msg:"Please remove Backslash(\\) & Less than(<) characters.",id:"online_profile_description_err_"+a}),Pb(b,"custom_profile_"+a,function(){return function(b){var c=/[\\<]/;return!!c.test(b.val())&&"invalid_profile_specialChar_"+a}}()),Pb(b,"custom_url_"+a,function(){return function(b){var c=/[\\<]/;return c.test(b.val())?"invalid_url_specialChar_"+a:!vd(b.val())&&"invalid_url_format_"+a}}()),Pb(b,"custom_desc_"+a,function(){return function(b){var c=/[\\<]/;return!!c.test(b.val())&&"invalid_desc_specialChar_"+a}}()),b},bj=window.interfaces,cj=bj.Virtual,dj=function(a){function b(){Nb(this,b);var a=Sb(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments));a.state={onlineProfiles:[]};var c=a.props.accomplishments||{},d=c.onlineProfile?$.extend({},c.onlineProfile):{};return a.existingCount=Object.keys(d).length,a.props.activeAcmId?d[a.props.activeAcmId]&&a.state.onlineProfiles.push(d[a.props.activeAcmId]):a.state.onlineProfiles.push(a.getDefaultModel()),a.onlineProfilesComponentNode=null,a.formName="onlineProfilesForm",a.validators={},a}return Rb(b,a),Ob(b,[{key:"attachedCallback",value:function(){this.initValidation(0),d("spa-event","EditProfile","onlineProfile","EditOpen")}},{key:"getDeepCopy",value:function(a){var b=[];return a.forEach(function(a){b.push($.extend({},a))}),b}},{key:"handleChange",value:function(a,b,c){var d=this.state.onlineProfiles,e=d[c];e[b]=a.target.value,this.setState({onlineProfiles:this.getDeepCopy(d)})}},{key:"getDefaultModel",value:function(){return{id:"-1",profile:"",url:"",description:""}}},{key:"initValidation",value:function(a){var b=this;requirejs(["commonValidation_JQ_v16_beta"+aa],function(){b.validators["validator"+a]=new commonValidator,b.validators["validator"+a].validate({formNames:[b.formName+"_"+a],errors:aj(a),focusOnError:!0,submitButton:"saveOnlineProfilesBtn",styles:{parentObjectClass:"col",maxLevel:6,errorClass:"err"}})})}},{key:"isFormValid",value:function(){var a=!0;for(var b in this.validators)this.validators[b].isValid()||(a=!1);return a}},{key:"saveOnlineProfiles",value:function(){var a=this;$(this.onlineProfilesComponentNode).find("form").each(function(a,b){}),this.isFormValid()&&this.props.saveOnlineProfiles(this.state.onlineProfiles,function(b){"success"===b&&a.props.closeDrawer()},this.props.userName,this.props.origin)}},{key:"addNew",value:function(){var a=this,b=this.state.onlineProfiles,c=b.length;b.push(this.getDefaultModel()),this.setState({onlineProfiles:this.getDeepCopy(b)},function(){window.setTimeout(function(){a.initValidation(c)},500)})}},{key:"delete",value:function(){var a=this;this.props.activeAcmId&&this.props["delete"]({onlineProfileId:this.props.activeAcmId},function(b){"success"===b?a.props.closeDrawer():"error"===b&&a.closeDeleteBox()})}},{key:"getTotalCount",value:function(){var a=0;return this.state.onlineProfiles.forEach(function(b){"-1"===b.id&&a++}),this.existingCount+a}},{key:"closeDeleteBox",value:function(){this.ConfirmationBoxInstance.close()}},{key:"showDialog",value:function(){this.ConfirmationBoxInstance.open()}},{key:"setConfirmationInstance",value:function(a){this.ConfirmationBoxInstance=a}},{key:"render",value:function(){var a=this,b=(this.getTotalCount(),{dimens:{width:"30%",height:"160px"},routing:!1}),c=cj.createElement(Ke,{params:b,setInstance:function(b){return a.ConfirmationBoxInstance=b}},function(b){var c;b.close;return cj.createElement("div",{className:"confirmationBox cnfpadding"},cj.createElement("p",null,"Are you sure you want to delete this Online Profile?"),cj.createElement("div",{className:"action right-align"},cj.createElement("a",(c={className:"blue-text"},Pb(c,"className","cancelLayer"),Pb(c,"href","javascript:void(0)"),Pb(c,"onClick",function(){return a.closeDeleteBox()}),c),"CANCEL"),cj.createElement("button",{className:"waves-effect waves-light btn-large blue-btn",onClick:function(){return a["delete"]()}},"DELETE")))});return cj.createElement("div",{className:"online-profiles-component acm-form-wrapper",ref:function(b){a.onlineProfilesComponentNode=b}},cj.createElement(Pd,{id:"onlineProfilesMessenger",autoHideIn:"4000"}),c,cj.createElement("div",{className:"lbpadding"},cj.createElement("div",{className:"row mb10"},cj.createElement("div",{className:"hdn-bold mb5 col s10"},"Online Profiles"),this.state.onlineProfiles[0].id!=-1&&cj.createElement("a",{className:"right hdn3 fs14",href:"javascript:void(0)",onClick:function(){a.showDialog()}},"DELETE"),cj.createElement("div",{className:"grey-text col s12 fs13"},"Add links to your social profiles (e.g. Linkedin profile, Facebook profile, etc.).")),this.state.onlineProfiles.map(function(b,c){return cj.createElement("form",{name:"onlineProfilesForm_"+c,id:"onlineProfilesForm_"+c,className:"onlineProfilesForm row",key:c,noValidate:!0,action:"javascript:void(0)"},cj.createElement("div",{className:"input-field col s12 row"},cj.createElement("span",{className:"lbl required-field"},"Social Profile"),cj.createElement("input",{id:"online-profile-name_"+c,type:"text",maxLength:"150",rel:"required:profile_"+c+",custom:custom_profile_"+c,placeholder:"Enter Social Profile Name",value:b.profile,onChange:function(b){a.handleChange(b,"profile",c)}}),cj.createElement("div",{className:"err-container"},cj.createElement("span",{className:"erLbl",id:"online_profile_name_err_"+c}))),cj.createElement("div",{className:"input-field col s12 row"},cj.createElement("span",{className:"lbl required-field"},"URL"),cj.createElement("input",{id:"online-profile-url_"+c,type:"text",maxLength:"500",rel:"required:url_"+c+",custom:custom_url_"+c,placeholder:"Enter Social Profile URL",value:b.url,onChange:function(b){a.handleChange(b,"url",c)}}),cj.createElement("div",{className:"err-container"},cj.createElement("span",{className:"erLbl",id:"online_profile_url_err_"+c}))),cj.createElement("div",{className:"input-field col s12 row"},cj.createElement("span",{className:"lbl"},"Description"),cj.createElement("textarea",{className:"materialize-textarea",id:"online-profile-description_"+c,type:"text",maxLength:"500",rel:"custom:custom_desc_"+c,placeholder:"Type here...",value:b.description,onChange:function(b){a.handleChange(b,"description",c)}}),cj.createElement("span",{className:"textCounter right"},500-b.description.length," Character(s) Left"),cj.createElement("div",{className:"err-container"},cj.createElement("span",{className:"erLbl",id:"online_profile_description_err_"+c}))),cj.createElement("div",{className:"row "},cj.createElement("div",{className:"action"},cj.createElement("div",{className:"col s12"},cj.createElement("a",{href:"javascript:void(0)",onClick:a.props.closeDrawer},"CANCEL"),cj.createElement("button",{onClick:function(){a.saveOnlineProfiles()},className:"waves-effect waves-light btn-large blue-btn",type:"button",id:"saveOnlineProfilesBtn"},"SAVE")))))})))}}]),b}(cj.PureComponent),ej=window.interfaces,fj=ej.connect,gj=function(a,b){return{accomplishments:$.extend(!0,{},a.myProfile.accomplishments),route:a.route,origin:b.origin,userName:a.userDetails.username}},hj=function(a){return a.forEach(function(a){a.onlineProfileId=a.id,delete a.profileId,delete a.id}),a},ij=function(a){var b="";return a.hasOwnProperty("OnlineProfileLinks")&&a.OnlineProfileLinks&&a.OnlineProfileLinks.indexOf("already added 5 online profiles")>=0&&(b=b.length?b+", ":b,b+="You have already added 5 online profiles. In case you want to add more online profiles, please delete an existing profile."),b.length?b:"Something went wrong. Please try again."},jj=function(a){var b=function(){a(Ae.getDashboard(function(){a(Ae.getMyProfile())}))},c=function(b){var c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",e="success"===b?"accomplishmentsMessenger":"onlineProfilesMessenger";a({type:Ed,payload:{id:e,type:b,title:d,msg:c}}),"error"===b&&$(".msgBox").focus()},e=function(){var b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"onlineProfilesMessenger";a({type:Fd,payload:{id:b}})};return{saveOnlineProfiles:function(f,g,h,i){var j=hj(f),k="/mnjapi/v1/profileShowcase/onlineProfile";return e(),$.ajaxPromise({url:k,datatype:"json",data:JSON.stringify(j),method:"POST",headers:{accept:"application/json","Content-Type":"application/json"}}).then(function(e){b(),"recommendAction"===i&&(a({type:Ed,payload:{id:"pendingActionMessenger",type:"success",msg:"Online Profile has been successfully saved."}}),d("spa-event","EditProfile","onlineProfile","Save"),$(window).scrollTop(0),a(Ae.getRecommendAction(h))),c("success","Online Profile has been successfully saved."),d("spa-event","EditProfile","onlineProfile","Save"),"undefined"!=typeof g&&g("success")},function(a){var b=a.jqXHR.responseJSON;b&&b.error&&b.error.customData?c("error",ij(b.error.customData),"Error"):c("error"),d("spa-event","EditProfile","onlineProfile","SavError",a.status+a.statusText+JSON.stringify(j)+k),"undefined"!=typeof g&&g("error")})},"delete":function(a,f){e();var g="/mnjapi/v1/profileShowcase/onlineProfile";return $.ajaxPromise({url:g,datatype:"json",data:JSON.stringify(a),method:"POST",headers:{accept:"application/json","x-http-method-override":"DELETE","Content-Type":"application/json"}}).then(function(a){b(),c("success","Online Profile has been successfully deleted."),d("spa-event","EditProfile","onlineProfile","Delete"),"undefined"!=typeof f&&f("success")},function(a){var b=a.jqXHR.responseJSON;b&&b.error&&b.error.customData?c("error",ij(b.error.customData),"Error"):c("error"),d("spa-event","EditProfile","onlineProfile","DeleteError",a.status+a.statusText+JSON.stringify(formModel)+g),"undefined"!=typeof f&&f("error")})}}},kj=fj(gj,jj)(dj),lj=function(a){var b;return b={},Pb(b,"title_"+a,{msg:"Please add Work title.",id:"workSample_title_err_"+a}),Pb(b,"startDateYear_"+a,{msg:"Please add Start year.",id:"workSample_startDate_year_err_"+a}),Pb(b,"startDateMonth_"+a,{msg:"Please add Start month.",id:"workSample_startDate_month_err_"+a}),Pb(b,"endDateYear_"+a,{msg:"Please add End year.",id:"workSample_endDate_year_err_"+a}),Pb(b,"endDateMonth_"+a,{msg:"Please add End month.",id:"workSample_endDate_month_err_"+a}),Pb(b,"url_"+a,{msg:"Please add URL.",id:"workSample_url_err_"+a}),Pb(b,"invalid_title_specialChar_"+a,{msg:"Please remove Backslash(\\) & Less than(<) characters.",id:"workSample_title_err_"+a}),Pb(b,"invalid_url_format_"+a,{msg:"Please enter a valid URL.",id:"workSample_url_err_"+a}),Pb(b,"invalid_url_specialChar_"+a,{msg:"Please remove Backslash(\\) & Less than(<) characters.",id:"workSample_url_err_"+a}),Pb(b,"invalid_desc_specialChar_"+a,{msg:"Please remove Backslash(\\) & Less than(<) characters.",id:"workSample_description_err_"+a}),Pb(b,"invalid_date_"+a,{msg:"Please specify a valid date range.",id:"workSample_date_err_"+a}),Pb(b,"custom_title_"+a,function(){return function(b){var c=/[\\<]/;return!!c.test(b.val())&&"invalid_title_specialChar_"+a}}()),Pb(b,"custom_url_"+a,function(){return function(b){var c=/[\\<]/;return c.test(b.val())?"invalid_url_specialChar_"+a:!vd(b.val())&&"invalid_url_format_"+a}}()),Pb(b,"custom_desc_"+a,function(){return function(b){var c=/[\\<]/;return!!c.test(b.val())&&"invalid_desc_specialChar_"+a}}()),Pb(b,"custom_date_"+a,function(){return function(b){if($("#workSample-endDate-year-"+a).length&&$("#workSample-endDate-month-"+a).length){var c={year:parseInt($("#workSample-startDate-year-"+a).find('input[type="hidden"]').val()||0),month:parseInt($("#workSample-startDate-month-"+a).find('input[type="hidden"]').val()||0)},d={year:parseInt($("#workSample-endDate-year-"+a).find('input[type="hidden"]').val()||0),month:parseInt($("#workSample-endDate-month-"+a).find('input[type="hidden"]').val()||0)};return!!(c.year||c.month||d.year||d.month)&&((d.year<c.year||d.year==c.year&&d.month<c.month)&&"invalid_date_"+a)}return!1}}()),b},mj=window.interfaces,nj=mj.Virtual,oj=function(a){function b(){Nb(this,b);var a=Sb(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments));a.state={workSample:[]};var c=a.props.accomplishments||{},d=c.workSample?$.extend({},c.workSample):{};if(a.existingCount=Object.keys(d).length,a.props.activeAcmId){if(d[a.props.activeAcmId]){var e=d[a.props.activeAcmId];e.startKeys=a.getDateKeys(e.startDate),e.endKeys=a.getDateKeys(e.endDate),"0000-00-00"==e.endDate&&(e.currentlyWorkingOn=!0),a.state.workSample.push(e)}}else a.state.workSample.push(a.getDefaultModel());return a.WorkSampleComponentNode=null,a.formName="workSampleForm",a.validators={},a}return Rb(b,a),Ob(b,[{key:"attachedCallback",value:function(){this.initValidation(0),d("spa-event","EditProfile","workSample","EditOpen")}},{key:"getDeepCopy",value:function(a){var b=[];return a.forEach(function(a){b.push($.extend({},a))}),b}},{key:"handleChange",value:function(a,b,c){var d=this.state.workSample,e=d[c];e[b]=a.target.value,this.setState({workSample:this.getDeepCopy(d)})}},{key:"updateState",value:function(a,b,c,d){var e=this.state.workSample,f=e[c];f[a]=b,this.setState({workSample:this.getDeepCopy(e)},function(){"undefined"!=typeof d&&d()})}},{key:"updateDateKeys",value:function(a,b,c,d){var e=this.state.workSample,f=e[a];f[b][c]=d,this.setState({workSample:this.getDeepCopy(e)})}},{key:"getDefaultModel",value:function(){return{id:"-1",title:"",url:"",startDate:"",startKeys:{year:"",month:""},endDate:"",endKeys:{year:"",month:""},currentlyWorkingOn:!1,description:""}}},{key:"initValidation",value:function(a){var b=this;requirejs(["commonValidation_JQ_v16_beta"+aa],function(){b.validators["validator"+a]=new commonValidator,b.validators["validator"+a].validate({formNames:[b.formName+"_"+a],errors:lj(a),focusOnError:!0,submitButton:"saveWorkSampleBtn",styles:{parentObjectClass:"validatortop",maxLevel:8,errorClass:"err"}})})}},{key:"isFormValid",value:function(){var a=!0;for(var b in this.validators)this.validators[b].isValid()||(a=!1);return a}},{key:"saveWorkSample",value:function(a){var b=this;$(this.WorkSampleComponentNode).find("form").each(function(a,b){}),this.isFormValid()&&this.props.saveWorkSample(this.state.workSample,function(a){"success"===a&&b.props.closeDrawer()})}},{key:"addNew",value:function(){var a=this,b=this.state.workSample,c=b.length;b.push(this.getDefaultModel()),this.setState({workSample:this.getDeepCopy(b)},function(){window.setTimeout(function(){a.initValidation(c)},500)})}},{key:"delete",value:function(){var a=this;this.props.activeAcmId&&this.props["delete"]({worksampleId:this.props.activeAcmId},function(b){"success"===b?a.props.closeDrawer():"error"===b&&a.closeDeleteBox()})}},{key:"getTotalCount",value:function(){var a=0;return this.state.workSample.forEach(function(b){"-1"===b.id&&a++}),this.existingCount+a}},{key:"isValidDate",value:function(a){var b=new Date(a);return"[object Date]"===Object.prototype.toString.call(b)&&!isNaN(b.getTime())}},{key:"getYearFromDate",value:function(a){return this.isValidDate(a)?new Date(a).getFullYear():""}},{key:"getMonthFromDate",value:function(a){return this.isValidDate(a)?new Date(a).getMonth()+1:""}},{key:"getDateKeys",value:function(a){return this.isValidDate(a)?{year:new Date(a).getFullYear(),month:new Date(a).getMonth()+1}:{year:"",month:""}}},{key:"closeDeleteBox",value:function(){this.ConfirmationBoxInstance.close()}},{key:"showDialog",value:function(){this.ConfirmationBoxInstance.open()}},{key:"setConfirmationInstance",value:function(a){this.ConfirmationBoxInstance=a}},{key:"render",value:function(){var a=this,b=(this.getTotalCount(),si.year()),c=si.month(),d={dimens:{width:"30%",height:"160px"},routing:!1},e=nj.createElement(Ke,{params:d,setInstance:function(b){return a.ConfirmationBoxInstance=b}},function(b){var c;b.close;return nj.createElement("div",{className:"confirmationBox cnfpadding"},nj.createElement("p",null,"Are you sure you want to delete this Work Sample?"),nj.createElement("div",{className:"action right-align"},nj.createElement("a",(c={className:"blue-text"},Pb(c,"className","cancelLayer"),Pb(c,"href","javascript:void(0)"),Pb(c,"onClick",function(){return a.closeDeleteBox()}),c),"CANCEL"),nj.createElement("button",{className:"waves-effect waves-light btn-large blue-btn",onClick:function(){return a["delete"]()}},"DELETE")))});return nj.createElement("div",{className:"workSample-component acm-form-wrapper",ref:function(b){a.WorkSampleComponentNode=b}},nj.createElement(Pd,{id:"workSampleMessenger"}),e,nj.createElement("div",{className:"lbpadding"},nj.createElement("div",{className:"row mb10"},nj.createElement("div",{className:"hdn-bold col mb5 s10"},"Work Samples"),this.state.workSample[0].id!=-1&&nj.createElement("a",{className:"fs14 right hdn3",href:"javascript:void(0)",onClick:function(){a.showDialog()}},"DELETE"),nj.createElement("div",{className:"grey-text col s12 fs13"},"Add links to your projects (e.g. Github links, etc.).")),this.state.workSample.map(function(d,e){return nj.createElement("form",{name:"workSampleForm_"+e,id:"workSampleForm_"+e,className:"workSampleForm row",key:e,action:"javascript:void(0)",noValidate:!0},nj.createElement("div",{className:"input-field col s12 validatortop row"},nj.createElement("span",{className:"lbl required-field"},"Work Title"),nj.createElement("input",{id:"workSample-title_"+e,type:"text",maxLength:"150",rel:"required:title_"+e+",custom:custom_title_"+e,placeholder:"Enter Work Title",value:d.title,onChange:function(b){a.handleChange(b,"title",e)}}),nj.createElement("div",{className:"err-container"},nj.createElement("span",{className:"erLbl",id:"workSample_title_err_"+e}))),nj.createElement("div",{className:"input-field col s12 validatortop row"},nj.createElement("span",{className:"lbl required-field"},"URL"),nj.createElement("input",{id:"workSample-url_"+e,type:"text",maxLength:"500",rel:"required:url_"+e+",custom:custom_url_"+e,placeholder:"Enter URL here",value:d.url,onChange:function(b){a.handleChange(b,"url",e)}}),nj.createElement("div",{className:"err-container"},nj.createElement("span",{className:"erLbl",id:"workSample_url_err_"+e}))),nj.createElement("div",{className:"validatortop"},nj.createElement("div",{className:"input-field col s12 row"},nj.createElement("span",{className:"lbl"},"Duration From"),nj.createElement("div",{className:""},nj.createElement("div",{className:"col s4 pl0"},nj.createElement(Bc,{id:"workSample-startDate-year-"+e,placeholder:"Year",data:b,sortPrefix:"#",prefillData:[d.startKeys.year],iconName:"DownArrow",title:"true",onChange:function(b,c){a.updateDateKeys(e,"startKeys","year",b)},onError:function(a){},getInstance:function(a){}}),nj.createElement("div",{className:"err-container"},nj.createElement("span",{className:"erLbl",id:"workSample_startDate_year_err_"+e}))),nj.createElement("div",{className:"col s4 pr0"},nj.createElement(Bc,{id:"workSample-startDate-month-"+e,placeholder:"Month",data:c,sortPrefix:"#",prefillData:[d.startKeys.month],iconName:"DownArrow",title:"true",onChange:function(b,c){a.updateDateKeys(e,"startKeys","month",b)},onError:function(a){},getInstance:function(a){}}),nj.createElement("div",{className:"err-container"},nj.createElement("span",{className:"erLbl",id:"workSample_startDate_month_err_"+e}))))),!d.currentlyWorkingOn&&nj.createElement("div",{className:"input-field col s12 row"},nj.createElement("span",{className:"lbl"},"Duration To"),nj.createElement("div",{className:"row"},nj.createElement("div",{className:"col s4 pl0"},nj.createElement(Bc,{id:"workSample-endDate-year-"+e,placeholder:"Year",data:b,sortPrefix:"#",prefillData:[d.endKeys.year],iconName:"DownArrow",title:"true",onChange:function(b,c){a.updateDateKeys(e,"endKeys","year",b)},onError:function(a){},getInstance:function(a){}}),nj.createElement("div",{className:"err-container"},nj.createElement("span",{className:"erLbl",id:"workSample_endDate_year_err_"+e}))),nj.createElement("div",{className:"col s4 pr0"},nj.createElement(Bc,{id:"workSample-endDate-month-"+e,placeholder:"Month",data:c,rel:"custom:custom_date_"+e,sortPrefix:"#",prefillData:[d.endKeys.month],iconName:"DownArrow",title:"true",onChange:function(b,c){a.updateDateKeys(e,"endKeys","month",b)},onError:function(a){},getInstance:function(a){}}),nj.createElement("div",{className:"err-container"},nj.createElement("span",{className:"erLbl",id:"workSample_endDate_month_err_"+e}))),nj.createElement("div",{className:"err-container col s12 pad0"},nj.createElement("span",{className:"erLbl",id:"workSample_date_err_"+e}))))),nj.createElement("div",{className:"col s12 row"},nj.createElement("input",{name:"currentlyWorkingOn_"+e,className:"filled-in",type:"checkbox",onChange:function(b){a.updateState("currentlyWorkingOn",!d.currentlyWorkingOn,e)},id:"currentlyWorkingOn_"+e,checked:d.currentlyWorkingOn}),nj.createElement("label",{htmlFor:"currentlyWorkingOn_"+e},"I am currently working on this")),nj.createElement("div",{className:"input-field col s12 validatortop row"},nj.createElement("span",{className:"lbl"},"Description"),nj.createElement("textarea",{className:"materialize-textarea",id:"workSample-description_"+e,type:"text",maxLength:"500",rel:"custom:custom_desc_"+e,placeholder:"Type here...",value:d.description,onChange:function(b){a.handleChange(b,"description",e)}}),nj.createElement("span",{className:"textCounter right"},500-d.description.length," Character(s) Left"),nj.createElement("div",{className:"err-container"},nj.createElement("span",{className:"erLbl",id:"workSample_description_err_"+e}))),nj.createElement("div",{className:"row"},nj.createElement("div",{className:"action"},nj.createElement("div",{className:"col s12"},nj.createElement("a",{href:"javascript:void(0)",onClick:a.props.closeDrawer},"CANCEL"),nj.createElement("button",{type:"button",id:"saveWorkSampleBtn",onClick:function(){a.saveWorkSample()},className:"waves-effect waves-light btn-large blue-btn"},"SAVE")))))})))}}]),b}(nj.PureComponent),pj=window.interfaces,qj=pj.connect,rj=function(a){return{accomplishments:$.extend(!0,{},a.myProfile.accomplishments),route:a.route}},sj=function(a){var b=[];return a.forEach(function(a){var c={};if(c.worksampleId=a.id,c.title=a.title,c.url=a.url,c.description=a.description,a.startKeys.month&&a.startKeys.year){var d=function(){a.startKeys.month=parseInt(a.startKeys.month)<10?"0"+parseInt(a.startKeys.month):a.startKeys.month,c.startDate=""+a.startKeys.year+"-"+a.startKeys.month+"-01"};a.currentlyWorkingOn?(c.endDate="0000-00-00",d()):a.endKeys.month&&a.endKeys.year&&(a.endKeys.month=parseInt(a.endKeys.month)<10?"0"+parseInt(a.endKeys.month):a.endKeys.month,c.endDate=""+a.endKeys.year+"-"+a.endKeys.month+"-01",d())}b.push(c)}),b},tj=function(a){var b="";return a.endDate&&a.endDate.indexOf("Please Specify a Valid Date Range")>=0&&(b=b.length?b+", ":b,b+="Please Specify a Valid Date Range."),b.length?b:"Something went wrong. Please try again."},uj=function(a){var b=function(){a(Ae.getDashboard(function(){a(Ae.getMyProfile())}))},c=function(b){var c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",e="success"===b?"accomplishmentsMessenger":"workSampleMessenger";a({type:Ed,payload:{id:e,type:b,title:d,msg:c}}),"error"===b&&$(".msgBox").focus()},e=function(){var b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"workSampleMessenger";a({type:Fd,payload:{id:b}})};return{saveWorkSample:function(a,f){var g=sj(a),h="/mnjapi/v1/profileShowcase/worksample";return e(),$.ajaxPromise({url:h,datatype:"json",data:JSON.stringify(g),method:"POST",headers:{accept:"application/json","Content-Type":"application/json"}}).then(function(a){b(),c("success","Work Sample has been successfully saved."),d("spa-event","EditProfile","workSample","Save"),"undefined"!=typeof f&&f("success")},function(a){var b=a.jqXHR.responseJSON;b&&b.error&&b.error.developerMessage?c("error",tj(b.error.developerMessage),"Error"):c("error"),d("spa-event","EditProfile","workSample","SaveError",a.status+a.statusText+JSON.stringify(g)+h),"undefined"!=typeof f&&f("error")})},"delete":function(a,f){e();var g="/mnjapi/v1/profileShowcase/worksample";return $.ajaxPromise({url:g,datatype:"json",data:JSON.stringify(a),method:"POST",headers:{accept:"application/json","x-http-method-override":"DELETE","Content-Type":"application/json"}}).then(function(a){b(),c("success","Work Sample has been successfully deleted."),d("spa-event","EditProfile","workSample","Delete"),"undefined"!=typeof f&&f("success")},function(b){var e=b.jqXHR.responseJSON;e&&e.error&&e.error.developerMessage?c("error",tj(e.error.developerMessage),"Error"):c("error"),d("spa-event","EditProfile","workSample","DeleteError",b.status+b.statusText+JSON.stringify(a)+g),"undefined"!=typeof f&&f("error")})}}},vj=qj(rj,uj)(oj),wj=function(a){var b;return b={},Pb(b,"title_"+a,{msg:"Please add Presentation title.",id:"presentation_title_err_"+a}),Pb(b,"url_"+a,{msg:"Please add URL.",id:"presentation_url_err_"+a}),Pb(b,"invalid_title_specialChar_"+a,{msg:"Please remove Backslash(\\) & Less than(<) characters.",id:"presentation_title_err_"+a}),Pb(b,"invalid_url_format_"+a,{msg:"Please enter a valid URL.",id:"presentation_url_err_"+a}),Pb(b,"invalid_url_specialChar_"+a,{msg:"Please remove Backslash(\\) & Less than(<) characters.",id:"presentation_url_err_"+a}),Pb(b,"invalid_desc_specialChar_"+a,{msg:"Please remove Backslash(\\) & Less than(<) characters.",id:"presentation_description_err_"+a}),Pb(b,"custom_title_"+a,function(){return function(b){var c=/[\\<]/;return!!c.test(b.val())&&"invalid_title_specialChar_"+a}}()),Pb(b,"custom_url_"+a,function(){return function(b){var c=/[\\<]/;return c.test(b.val())?"invalid_url_specialChar_"+a:!vd(b.val())&&"invalid_url_format_"+a}}()),Pb(b,"custom_desc_"+a,function(){return function(b){var c=/[\\<]/;return!!c.test(b.val())&&"invalid_desc_specialChar_"+a}}()),b},xj=window.interfaces,yj=xj.Virtual,zj=function(a){function b(){Nb(this,b);var a=Sb(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments));a.state={presentation:[]};var c=a.props.accomplishments||{},d=c.presentation||{};if(a.existingCount=Object.keys(d).length,a.props.activeAcmId){if(d[a.props.activeAcmId]){var e=d[a.props.activeAcmId];a.state.presentation.push(e)}}else a.state.presentation.push(a.getDefaultModel());return a.presentationComponentNode=null,a.formName="presentationForm",a.validators={},a}return Rb(b,a),Ob(b,[{key:"attachedCallback",value:function(){this.initValidation(0),d("spa-event","EditProfile","presentation","EditOpen")}},{key:"getDeepCopy",value:function(a){var b=[];return a.forEach(function(a){b.push($.extend({},a))}),b}},{key:"handleChange",value:function(a,b,c){var d=this.state.presentation,e=d[c];e[b]=a.target.value,this.setState({presentation:this.getDeepCopy(d)})}},{key:"updateState",value:function(a,b,c,d){var e=this.state.presentation,f=e[c];f[a]=b,this.setState({presentation:this.getDeepCopy(e)},function(){"undefined"!=typeof d&&d()})}},{key:"getDefaultModel",value:function(){return{id:"-1",title:"",url:"",description:""}}},{key:"initValidation",value:function(a){var b=this;requirejs(["commonValidation_JQ_v16_beta"+aa],function(){b.validators["validator"+a]=new commonValidator,b.validators["validator"+a].validate({formNames:[b.formName+"_"+a],errors:wj(a),focusOnError:!0,submitButton:"savePresentationBtn",styles:{parentObjectClass:"col",maxLevel:6,errorClass:"err"}})})}},{key:"isFormValid",value:function(){var a=!0;for(var b in this.validators)this.validators[b].isValid()||(a=!1);return a}},{key:"savePresentation",value:function(a){var b=this;$(this.presentationComponentNode).find("form").each(function(a,b){}),this.isFormValid()&&this.props.savePresentation(this.state.presentation,function(a){"success"===a&&b.props.closeDrawer()})}},{key:"addNew",value:function(){var a=this,b=this.state.presentation,c=b.length;b.push(this.getDefaultModel()),this.setState({presentation:this.getDeepCopy(b)},function(){window.setTimeout(function(){a.initValidation(c)},500)})}},{key:"delete",value:function(){var a=this;this.props.activeAcmId&&this.props["delete"]({presentationId:this.props.activeAcmId},function(b){
"success"===b?a.props.closeDrawer():"error"===b&&a.closeDeleteBox()})}},{key:"getTotalCount",value:function(){var a=0;return this.state.presentation.forEach(function(b){"-1"===b.id&&a++}),this.existingCount+a}},{key:"closeDeleteBox",value:function(){this.ConfirmationBoxInstance.close()}},{key:"showDialog",value:function(){this.ConfirmationBoxInstance.open()}},{key:"setConfirmationInstance",value:function(a){this.ConfirmationBoxInstance=a}},{key:"render",value:function(){var a=this,b=(this.getTotalCount(),{dimens:{width:"30%",height:"160px"},routing:!1}),c=yj.createElement(Ke,{params:b,setInstance:function(b){return a.ConfirmationBoxInstance=b}},function(b){var c;b.close;return yj.createElement("div",{className:"confirmationBox cnfpadding"},yj.createElement("p",null,"Are you sure you want to delete this Presentation?"),yj.createElement("div",{className:"action right-align"},yj.createElement("a",(c={className:"blue-text"},Pb(c,"className","cancelLayer"),Pb(c,"href","javascript:void(0)"),Pb(c,"onClick",function(){return a.closeDeleteBox()}),c),"CANCEL"),yj.createElement("button",{className:"waves-effect waves-light btn-large blue-btn",onClick:function(){return a["delete"]()}},"DELETE")))});return yj.createElement("div",{className:"presentation-component acm-form-wrapper",ref:function(b){a.presentationComponentNode=b}},yj.createElement(Pd,{id:"presentationMessenger"}),c,yj.createElement("div",{className:"lbpadding"},yj.createElement("div",{className:"row mb10"},yj.createElement("div",{className:"hdn-bold mb5 col s10"},"Presentation"),this.state.presentation[0].id!=-1&&yj.createElement("a",{className:"fs14 right hdn3",href:"javascript:void(0)",onClick:function(){a.showDialog()}},"DELETE"),yj.createElement("div",{className:"grey-text col s12 fs13"},"Add links to your online presentations (e.g. Slideshare presentation links etc.).")),this.state.presentation.map(function(b,c){return yj.createElement("form",{name:"presentationForm_"+c,id:"presentationForm_"+c,className:"presentationForm row",key:c,action:"javascript:void(0)",noValidate:!0},yj.createElement("div",{className:"input-field col s12 row"},yj.createElement("span",{className:"lbl required-field"},"Presentation Title"),yj.createElement("input",{id:"presentation-title_"+c,type:"text",maxLength:"150",rel:"required:title_"+c+",custom:custom_title_"+c,placeholder:"Enter Presentation Title",value:b.title,onChange:function(b){a.handleChange(b,"title",c)}}),yj.createElement("div",{className:"err-container"},yj.createElement("span",{className:"erLbl",id:"presentation_title_err_"+c}))),yj.createElement("div",{className:"input-field col s12 row"},yj.createElement("span",{className:"lbl required-field"},"URL"),yj.createElement("input",{id:"presentation-url_"+c,type:"text",maxLength:"500",rel:"required:url_"+c+",custom:custom_url_"+c,placeholder:"Enter URL here",value:b.url,onChange:function(b){a.handleChange(b,"url",c)}}),yj.createElement("div",{className:"err-container"},yj.createElement("span",{className:"erLbl",id:"presentation_url_err_"+c}))),yj.createElement("div",{className:"input-field col s12 row"},yj.createElement("span",{className:"lbl"},"Description"),yj.createElement("textarea",{className:"materialize-textarea",id:"presentation-description_"+c,type:"text",maxLength:"500",rel:"custom:custom_desc_"+c,placeholder:"Type here...",value:b.description,onChange:function(b){a.handleChange(b,"description",c)}}),yj.createElement("span",{className:"textCounter right"},500-b.description.length," Character(s) Left"),yj.createElement("div",{className:"err-container"},yj.createElement("span",{className:"erLbl",id:"presentation_description_err_"+c}))),yj.createElement("div",{className:"row"},yj.createElement("div",{className:"action"},yj.createElement("div",{className:"col s12"},yj.createElement("a",{href:"javascript:void(0)",onClick:a.props.closeDrawer},"CANCEL"),yj.createElement("button",{type:"button",id:"savePresentationBtn",onClick:function(){a.savePresentation()},className:"waves-effect waves-light btn-large blue-btn"},"SAVE")))))})))}}]),b}(yj.PureComponent),Aj=window.interfaces,Bj=Aj.connect,Cj=function(a){return{accomplishments:$.extend(!0,{},a.myProfile.accomplishments)}},Dj=function(a){var b=[];return a.forEach(function(a){var c={};c.presentationId=a.id,c.title=a.title,c.url=a.url,c.description=a.description,b.push(c)}),b},Ej=function(a){var b="";return a.endDate&&a.endDate.indexOf("Please Specify a Valid Date Range")>=0&&(b=b.length?b+", ":b,b+="Please Specify a Valid Date Range."),b.length?b:"Something went wrong. Please try again."},Fj=function(a){var b=function(){a(Ae.getDashboard(function(){a(Ae.getMyProfile())}))},c=function(b){var c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",e="success"===b?"accomplishmentsMessenger":"presentationMessenger";a({type:Ed,payload:{id:e,type:b,title:d,msg:c}}),"error"===b&&$(".msgBox").focus()},e=function(){var b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"presentationMessenger";a({type:Fd,payload:{id:b}})};return{savePresentation:function(a,f){var g=Dj(a),h="/mnjapi/v1/profileShowcase/presentation";return e(),$.ajaxPromise({url:h,datatype:"json",data:JSON.stringify(g),method:"POST",headers:{accept:"application/json","Content-Type":"application/json"}}).then(function(a){b(),c("success","Presentation has been successfully saved."),d("spa-event","EditProfile","presentation","Save"),"undefined"!=typeof f&&f("success")},function(a){var b=a.jqXHR.responseJSON;b&&b.error&&b.error.developerMessage?c("error",Ej(b.error.developerMessage),"Error"):c("error"),d("spa-event","EditProfile","presentation","SaveError",a.status+a.statusText+JSON.stringify(g)+h),"undefined"!=typeof f&&f("error")})},"delete":function(a,f){e();var g="/mnjapi/v1/profileShowcase/presentation";return $.ajaxPromise({url:g,datatype:"json",data:JSON.stringify(a),method:"POST",headers:{accept:"application/json","x-http-method-override":"DELETE","Content-Type":"application/json"}}).then(function(a){b(),c("success","Presentation has been successfully deleted."),d("spa-event","EditProfile","presentation","Delete"),"undefined"!=typeof f&&f("success")},function(b){var e=b.jqXHR.responseJSON;e&&e.error&&e.error.developerMessage?c("error",Ej(e.error.developerMessage),"Error"):c("error"),d("spa-event","EditProfile","presentation","DeleteError",b.status+b.statusText+JSON.stringify(a)+g),"undefined"!=typeof f&&f("error")})}}},Gj=Bj(Cj,Fj)(zj),Hj=function(a){var b;return b={},Pb(b,"title_"+a,{msg:"Please add White Paper / Research Publication / Journal Entry Title.",id:"publication_title_err_"+a}),Pb(b,"publishedDateYear_"+a,{msg:"Please add Published year.",id:"publication_publishedDate_year_err_"+a}),Pb(b,"publishedDateMonth_"+a,{msg:"Please add Published month.",id:"publication_publishedDate_month_err_"+a}),Pb(b,"url_"+a,{msg:"Please add URL.",id:"publication_url_err_"+a}),Pb(b,"invalid_title_specialChar_"+a,{msg:"Please remove Backslash(\\) & Less than(<) characters.",id:"publication_title_err_"+a}),Pb(b,"invalid_url_format_"+a,{msg:"Please enter a valid URL.",id:"publication_url_err_"+a}),Pb(b,"invalid_url_specialChar_"+a,{msg:"Please remove Backslash(\\) & Less than(<) characters.",id:"publication_url_err_"+a}),Pb(b,"invalid_desc_specialChar_"+a,{msg:"Please remove Backslash(\\) & Less than(<) characters.",id:"publication_description_err_"+a}),Pb(b,"custom_title_"+a,function(){return function(b){var c=/[\\<]/;return!!c.test(b.val())&&"invalid_title_specialChar_"+a}}()),Pb(b,"custom_url_"+a,function(){return function(b){var c=/[\\<]/;return c.test(b.val())?"invalid_url_specialChar_"+a:!vd(b.val())&&"invalid_url_format_"+a}}()),Pb(b,"custom_desc_"+a,function(){return function(b){var c=/[\\<]/;return!!c.test(b.val())&&"invalid_desc_specialChar_"+a}}()),b},Ij=window.interfaces,Jj=Ij.Virtual,Kj=function(a){function b(){Nb(this,b);var a=Sb(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments));a.state={publication:[]};var c=a.props.accomplishments||{},d=c.publication||{};if(a.existingCount=Object.keys(d).length,a.props.activeAcmId){if(d[a.props.activeAcmId]){var e=d[a.props.activeAcmId];e.publishedDateKeys=a.getDateKeys(e.publishedDate),a.state.publication.push(e)}}else a.state.publication.push(a.getDefaultModel());return a.publicationComponentNode=null,a.formName="publicationForm",a.validators={},a}return Rb(b,a),Ob(b,[{key:"attachedCallback",value:function(){this.initValidation(0),d("spa-event","EditProfile","publication","EditOpen")}},{key:"getDeepCopy",value:function(a){var b=[];return a.forEach(function(a){b.push($.extend({},a))}),b}},{key:"handleChange",value:function(a,b,c){var d=this.state.publication,e=d[c];e[b]=a.target.value,this.setState({publication:this.getDeepCopy(d)})}},{key:"updateState",value:function(a,b,c,d){var e=this.state.publication,f=e[c];f[a]=b,this.setState({publication:this.getDeepCopy(e)},function(){"undefined"!=typeof d&&d()})}},{key:"updateDateKeys",value:function(a,b,c,d){var e=this.state.publication,f=e[a];f[b][c]=d,this.setState({publication:this.getDeepCopy(e)})}},{key:"getDefaultModel",value:function(){return{id:"-1",title:"",url:"",publishedDate:"",publishedDateKeys:{year:"",month:""},description:""}}},{key:"initValidation",value:function(a){var b=this;requirejs(["commonValidation_JQ_v16_beta"+aa],function(){b.validators["validator"+a]=new commonValidator,b.validators["validator"+a].validate({formNames:[b.formName+"_"+a],errors:Hj(a),focusOnError:!0,submitButton:"savePublicationBtn",styles:{parentObjectClass:"col",maxLevel:6,errorClass:"err"}})})}},{key:"isFormValid",value:function(){var a=!0;for(var b in this.validators)this.validators[b].isValid()||(a=!1);return a}},{key:"savePublication",value:function(a){var b=this;$(this.publicationComponentNode).find("form").each(function(a,b){}),this.isFormValid()&&this.props.savePublication(this.state.publication,function(a){"success"===a&&b.props.closeDrawer()})}},{key:"addNew",value:function(){var a=this,b=this.state.publication,c=b.length;b.push(this.getDefaultModel()),this.setState({publication:this.getDeepCopy(b)},function(){window.setTimeout(function(){a.initValidation(c)},500)})}},{key:"delete",value:function(){var a=this;this.props.activeAcmId&&this.props["delete"]({publicationId:this.props.activeAcmId},function(b){"success"===b?a.props.closeDrawer():"error"===b&&a.closeDeleteBox()})}},{key:"getTotalCount",value:function(){var a=0;return this.state.publication.forEach(function(b){"-1"===b.id&&a++}),this.existingCount+a}},{key:"isValidDate",value:function(a){var b=new Date(a);return"[object Date]"===Object.prototype.toString.call(b)&&!isNaN(b.getTime())}},{key:"getYearFromDate",value:function(a){return this.isValidDate(a)?new Date(a).getFullYear():""}},{key:"getMonthFromDate",value:function(a){return this.isValidDate(a)?new Date(a).getMonth()+1:""}},{key:"getDateKeys",value:function(a){return this.isValidDate(a)?{year:new Date(a).getFullYear(),month:new Date(a).getMonth()+1}:{year:"",month:""}}},{key:"closeDeleteBox",value:function(){this.ConfirmationBoxInstance.close()}},{key:"showDialog",value:function(){this.ConfirmationBoxInstance.open()}},{key:"setConfirmationInstance",value:function(a){this.ConfirmationBoxInstance=a}},{key:"render",value:function(){var a=this,b=(this.getTotalCount(),si.year()),c=si.month(),d={dimens:{width:"30%",height:"160px"},routing:!1},e=Jj.createElement(Ke,{params:d,setInstance:function(b){return a.ConfirmationBoxInstance=b}},function(b){var c;b.close;return Jj.createElement("div",{className:"confirmationBox cnfpadding"},Jj.createElement("p",null,"Are you sure you want to delete this Publication?"),Jj.createElement("div",{className:"action right-align"},Jj.createElement("a",(c={className:"blue-text"},Pb(c,"className","cancelLayer"),Pb(c,"href","javascript:void(0)"),Pb(c,"onClick",function(){return a.closeDeleteBox()}),c),"CANCEL"),Jj.createElement("button",{className:"waves-effect waves-light btn-large blue-btn",onClick:function(){return a["delete"]()}},"DELETE")))});return Jj.createElement("div",{className:"publication-component acm-form-wrapper",ref:function(b){a.publicationComponentNode=b}},Jj.createElement(Pd,{id:"publicationMessenger"}),e,Jj.createElement("div",{className:"lbpadding"},Jj.createElement("div",{className:"row mb10"},Jj.createElement("div",{className:"hdn-bold mb5 col s10"},"White Paper / Research Publication / Journal Entry"),this.state.publication[0].id!=-1&&Jj.createElement("a",{className:"fs14 right hdn3",href:"javascript:void(0)",onClick:function(){a.showDialog()}},"DELETE"),Jj.createElement("div",{className:"grey-text col s12 fs13"},"Add links to your projects (e.g. Github links, etc.).")),this.state.publication.map(function(d,e){return Jj.createElement("form",{name:"publicationForm_"+e,id:"publicationForm_"+e,className:"publicationForm row",key:e,action:"javascript:void(0)",noValidate:!0},Jj.createElement("div",{className:"input-field col s12 row"},Jj.createElement("span",{className:"lbl required-field"},"Title"),Jj.createElement("input",{id:"publication-title_"+e,type:"text",maxLength:"150",rel:"required:title_"+e+",custom:custom_title_"+e,placeholder:"Enter Title",value:d.title,onChange:function(b){a.handleChange(b,"title",e)}}),Jj.createElement("div",{className:"err-container"},Jj.createElement("span",{className:"erLbl",id:"publication_title_err_"+e}))),Jj.createElement("div",{className:"input-field col s12 row"},Jj.createElement("span",{className:"lbl required-field"},"URL"),Jj.createElement("input",{id:"publication-url_"+e,type:"text",maxLength:"500",rel:"required:url_"+e+",custom:custom_url_"+e,placeholder:"Enter URL here",value:d.url,onChange:function(b){a.handleChange(b,"url",e)}}),Jj.createElement("div",{className:"err-container"},Jj.createElement("span",{className:"erLbl",id:"publication_url_err_"+e}))),Jj.createElement("div",{className:"input-field col s12 row"},Jj.createElement("span",{className:"lbl"},"Published On"),Jj.createElement("div",{className:"row"},Jj.createElement("div",{className:"col s6 pl0"},Jj.createElement(Bc,{id:"publication-publishedDate-year-"+e,placeholder:"Year",data:b,sortPrefix:"#",prefillData:[d.publishedDateKeys.year],iconName:"DownArrow",title:"true",onChange:function(b,c){a.updateDateKeys(e,"publishedDateKeys","year",b)},onError:function(a){},getInstance:function(a){}}),Jj.createElement("div",{className:"err-container"},Jj.createElement("span",{className:"erLbl",id:"publication_publishedDate_year_err_"+e}))),Jj.createElement("div",{className:"col s6 pr0"},Jj.createElement(Bc,{id:"publication-publishedDate-month-"+e,placeholder:"Month",data:c,sortPrefix:"#",prefillData:[d.publishedDateKeys.month],iconName:"DownArrow",title:"true",onChange:function(b,c){a.updateDateKeys(e,"publishedDateKeys","month",b)},onError:function(a){},getInstance:function(a){}}),Jj.createElement("div",{className:"err-container"},Jj.createElement("span",{className:"erLbl",id:"publication_publishedDate_month_err_"+e}))))),Jj.createElement("div",{className:"input-field col s12 row"},Jj.createElement("span",{className:"lbl"},"Description"),Jj.createElement("textarea",{className:"materialize-textarea",id:"publication-description_"+e,type:"text",maxLength:"500",rel:"custom:custom_desc_"+e,placeholder:"Type here...",value:d.description,onChange:function(b){a.handleChange(b,"description",e)}}),Jj.createElement("span",{className:"textCounter right"},500-d.description.length," Character(s) Left"),Jj.createElement("div",{className:"err-container"},Jj.createElement("span",{className:"erLbl",id:"publication_description_err_"+e}))),Jj.createElement("div",{className:"row"},Jj.createElement("div",{className:"action"},Jj.createElement("div",{className:"col s12"},Jj.createElement("a",{href:"javascript:void(0)",onClick:a.props.closeDrawer},"CANCEL"),Jj.createElement("button",{id:"savePublicationBtn",type:"button",onClick:function(){a.savePublication()},className:"waves-effect waves-light btn-large blue-btn"},"SAVE")))))})))}}]),b}(Jj.PureComponent),Lj=window.interfaces,Mj=Lj.connect,Nj=function(a){return{accomplishments:$.extend(!0,{},a.myProfile.accomplishments)}},Oj=function(a){var b=[];return a.forEach(function(a){var c={};c.publicationId=a.id,c.title=a.title,c.url=a.url,c.description=a.description,a.publishedDateKeys.month&&a.publishedDateKeys.year&&(a.publishedDateKeys.month=parseInt(a.publishedDateKeys.month)<10?"0"+parseInt(a.publishedDateKeys.month):a.publishedDateKeys.month,c.publishedDate=""+a.publishedDateKeys.year+"-"+a.publishedDateKeys.month+"-01"),b.push(c)}),b},Pj=function(a){var b="";return a.endDate&&a.endDate.indexOf("Please Specify a Valid Date Range")>=0&&(b=b.length?b+", ":b,b+="Please Specify a Valid Date Range."),b.length?b:"Something went wrong. Please try again."},Qj=function(a){var b=function(){a(Ae.getDashboard(function(){a(Ae.getMyProfile())}))},c=function(b){var c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",e="success"===b?"accomplishmentsMessenger":"publicationMessenger";a({type:Ed,payload:{id:e,type:b,title:d,msg:c}}),"error"===b&&$(".msgBox").focus()},e=function(){var b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"publicationMessenger";a({type:Fd,payload:{id:b}})};return{savePublication:function(a,f){var g=Oj(a),h="/mnjapi/v1/profileShowcase/publication";return e(),$.ajaxPromise({url:h,datatype:"json",data:JSON.stringify(g),method:"POST",headers:{accept:"application/json","Content-Type":"application/json"}}).then(function(a){b(),c("success","White Paper / Research Publication / Journal Entry has been successfully saved."),d("spa-event","EditProfile","publication","Save"),"undefined"!=typeof f&&f("success")},function(a){var b=a.jqXHR.responseJSON;b&&b.error&&b.error.developerMessage?c("error",Pj(b.error.developerMessage),"Error"):c("error"),d("spa-event","EditProfile","publication","SaveError",a.status+a.statusText+JSON.stringify(g)+h),"undefined"!=typeof f&&f("error")})},"delete":function(a,f){e();var g="/mnjapi/v1/profileShowcase/publication";return $.ajaxPromise({url:g,datatype:"json",data:JSON.stringify(a),method:"POST",headers:{accept:"application/json","x-http-method-override":"DELETE","Content-Type":"application/json"}}).then(function(a){b(),c("success","White Paper / Research Publication / Journal Entry has been successfully deleted."),d("spa-event","EditProfile","publication","Delete"),"undefined"!=typeof f&&f("success")},function(a){var b=a.jqXHR.responseJSON;b&&b.error&&b.error.developerMessage?c("error",Pj(b.error.developerMessage),"Error"):c("error"),d("spa-event","EditProfile","publication","DeleteError",a.status+a.statusText+JSON.stringify(formModel)+g),"undefined"!=typeof f&&f("error")})}}},Rj=Mj(Nj,Qj)(Kj),Sj=function(a){var b;return b={},Pb(b,"title_"+a,{msg:"Please add Patent title.",id:"patent_title_err_"+a}),Pb(b,"office_"+a,{msg:"Please add Patent office.",id:"patent_office_err_"+a}),Pb(b,"issueDateYear_"+a,{msg:"Please add Issued year.",id:"patent_issueDate_year_err_"+a}),Pb(b,"issueDateMonth_"+a,{msg:"Please add Issued month.",id:"patent_issueDate_month_err_"+a}),Pb(b,"url_"+a,{msg:"Please add URL.",id:"patent_url_err_"+a}),Pb(b,"invalid_title_specialChar_"+a,{msg:"Please remove Backslash(\\) & Less than(<) characters.",id:"patent_title_err_"+a}),Pb(b,"invalid_url_format_"+a,{msg:"Please enter a valid URL.",id:"patent_url_err_"+a}),Pb(b,"invalid_url_specialChar_"+a,{msg:"Please remove Backslash(\\) & Less than(<) characters.",id:"patent_url_err_"+a}),Pb(b,"invalid_desc_specialChar_"+a,{msg:"Please remove Backslash(\\) & Less than(<) characters.",id:"patent_description_err_"+a}),Pb(b,"invalid_office_specialChar_"+a,{msg:"Please remove Backslash(\\) & Less than(<) characters.",id:"patent_office_err_"+a}),Pb(b,"invalid_appNo_specialChar_"+a,{msg:"Please remove Backslash(\\) & Less than(<) characters.",id:"patent_appNo_err_"+a}),Pb(b,"custom_title_"+a,function(){return function(b){var c=/[\\<]/;return!!c.test(b.val())&&"invalid_title_specialChar_"+a}}()),Pb(b,"custom_url_"+a,function(){return function(b){var c=/[\\<]/;return c.test(b.val())?"invalid_url_specialChar_"+a:!vd(b.val())&&"invalid_url_format_"+a}}()),Pb(b,"custom_desc_"+a,function(){return function(b){var c=/[\\<]/;return!!c.test(b.val())&&"invalid_desc_specialChar_"+a}}()),Pb(b,"custom_office_"+a,function(){return function(b){var c=/[\\<]/;return!!c.test(b.val())&&"invalid_office_specialChar_"+a}}()),Pb(b,"custom_appNo_"+a,function(){return function(b){var c=/[\\<]/;return!!c.test(b.val())&&"invalid_appNo_specialChar_"+a}}()),b},Tj=window.interfaces,Uj=Tj.Virtual,Vj=function(a){function b(){Nb(this,b);var a=Sb(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments));a.state={patent:[]};var c=a.props.accomplishments||{},d=c.patent||{};if(a.existingCount=Object.keys(d).length,a.props.activeAcmId){if(d[a.props.activeAcmId]){var e=d[a.props.activeAcmId];e.issueDateKeys=a.getDateKeys(e.issueDate),a.state.patent.push(e)}}else a.state.patent.push(a.getDefaultModel());return a.patentComponentNode=null,a.formName="patentForm",a.validators={},a}return Rb(b,a),Ob(b,[{key:"attachedCallback",value:function(){this.initValidation(0),d("spa-event","EditProfile","patent","EditOpen")}},{key:"getDeepCopy",value:function(a){var b=[];return a.forEach(function(a){b.push($.extend({},a))}),b}},{key:"handleChange",value:function(a,b,c){var d=this.state.patent,e=d[c];e[b]=a.target.value,this.setState({patent:this.getDeepCopy(d)})}},{key:"updateState",value:function(a,b,c,d){var e=this.state.patent,f=e[c];f[a]=b,this.setState({patent:this.getDeepCopy(e)},function(){"undefined"!=typeof d&&d()})}},{key:"updateDateKeys",value:function(a,b,c,d){var e=this.state.patent,f=e[a];f[b][c]=d,this.setState({patent:this.getDeepCopy(e)})}},{key:"getDefaultModel",value:function(){return{id:"-1",title:"",url:"",issueDate:"",issueDateKeys:{year:"",month:""},applicationNumber:"",patentOffice:"",status:"a",description:""}}},{key:"initValidation",value:function(a){var b=this;requirejs(["commonValidation_JQ_v16_beta"+aa],function(){b.validators["validator"+a]=new commonValidator,b.validators["validator"+a].validate({formNames:[b.formName+"_"+a],errors:Sj(a),submitButton:"savePatentBtn",focusOnError:!0,styles:{parentObjectClass:"col",maxLevel:6,errorClass:"err"}})})}},{key:"isFormValid",value:function(){var a=!0;for(var b in this.validators)this.validators[b].isValid()||(a=!1);return a}},{key:"savePatent",value:function(a){var b=this;$(this.patentComponentNode).find("form").each(function(a,b){}),this.isFormValid()&&this.props.savePatent(this.state.patent,function(a){"success"===a&&b.props.closeDrawer()})}},{key:"addNew",value:function(){var a=this,b=this.state.patent,c=b.length;b.push(this.getDefaultModel()),this.setState({patent:this.getDeepCopy(b)},function(){window.setTimeout(function(){a.initValidation(c)},500)})}},{key:"delete",value:function(){var a=this;this.props.activeAcmId&&this.props["delete"]({patentId:this.props.activeAcmId},function(b){"success"===b?a.props.closeDrawer():"error"===b&&a.closeDeleteBox()})}},{key:"getTotalCount",value:function(){var a=0;return this.state.patent.forEach(function(b){"-1"===b.id&&a++}),this.existingCount+a}},{key:"isValidDate",value:function(a){var b=new Date(a);return"[object Date]"===Object.prototype.toString.call(b)&&!isNaN(b.getTime())}},{key:"getYearFromDate",value:function(a){return this.isValidDate(a)?new Date(a).getFullYear():""}},{key:"getMonthFromDate",value:function(a){return this.isValidDate(a)?new Date(a).getMonth()+1:""}},{key:"getDateKeys",value:function(a){return this.isValidDate(a)?{year:new Date(a).getFullYear(),month:new Date(a).getMonth()+1}:{year:"",month:""}}},{key:"closeDeleteBox",value:function(){this.ConfirmationBoxInstance.close()}},{key:"showDialog",value:function(){this.ConfirmationBoxInstance.open()}},{key:"setConfirmationInstance",value:function(a){this.ConfirmationBoxInstance=a}},{key:"render",value:function(){var a=this,b=(this.getTotalCount(),si.year()),c=si.month(),d={dimens:{width:"30%",height:"160px"},routing:!1},e=Uj.createElement(Ke,{params:d,setInstance:function(b){return a.ConfirmationBoxInstance=b}},function(b){var c;b.close;return Uj.createElement("div",{className:"confirmationBox cnfpadding"},Uj.createElement("p",null,"Are you sure you want to delete this Patent?"),Uj.createElement("div",{className:"action right-align"},Uj.createElement("a",(c={className:"blue-text"},Pb(c,"className","cancelLayer"),Pb(c,"href","javascript:void(0)"),Pb(c,"onClick",function(){return a.closeDeleteBox()}),c),"CANCEL"),Uj.createElement("button",{className:"waves-effect waves-light btn-large blue-btn",onClick:function(){return a["delete"]()}},"DELETE")))});return Uj.createElement("div",{className:"patent-component acm-form-wrapper",ref:function(b){a.patentComponentNode=b}},Uj.createElement(Pd,{id:"patentMessenger"}),e,Uj.createElement("div",{className:"lbpadding"},Uj.createElement("div",{className:"row mb10"},Uj.createElement("div",{className:"hdn-bold col s10 mb5"},"Patent"),this.state.patent[0].id!=-1&&Uj.createElement("a",{className:"fs14 right hdn3",href:"javascript:void(0)",onClick:function(){a.showDialog()}},"DELETE"),Uj.createElement("div",{className:"grey-text col s12 fs13"},"Add details of patents you have filed.")),this.state.patent.map(function(d,e){return Uj.createElement("form",{name:"patentForm_"+e,id:"patentForm_"+e,className:"patentForm row",key:e,action:"javascript:void(0)",noValidate:!0},Uj.createElement("div",{className:"input-field col s12 row"},Uj.createElement("span",{className:"lbl required-field"},"Patent Title"),Uj.createElement("input",{id:"patent-title_"+e,type:"text",maxLength:"150",rel:"required:title_"+e+",custom:custom_title_"+e,placeholder:"Enter Patent Title",value:d.title,onChange:function(b){a.handleChange(b,"title",e)}}),Uj.createElement("div",{className:"err-container"},Uj.createElement("span",{className:"erLbl",id:"patent_title_err_"+e}))),Uj.createElement("div",{className:"input-field col s12 row"},Uj.createElement("span",{className:"lbl required-field"},"URL"),Uj.createElement("input",{id:"patent-url_"+e,type:"text",maxLength:"500",rel:"required:url_"+e+",custom:custom_url_"+e,placeholder:"Enter Patent URL",value:d.url,onChange:function(b){a.handleChange(b,"url",e)}}),Uj.createElement("div",{className:"err-container"},Uj.createElement("span",{className:"erLbl",id:"patent_url_err_"+e}))),Uj.createElement("div",{className:"input-field col s12 row"},Uj.createElement("span",{className:"lbl"},"Patent Office"),Uj.createElement("input",{id:"patent-office_"+e,type:"text",maxLength:"150",rel:"custom:custom_office_"+e,placeholder:"Enter Patent Office",value:d.patentOffice,onChange:function(b){a.handleChange(b,"patentOffice",e)}}),Uj.createElement("div",{className:"err-container"},Uj.createElement("span",{className:"erLbl",id:"patent_office_err_"+e}))),Uj.createElement("div",{className:"input-field col s12"},Uj.createElement("span",{className:"lbl"},"Status")),Uj.createElement("p",{className:"col s4 mt0"},Uj.createElement("input",{className:"with-gap",name:"status-issued",type:"radio",id:"status-issued",checked:"a"===d.status,onClick:function(b){a.updateState("status","a",e)}}),Uj.createElement("label",{className:"radio-lbl",htmlFor:"status-issued"},"Patent Issued")),Uj.createElement("p",{className:"col s4 mt0"},Uj.createElement("input",{className:"with-gap",name:"status-pending",type:"radio",id:"status-pending",checked:"p"===d.status,onClick:function(b){a.updateState("status","p",e)}}),Uj.createElement("label",{className:"radio-lbl",htmlFor:"status-pending"},"Patent pending")),Uj.createElement("div",{className:"input-field col s12 row"},Uj.createElement("span",{className:"lbl"},"Application Number"),Uj.createElement("input",{id:"patent-appNo"+e,type:"text",maxLength:"150",rel:"custom:custom_appNo_"+e,placeholder:"Enter Application Number",value:d.applicationNumber,onChange:function(b){a.handleChange(b,"applicationNumber",e)}}),Uj.createElement("div",{className:"err-container"},Uj.createElement("span",{className:"erLbl",id:"patent_appNo_err_"+e}))),"a"===d.status&&Uj.createElement("div",{className:"input-field col s12 row"},Uj.createElement("span",{className:"lbl"},"Issue Date"),Uj.createElement("div",{className:""},Uj.createElement("div",{className:"col s4 pl0"},Uj.createElement(Bc,{id:"patent-issueDate-year-"+e,placeholder:"Year",data:b,sortPrefix:"#",prefillData:[d.issueDateKeys.year],iconName:"DownArrow",title:"true",onChange:function(b,c){a.updateDateKeys(e,"issueDateKeys","year",b)},onError:function(a){},getInstance:function(a){}}),Uj.createElement("div",{className:"err-container"},Uj.createElement("span",{className:"erLbl",id:"patent_issueDate_year_err_"+e}))),Uj.createElement("div",{className:"col s4 pr0"},Uj.createElement(Bc,{id:"patent-issueDate-month-"+e,placeholder:"Month",data:c,sortPrefix:"#",prefillData:[d.issueDateKeys.month],iconName:"DownArrow",title:"true",onChange:function(b,c){a.updateDateKeys(e,"issueDateKeys","month",b)},onError:function(a){},getInstance:function(a){}}),Uj.createElement("div",{className:"err-container"},Uj.createElement("span",{className:"erLbl",id:"patent_issueDate_month_err_"+e}))))),Uj.createElement("div",{className:"input-field col s12 row"},Uj.createElement("span",{className:"lbl"},"Description"),Uj.createElement("textarea",{className:"materialize-textarea",id:"patent-description_"+e,type:"text",maxLength:"500",rel:"custom:custom_desc_"+e,placeholder:"Type here...",value:d.description,onChange:function(b){a.handleChange(b,"description",e)}}),Uj.createElement("span",{className:"textCounter right"},500-d.description.length," Character(s) Left"),Uj.createElement("div",{className:"err-container"},Uj.createElement("span",{className:"erLbl",id:"patent_description_err_"+e}))),Uj.createElement("div",{className:"row"},Uj.createElement("div",{className:"action"},Uj.createElement("div",{className:"col s12"},Uj.createElement("a",{href:"javascript:void(0)",onClick:a.props.closeDrawer},"CANCEL"),Uj.createElement("button",{type:"button",onClick:function(){a.savePatent()},className:"waves-effect waves-light btn-large blue-btn",id:"savePatentBtn"},"SAVE")))))})))}}]),b}(Uj.PureComponent),Wj=window.interfaces,Xj=Wj.connect,Yj=function(a){return{accomplishments:$.extend(!0,{},a.myProfile.accomplishments)}},Zj=function(a){var b=[];return a.forEach(function(a){var c={};c.patentId=a.id,c.title=a.title,c.url=a.url,c.description=a.description,c.applicationNumber=a.applicationNumber,c.patentOffice=a.patentOffice,c.status=a.status,a.issueDateKeys.month&&a.issueDateKeys.year&&(a.issueDateKeys.month=parseInt(a.issueDateKeys.month)<10?"0"+parseInt(a.issueDateKeys.month):a.issueDateKeys.month,c.issueDate=""+a.issueDateKeys.year+"-"+a.issueDateKeys.month+"-01"),b.push(c)}),b},$j=function(a){var b="";return a.endDate&&a.endDate.indexOf("Please Specify a Valid Date Range")>=0&&(b=b.length?b+", ":b,b+="Please Specify a Valid Date Range."),b.length?b:"Something went wrong. Please try again."},_j=function(a){var b=function(){a(Ae.getDashboard(function(){a(Ae.getMyProfile())}))},c=function(b){var c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",e="success"===b?"accomplishmentsMessenger":"patentMessenger";a({type:Ed,payload:{id:e,type:b,title:d,msg:c}}),"error"===b&&$(".msgBox").focus()},e=function(){var b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"patentMessenger";a({type:Fd,payload:{id:b}})};return{savePatent:function(a,f){var g=Zj(a);e();var h="/mnjapi/v1/profileShowcase/patent";return $.ajaxPromise({url:h,datatype:"json",data:JSON.stringify(g),method:"POST",headers:{accept:"application/json","Content-Type":"application/json"}}).then(function(a){b(),c("success","Patent has been successfully saved."),d("spa-event","EditProfile","patent","Save"),"undefined"!=typeof f&&f("success")},function(a){var b=a.jqXHR.responseJSON;b&&b.error&&b.error.developerMessage?c("error",$j(b.error.developerMessage),"Error"):c("error"),
d("spa-event","EditProfile","patent","SaveError",a.status+a.statusText+JSON.stringify(g)+h),"undefined"!=typeof f&&f("error")})},"delete":function(a,f){e();var g="/mnjapi/v1/profileShowcase/patent";return $.ajaxPromise({url:g,datatype:"json",data:JSON.stringify(a),method:"POST",headers:{accept:"application/json","x-http-method-override":"DELETE","Content-Type":"application/json"}}).then(function(a){b(),c("success","Patent has been successfully deleted."),d("spa-event","EditProfile","patent","Delete"),"undefined"!=typeof f&&f("success")},function(a){var b=a.jqXHR.responseJSON;b&&b.error&&b.error.developerMessage?c("error",$j(b.error.developerMessage),"Error"):c("error"),d("spa-event","EditProfile","patent","DeleteError",a.status+a.statusText+JSON.stringify(formModel)+g),"undefined"!=typeof f&&f("error")})}}},ak=Xj(Yj,_j)(Vj),bk=function(a){var b;return b={},Pb(b,"name_"+a,{msg:"Please add Certification title.",id:"certifications_name_err_"+a}),Pb(b,"body_"+a,{msg:"Please add Certification body.",id:"certifications_body_err_"+a}),Pb(b,"completionDateYear_"+a,{msg:"Please add Year.",id:"certifications_completionDate_year_err_"+a}),Pb(b,"invalid_name_specialChar_"+a,{msg:"Please remove Backslash(\\) & Less than(<) characters.",id:"certifications_name_err_"+a}),Pb(b,"invalid_body_specialChar_"+a,{msg:"Please remove Backslash(\\) & Less than(<) characters.",id:"certifications_body_err_"+a}),Pb(b,"custom_name_"+a,function(){return function(b){var c=/[\\<]/;return!!c.test(b.val())&&"invalid_name_specialChar_"+a}}()),Pb(b,"custom_body_"+a,function(){return function(b){var c=/[\\<]/;return!!c.test(b.val())&&"invalid_body_specialChar_"+a}}()),b},ck=window.interfaces,dk=ck.Virtual,ek=function(a){function b(){Nb(this,b);var a=Sb(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments));a.state={certifications:[]};var c=a.props.accomplishments||{},d=c.certifications||{};if(a.existingCount=Object.keys(d).length,a.props.activeAcmId){if(d[a.props.activeAcmId]){var e=d[a.props.activeAcmId];a.state.certifications.push(e)}}else a.state.certifications.push(a.getDefaultModel());return a.certificationsComponentNode=null,a.formName="certificationsForm",a.validators={},a}return Rb(b,a),Ob(b,[{key:"attachedCallback",value:function(){this.initValidation(0),d("spa-event","EditProfile","certifications","EditOpen")}},{key:"getDeepCopy",value:function(a){var b=[];return a.forEach(function(a){b.push($.extend({},a))}),b}},{key:"handleChange",value:function(a,b,c){var d=this.state.certifications,e=d[c];e[b]=a.target.value,this.setState({certifications:this.getDeepCopy(d)})}},{key:"updateState",value:function(a,b,c,d){var e=this.state.certifications,f=e[c];f[a]=b,this.setState({certifications:this.getDeepCopy(e)},function(){"undefined"!=typeof d&&d()})}},{key:"getDefaultModel",value:function(){return{certificationId:"-1",certificationBody:"",certificationCompletionYear:{id:"",value:""},course:""}}},{key:"initValidation",value:function(a){var b=this;requirejs(["commonValidation_JQ_v16_beta"+aa],function(){b.validators["validator"+a]=new commonValidator,b.validators["validator"+a].validate({formNames:[b.formName+"_"+a],errors:bk(a),focusOnError:!0,submitButton:"saveCertificationsBtn",styles:{parentObjectClass:"col",maxLevel:6,errorClass:"err"}})})}},{key:"isFormValid",value:function(){var a=!0;for(var b in this.validators)this.validators[b].isValid()||(a=!1);return a}},{key:"saveCertifications",value:function(a){var b=this;$(this.certificationsComponentNode).find("form").each(function(a,b){}),this.isFormValid()&&this.props.saveCertifications(this.state.certifications,this.props.userDetails.profileId,function(a){"success"===a&&b.props.closeDrawer()})}},{key:"addNew",value:function(){var a=this,b=this.state.certifications,c=b.length;b.push(this.getDefaultModel()),this.setState({certifications:this.getDeepCopy(b)},function(){window.setTimeout(function(){a.initValidation(c)},500)})}},{key:"delete",value:function(){var a=this;this.props.activeAcmId&&this.props["delete"]({certificationsId:this.props.activeAcmId},this.props.userDetails.profileId,function(b){"success"===b?a.props.closeDrawer():"error"===b&&a.closeDeleteBox()})}},{key:"updateYear",value:function(a,b,c){var d=this.state.certifications,e=d[a];e[b]={id:c,value:c},this.setState({certifications:this.getDeepCopy(d)})}},{key:"getTotalCount",value:function(){var a=0;return this.state.certifications.forEach(function(b){"-1"===b.certificationId&&a++}),this.existingCount+a}},{key:"getSuggConfig",value:function(a){var b={maxSuggestions:"12",grouping:!1,relatedConcept_dataLayer:!1,multiSearch:!1,startSearchAfter:"2",chips:!1,maxCharacterLimit:100,maxlength:100,singleSelect:!0,appId:"105",width:"100%"};return Qb({},b,a)}},{key:"closeDeleteBox",value:function(){this.ConfirmationBoxInstance.close()}},{key:"showDialog",value:function(){this.ConfirmationBoxInstance.open()}},{key:"setConfirmationInstance",value:function(a){this.ConfirmationBoxInstance=a}},{key:"render",value:function(){var a=this,b=(this.getTotalCount(),si.year()),c={dimens:{width:"30%",height:"160px"},routing:!1},d=dk.createElement(Ke,{params:c,setInstance:function(b){return a.ConfirmationBoxInstance=b}},function(b){var c;b.close;return dk.createElement("div",{className:"confirmationBox cnfpadding"},dk.createElement("p",null,"Are you sure you want to delete this Certification?"),dk.createElement("div",{className:"action right-align"},dk.createElement("a",(c={className:"blue-text"},Pb(c,"className","cancelLayer"),Pb(c,"href","javascript:void(0)"),Pb(c,"onClick",function(){return a.closeDeleteBox()}),c),"CANCEL"),dk.createElement("button",{className:"waves-effect waves-light btn-large blue-btn",onClick:function(){return a["delete"]()}},"DELETE")))});return dk.createElement("div",{className:"certifications-component acm-form-wrapper",ref:function(b){a.certificationsComponentNode=b}},dk.createElement(Pd,{id:"certificationsMessenger"}),d,dk.createElement("div",{className:"lbpadding"},dk.createElement("div",{className:"row mb10"},dk.createElement("div",{className:"hdn-bold mb5 col s10"},"Certifications"),this.state.certifications[0].certificationId!=-1&&dk.createElement("a",{className:"right hdn3 fs14",href:"javascript:void(0)",onClick:function(){a.showDialog()}},"DELETE"),dk.createElement("div",{className:"grey-text col s12 fs13"},"Add details of Certification you have filed.")),this.state.certifications.map(function(c,d){return dk.createElement("form",{name:"certificationsForm_"+d,id:"certificationsForm_"+d,className:"certificationsForm row",key:d,action:"javascript:void(0)",noValidate:!0},dk.createElement("div",{className:"input-field col s12 row"},dk.createElement("span",{className:"lbl required-field"},"Certification Name"),dk.createElement("input",{id:"certifications-name_"+d,type:"text",maxLength:"100",rel:"required:name_"+d+",custom:custom_name_"+d,placeholder:"Enter Certification Name",value:c.course,onChange:function(b){a.handleChange(b,"course",d)}}),dk.createElement("div",{className:"err-container"},dk.createElement("span",{className:"erLbl",id:"certifications_name_err_"+d}))),dk.createElement("div",{className:"input-field col s12 acm-sugg row"},dk.createElement("span",{className:"lbl required-field"},"Certification Body"),dk.createElement(ng,a.getSuggConfig({id:"certificationsBodySugg",category:{certifyingbody:"certifyingbody"},placeholderText:"Enter Certification Body",value:c.certificationBody,rel:"required:body_"+d+",custom:custom_body_"+d,onChange:function(b){a.handleChange(b,"certificationBody",d)},onSelectClbk:function(b,c){return a.updateState("certificationBody",c,d)}})),dk.createElement("div",{className:"err-container"},dk.createElement("span",{className:"erLbl",id:"certifications_body_err_"+d}))),dk.createElement("div",{className:"input-field col s12 row"},dk.createElement("span",{className:"lbl required-field"},"Year"),dk.createElement("div",{className:"row"},dk.createElement("div",{className:"col s6 pl0"},dk.createElement(Bc,{id:"certifications-completionDate-year-"+d,rel:"required:completionDateYear_"+d,placeholder:"Year",data:b,sortPrefix:"#",prefillData:[c.certificationCompletionYear.id],iconName:"DownArrow",title:"true",onChange:function(b,c){a.updateYear(d,"certificationCompletionYear",b)},onError:function(a){},getInstance:function(a){}}),dk.createElement("div",{className:"err-container"},dk.createElement("span",{className:"erLbl",id:"certifications_completionDate_year_err_"+d}))))),dk.createElement("div",{className:"row"},dk.createElement("div",{className:"action"},dk.createElement("div",{className:"col s12"},dk.createElement("a",{href:"javascript:void(0)",onClick:a.props.closeDrawer},"CANCEL"),dk.createElement("button",{type:"button",onClick:function(){a.saveCertifications()},className:"waves-effect waves-light btn-large blue-btn",id:"saveCertificationsBtn"},"SAVE")))))})))}}]),b}(dk.PureComponent),fk=window.interfaces,gk=fk.connect,hk=function(a){return{accomplishments:$.extend(!0,{},a.myProfile.accomplishments),userDetails:a.userDetails}},ik=function(a){var b=[];return a.forEach(function(a){var c={};c.certificationId=a.certificationId,c.certificationBody=a.certificationBody,c.certificationCompletionYear=a.certificationCompletionYear,c.certificationCompletionYear.id=parseInt(c.certificationCompletionYear.id),c.course=a.course,b.push(c)}),b},jk=function(a){var b="";return a.endDate&&a.endDate.indexOf("Please Specify a Valid Date Range")>=0&&(b=b.length?b+", ":b,b+="Please Specify a Valid Date Range."),b.length?b:"Something went wrong. Please try again."},kk=function(a){var b=function(){a(Ae.getDashboard(function(){a(Ae.getMyProfile())}))},c=function(b){var c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",e="success"===b?"accomplishmentsMessenger":"certificationsMessenger";a({type:Ed,payload:{id:e,type:b,title:d,msg:c}}),"error"===b&&$(".msgBox").focus()},e=function(){var b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"certificationsMessenger";a({type:Fd,payload:{id:b}})};return{saveCertifications:function(a,f,g){var h=ik(a),i="/jobseekerapi/v2/user/profiles/"+f+"/certifications";return e(),$.ajaxPromise({url:i,datatype:"json",data:JSON.stringify(h),method:"POST",headers:{accept:"application/json","Content-Type":"application/json"}}).then(function(a){b(),c("success","Certification has been successfully saved."),d("spa-event","EditProfile","certifications","Save"),"undefined"!=typeof g&&g("success")},function(a){var b=a.jqXHR.responseJSON;b&&b.error&&b.error.developerMessage?c("error",jk(b.error.developerMessage),"Error"):c("error"),d("spa-event","EditProfile","certifications","SaveError",a.status+a.statusText+JSON.stringify(h)+i),"undefined"!=typeof g&&g("error")})},"delete":function(a,f,g){return e(),$.ajaxPromise({url:"/jobseekerapi/v1/user/profiles/"+f+"/certifications/"+a.certificationsId,datatype:"json",method:"POST",headers:{accept:"application/json","x-http-method-override":"DELETE","Content-Type":"application/json"}}).then(function(a){b(),c("success","Certification has been successfully deleted."),d("spa-event","EditProfile","certifications","Delete"),"undefined"!=typeof g&&g("success")},function(a){var b=a.jqXHR.responseJSON;b&&b.error&&b.error.developerMessage?c("error",jk(b.error.developerMessage),"Error"):c("error"),"undefined"!=typeof g&&g("error")})}}},lk=gk(hk,kk)(ek),mk=window.interfaces,nk=mk.Virtual,ok=function(a){function b(){Nb(this,b);var a=Sb(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments));return a.state={isEditLayerVisible:!1,renderAcmLightbox:!1,activeLayer:"",activeAcmId:""},a.drawers={accomplishment:{triggerNode:null,container:null,closeNodeSel:".crossLayer,.cancel",settings:{model:null,dimens:{width:"685px"},open:{minTop:100,event:"click",anim:"flipOpen",success:function(){a.setState({renderAcmLightbox:!0},function(){$(window).resize()})}},close:{layer:!1,anim:"flipClose",nodes:null,success:function(){a.setState({renderAcmLightbox:!1})}}}}},a}return Rb(b,a),Ob(b,[{key:"attachedCallback",value:function(){}},{key:"openDrawer",value:function(a,b){var c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",d=this.drawers[a];d.instance||(d.settings.model=$(d.container),d.settings.close.nodes=$(d.closeNodeSel),d.instance=$(d.triggerNode).lightBox(d.settings)),d.instance.open(),this.setState({activeAcmId:c,activeLayer:b})}},{key:"closeDrawer",value:function(a){window.history.back()}},{key:"getActiveLayer",value:function(){var a={onlineProfile:kj,workSample:vj,presentation:Gj,publication:Rj,certifications:lk,patent:ak};return a[this.state.activeLayer]||""}},{key:"isValidDate",value:function(a){var b=new Date(a);return"[object Date]"===Object.prototype.toString.call(b)&&!isNaN(b.getTime())}},{key:"getFormattedDate",value:function(a){var b={1:"Jan",2:"Feb",3:"Mar",4:"Apr",5:"May",6:"Jun",7:"Jul",8:"Aug",9:"Sep",10:"Oct",11:"Nov",12:"Dec"};return this.isValidDate(a)?b[new Date(a).getMonth()+1]+" "+new Date(a).getFullYear():""}},{key:"getParsedUrl",value:function(a){return a.indexOf("//")<0?"//"+a:a}},{key:"render",value:function(){var a=this,b=this.props.accomplishments||{},c={certifications:b.certifications||{},onlineProfile:b.onlineProfile||{},patent:b.patent||{},presentation:b.presentation||{},publication:b.publication||{},workSample:b.workSample||{}},d={certifications:Object.keys(c.certifications),onlineProfile:Object.keys(c.onlineProfile),patent:Object.keys(c.patent),presentation:Object.keys(c.presentation),publication:Object.keys(c.publication),workSample:Object.keys(c.workSample)},e=this.getActiveLayer();return nk.createElement("div",null,nk.createElement("div",{className:"accomplishments card"},nk.createElement(Pd,{id:"accomplishmentsMessenger",autoHideIn:"4000"}),nk.createElement("div",{className:"cardPad"},nk.createElement("div",{className:"widgetHead mb20"},nk.createElement("span",{className:"widgetTitle"},"Accomplishments")),nk.createElement("div",{className:"widgetCont"},nk.createElement("div",{className:"acm-list"},nk.createElement("div",{className:"acm-list-item onlineProfile-wrapper"},nk.createElement("div",{className:"mb10 ln20"},nk.createElement("span",{className:"hide",ref:function(b){a.drawers.accomplishment.triggerNode=b}},"ADD"),d.onlineProfile.length<5&&nk.createElement("a",{className:"right add",tabIndex:"0",href:"javascript:void(0)",onClick:function(b){a.openDrawer("accomplishment","onlineProfile")}},"ADD"),nk.createElement("div",{className:"hdn2 grey-text-dark"},"Online Profile"),nk.createElement("div",{className:"grey-text fs13"},"Add link to Online profiles (e.g. Linkedin, Facebook etc.).")),!!d.onlineProfile.length&&d.onlineProfile.map(function(b){var d=c.onlineProfile[b];return nk.createElement("div",{className:"mb20 ln20"},nk.createElement("div",null,nk.createElement("strong",{className:"grey-text mr10 hdn3",title:d.profile},d.profile),nk.createElement("span",{className:"icon edit",tabIndex:"0",onClick:function(b){a.openDrawer("accomplishment","onlineProfile",d.id)}},"Edit")),nk.createElement("div",{className:"link brkword"},nk.createElement("a",{href:a.getParsedUrl(d.url),target:"_blank"},d.url)),nk.createElement("div",{className:"grey-text brkword"},d.description))})),nk.createElement("div",{className:"acm-list-item workSample-wrapper"},nk.createElement("div",{className:"mb10 ln20"},d.workSample.length<5&&nk.createElement("a",{className:"right add",tabIndex:"0",href:"javascript:void(0)",onClick:function(b){a.openDrawer("accomplishment","workSample")}},"ADD"),nk.createElement("div",{className:"hdn2 grey-text-dark"},"Work Sample"),nk.createElement("div",{className:"grey-text fs13"},"Add link to your Projects (e.g. Github links etc.).")),!!d.workSample.length&&d.workSample.map(function(b){var d=c.workSample[b];return nk.createElement("div",{className:"mb20 ln20"},nk.createElement("div",null,nk.createElement("strong",{className:"grey-text mr10 hdn3",title:d.title},d.title),nk.createElement("span",{className:"icon edit",tabIndex:"0",onClick:function(b){a.openDrawer("accomplishment","workSample",d.id)}},"Edit")),nk.createElement("div",{className:"link brkword"},nk.createElement("a",{href:a.getParsedUrl(d.url),target:"_blank"},d.url)),nk.createElement("div",{className:"grey-text"},nk.createElement("span",null,"Duration: "),nk.createElement("span",null,a.getFormattedDate(d.startDate)," - "),"0000-00-00"===d.endDate?nk.createElement("span",null,"Present"):nk.createElement("span",null,a.getFormattedDate(d.endDate))),nk.createElement("div",{className:"grey-text brkword"},d.description))})),nk.createElement("div",{className:"acm-list-item publication-wrapper"},nk.createElement("div",{className:"mb10 ln20"},d.publication.length<5&&nk.createElement("a",{className:"right add",tabIndex:"0",href:"javascript:void(0)",onClick:function(b){a.openDrawer("accomplishment","publication")}},"ADD"),nk.createElement("div",{className:"hdn2 grey-text-dark"},"White Paper / Research Publication / Journal Entry"),nk.createElement("div",{className:"grey-text fs13"},"Add links to your Online publications.")),!!d.publication.length&&d.publication.map(function(b){var d=c.publication[b];return nk.createElement("div",{className:"mb20 ln20"},nk.createElement("div",null,nk.createElement("strong",{className:"grey-text mr10 hdn3",title:d.title},d.title),nk.createElement("span",{className:"icon edit",tabIndex:"0",onClick:function(b){a.openDrawer("accomplishment","publication",d.id)}},"Edit")),nk.createElement("div",{className:"link brkword"},nk.createElement("a",{href:a.getParsedUrl(d.url),target:"_blank"},d.url)),nk.createElement("div",{className:"grey-text"},"Published on: ",a.getFormattedDate(d.publishedDate)||"-"),nk.createElement("div",{className:"grey-text brkword"},d.description))})),nk.createElement("div",{className:"acm-list-item presentation-wrapper"},nk.createElement("div",{className:"mb10 ln20"},d.presentation.length<5&&nk.createElement("a",{className:"right add",tabIndex:"0",href:"javascript:void(0)",onClick:function(b){a.openDrawer("accomplishment","presentation")}},"ADD"),nk.createElement("div",{className:"hdn2 grey-text-dark"},"Presentation"),nk.createElement("div",{className:"grey-text fs13"},"Add links to your Online presentations (e.g. Slideshare presentation links etc.).")),!!d.presentation.length&&d.presentation.map(function(b){var d=c.presentation[b];return nk.createElement("div",{className:"mb20 ln20"},nk.createElement("div",null,nk.createElement("strong",{className:"grey-text mr10 hdn3",title:d.title},d.title),nk.createElement("span",{className:"icon edit",tabIndex:"0",onClick:function(b){a.openDrawer("accomplishment","presentation",d.id)}},"Edit")),nk.createElement("div",{className:"link brkword"},nk.createElement("a",{href:a.getParsedUrl(d.url),target:"_blank"},d.url)),nk.createElement("div",{className:"grey-text brkword"},d.description))})),nk.createElement("div",{className:"acm-list-item patent-wrapper"},nk.createElement("div",{className:"mb10 ln20"},d.patent.length<5&&nk.createElement("a",{className:"right add",tabIndex:"0",href:"javascript:void(0)",onClick:function(b){a.openDrawer("accomplishment","patent")}},"ADD"),nk.createElement("div",{className:"hdn2 grey-text-dark"},"Patent"),nk.createElement("div",{className:"grey-text fs13"},"Add details of Patents you have filed.")),!!d.patent.length&&d.patent.map(function(b){var d=c.patent[b];return nk.createElement("div",{className:"mb20 ln20"},nk.createElement("div",null,nk.createElement("strong",{className:"grey-text mr10 hdn3",title:d.title},d.title),nk.createElement("span",{className:"icon edit",tabIndex:"0",onClick:function(b){a.openDrawer("accomplishment","patent",d.id)}},"Edit")),nk.createElement("div",{className:"link brkword"},nk.createElement("a",{href:a.getParsedUrl(d.url),target:"_blank"},d.url)),nk.createElement("div",{className:"grey-text brkword"},"Patent Office: ",d.patentOffice||"-"),nk.createElement("div",{className:"grey-text brkword"},"Application Number: ",d.applicationNumber||"-"),nk.createElement("div",{className:"grey-text"},"Issued on: ",a.getFormattedDate(d.issueDate)||"-"),nk.createElement("div",{className:"grey-text brkword"},d.description))})),nk.createElement("div",{className:"acm-list-item certifications-wrapper"},nk.createElement("div",{className:"mb10 ln20"},d.certifications.length<3&&nk.createElement("a",{className:"right add",tabIndex:"0",href:"javascript:void(0)",onClick:function(b){a.openDrawer("accomplishment","certifications")}},"ADD"),nk.createElement("div",{className:"hdn2 grey-text-dark"},"Certification"),nk.createElement("div",{className:"grey-text"},"Add details of Certification you have filed.")),!!d.certifications.length&&d.certifications.map(function(b){var d=c.certifications[b];return nk.createElement("div",{className:"mb20 ln20"},nk.createElement("div",null,nk.createElement("strong",{className:"grey-text mr10 hdn3",title:d.course},d.course),nk.createElement("span",{className:"icon edit",tabIndex:"0",onClick:function(b){a.openDrawer("accomplishment","certifications",d.certificationId)}},"Edit")),nk.createElement("div",{className:"grey-text brkword"},"Certification body: ",d.certificationBody),nk.createElement("div",{className:"grey-text"},"Year: ",d.certificationCompletionYear.value))})))),nk.createElement("div",{className:"lightbox profileEditDrawer acm-lightbox",ref:function(b){a.drawers.accomplishment.container=b}},nk.createElement("div",{className:"crossLayer","data-ga-track":"spa-event|EditProfile|"+this.state.activeLayer+"|Cancel"},nk.createElement("span",{className:"icon"},"CrossLayer")),nk.createElement("div",{className:"drawer-content"},this.state.renderAcmLightbox&&nk.createElement(e,{activeAcmId:this.state.activeAcmId,closeDrawer:this.closeDrawer.bind(this,"accomplishment")}))))))}}]),b}(nk.PureComponent),pk=window.interfaces,qk=pk.connect,rk=function(a){return{accomplishments:a.myProfile.accomplishments,route:a.route}},sk=function(a){return{}},tk=qk(rk,sk)(ok),uk={teamSizeRange:qd("teamSize_err","hid_teamSize",Lc),roleRange:qd("role_err","hid_role",Mc),projectTitle:{msg:"Please specify a Project Title.",id:"projectTitle_err"},eduExpId:{msg:"Please select Employment/Education.",id:"eduExpId_err"},clientName:{msg:"Please specify the Client.",id:"clientName_err"},projectDetails:{msg:"Please mention your Project Details.",id:"projectDetails_err"},validChar:{msg:"Special characters such as Backslash(\\), Less than(<) are not allowed.",regEx:/^[^\\<]*$/},startedFrom:function(){var a=$("#hid_projStartYear").val(),b=$("#hid_projStartMonth").val();return(""==a||""==b)&&{msg:"Please select valid Start date.",id:"startedFrom_err"}},workedTill:function(){var a=$("#hid_projStartYear").val()?parseInt($("#hid_projStartYear").val()):"",b=$("#hid_projStartMonth").val()?parseInt($("#hid_projStartMonth").val()):"",c=$("#hid_projEndYear").val()?parseInt($("#hid_projEndYear").val()):"",d=$("#hid_projEndMonth").val()?parseInt($("#hid_projEndMonth").val()):"";return""==c||""==d?{msg:"Please select valid End date.",id:"workedTill_err"}:(c<a||c==a&&d<b)&&{msg:"End Date must be greater than Start Date.",id:"workedTill_err"}}},vk=window.interfaces.Virtual,wk=function(a){function b(){Nb(this,b);var a=Sb(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments));return a.deleteProject=function(b){b.preventDefault();var c={profileId:a.props.profileId,closeLayer:a.props.closeLayer,confirmBoxInst:a.confirmBoxInstance};a.props.deleteProject(c,a.state.projectId)},a.submitProject=function(b){if(b.preventDefault(),a.validator.isValid()){var c={profileId:a.props.profileId,closeLayer:a.props.closeLayer},d=Qb({},a.state);d.projEndMonth="string"==typeof d.projEndMonth?parseInt(d.projEndMonth.replace("#","")):d.projEndMonth,d.projStartMonth="string"==typeof d.projStartMonth?parseInt(d.projStartMonth.replace("#","")):d.projStartMonth,d.role.id="string"==typeof d.role.id?parseInt(d.role.id.replace("#","")):d.role.id,d.teamSize.id="string"==typeof d.teamSize.id?parseInt(d.teamSize.id.replace("#","")):d.teamSize.id,a.props.submitProject(c,d)}},a.formName="projectDetailsForm",a.confirmBoxInstance=null,a.state={projectId:a.props.prefillId,projectTitle:a.props.projectDetails.projectTitle,clientName:a.props.projectDetails.clientName,projectStatus:a.props.projectDetails.projEndYear?"finished":"inprogress",projStartYear:a.props.projectDetails.projStartYear,projStartMonth:a.props.projectDetails.projStartMonth,projEndYear:a.props.projectDetails.projEndYear,projEndMonth:a.props.projectDetails.projEndMonth,employmentType:a.props.projectDetails.employmentType||"Full Time",isOnSiteProject:a.props.projectDetails.isOnSiteProject||!1,projectDetails:a.props.projectDetails.projectDetails,projectLocation:a.props.projectDetails.projectLocation,role:a.props.projectDetails.designation||{id:"",value:""},roleDesc:a.props.projectDetails.role,skillsUsed:a.props.projectDetails.skillsUsed,teamSize:a.props.projectDetails.teamSize||{id:"",value:""},eduExpFlag:a.props.projectDetails.eduExpFlag,eduExpId:a.props.projectDetails.eduExpFlag+"_"+a.props.projectDetails.eduExpId,origin:a.props.origin,pAMessengerId:a.props.messengerId,textCounter:{projectDetails:{maxChar:1e3,charsFilled:a.props.projectDetails.projectDetails&&a.props.projectDetails.projectDetails.length||0},roleDesc:{maxChar:250,charsFilled:a.props.projectDetails.role&&a.props.projectDetails.role.length||0},skillsUsed:{maxChar:500,charsFilled:a.props.projectDetails.skillsUsed&&a.props.projectDetails.skillsUsed.length||0}},addMoreDetails:a.props.prefillId!=-1},a}return Rb(b,a),Ob(b,[{key:"initValidation",value:function(){this.validator=window.commonValidator(),this.validator.validate({formNames:[this.formName],errors:uk,focusOnError:!0,submitButton:"submitProject",styles:{parentObjectClass:"row",maxLevel:10,errorClass:"err"}})}},{key:"attachedCallback",value:function(){try{this.initValidation()}catch(a){}}},{key:"getSuggConfig",value:function(a){var b={maxSuggestions:"12",grouping:!1,relatedConcept_dataLayer:!1,multiSearch:!1,startSearchAfter:"2",chips:!1,maxCharacterLimit:100,maxlength:100,singleSelect:!0,appId:"105",width:"100%"};return Qb({},b,a)}},{key:"handleChange",value:function(a){var b=this,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";this.setState(Pb({},a,c),function(){"projectStatus"==a&&"inprogress"==c&&b.setState({projEndYear:"",projEndMonth:""})})}},{key:"updateTextCount",value:function(a,b){var c,d="skillsUsed"==a?b.replace(/[,\s]+$/g,""):b,e=b.length,f=this.state.textCounter[a].maxChar;f-e<0||this.setState((c={},Pb(c,a,d),Pb(c,"textCounter",Qb({},this.state.textCounter,Pb({},a,{charsFilled:e,maxChar:f}))),c))}},{key:"renderConfirmBox",value:function(){var a=this,b={dimens:{width:"30%",height:"160px"},routing:!1};return vk.createElement(Ke,{params:b,setInstance:function(b){return a.confirmBoxInstance=b}},function(b){var c;b.close;return vk.createElement("div",{className:"confirmationBox projectConfirmation"},vk.createElement("div",{className:"row"},vk.createElement("div",{className:"col s12"},"Are you sure you want to delete this project?")),vk.createElement("div",{className:"row"},vk.createElement("div",{className:"col s12 right-align"},vk.createElement("a",(c={className:"blue-text"},Pb(c,"className","cancelLayer mr20"),Pb(c,"href","javascript:void(0)"),Pb(c,"onClick",function(){return a.confirmBoxInstance.close()}),c),"CANCEL"),vk.createElement("button",{className:"waves-effect waves-light btn-large",onClick:a.deleteProject},"DELETE"))))})}},{key:"render",value:function(){var a,b=this,c=this.state.projectId==-1,d="finished"==this.state.projectStatus,e=!$.isEmptyObject(this.props.projectTagDD);return vk.createElement("div",null,vk.createElement(Pd,{id:"projectFormMessenger"}),vk.createElement("form",{name:this.formName,id:this.formName,className:"container projectForm lbpadding",noValidate:!0},this.renderConfirmBox(),vk.createElement("div",{className:"editHeader"},c?vk.createElement("div",null,vk.createElement("span",{className:"widgetTitle"},"Add Project")):vk.createElement("div",null,vk.createElement("span",{className:"widgetTitle truncate",title:this.props.projectDetails.projectTitle},"Edit - ",this.props.projectDetails.projectTitle||"Project"),vk.createElement("a",{href:"javascript:;",className:"delete",onClick:function(){return b.confirmBoxInstance.open()}},"DELETE"))),vk.createElement("div",{className:"row"},vk.createElement("div",{className:"input-field col s12 mt0"},vk.createElement("span",{className:"lbl required-field"},"Project Title")),vk.createElement("div",{className:"col s12"},vk.createElement("input",{type:"text",id:"projectTitle",maxLength:"100",placeholder:"Enter Project Title",defaultValue:this.state.projectTitle,rel:"required:projectTitle,specialChar:validChar",onChange:function(a){return b.handleChange("projectTitle",a.target.value)}}),vk.createElement("span",{className:"erLbl",id:"projectTitle_err"}))),e&&vk.createElement("div",{className:"row"},vk.createElement("div",{className:"input-field col s12"},vk.createElement("span",{className:"lbl"},"Tag this project with your Employment/Education")),vk.createElement("div",{className:"col s12"},vk.createElement(Bc,{id:"eduExpId",data:this.props.projectTagDD,prefillData:[this.state.eduExpId],placeholder:"Select Employment/Education",sortPrefix:"#",iconName:"DownArrow",onChange:function(a,c){return b.handleChange("eduExpId",a)}}))),vk.createElement("div",{className:"row"},vk.createElement("div",{className:"input-field col s12"},vk.createElement("span",{className:"lbl required-field"},"Client")),vk.createElement("div",{className:"col s12"},vk.createElement(ng,this.getSuggConfig({id:"clientName",category:{company:"company"},placeholderText:"Enter Client Name",value:this.state.clientName,rel:"required:clientName,specialChar:validChar",onChange:function(a){return b.handleChange("clientName",a.target.value)},onSelectClbk:function(a,c){return b.handleChange("clientName",c)}})),vk.createElement("span",{className:"erLbl",id:"clientName_err"}))),vk.createElement("div",{className:"row"},vk.createElement("div",{className:"input-field col s12"},vk.createElement("span",{className:"lbl"},"Project Status")),vk.createElement("div",{className:"col s4"},vk.createElement("input",{name:"projectStatus",className:"with-gap",type:"radio",id:"inprogress",onChange:function(){return b.handleChange("projectStatus","inprogress")},checked:!d}),vk.createElement("label",{htmlFor:"inprogress"},"In Progress")),vk.createElement("div",{className:"col s4"},vk.createElement("input",{name:"projectStatus",className:"with-gap",type:"radio",id:"finished",onChange:function(){return b.handleChange("projectStatus","finished")},checked:d}),vk.createElement("label",{htmlFor:"finished"},"Finished"))),vk.createElement("div",{className:"row"},vk.createElement("div",{className:"input-field col s12"},vk.createElement("span",{className:"lbl required-field"},"Started Working From")),vk.createElement("div",{className:"col s4"},vk.createElement(Bc,{id:"projStartYear",data:si.year(),prefillData:[this.state.projStartYear],placeholder:"Select Year",sortPrefix:"#",rel:"custom:startedFrom",iconName:"DownArrow",onChange:function(a,c){return b.handleChange("projStartYear",a)}})),vk.createElement("div",{className:"col s4"},vk.createElement(Bc,{id:"projStartMonth",data:si.month(this.state.projStartYear),prefillData:[this.state.projStartMonth],placeholder:"Select Month",iconName:"DownArrow",onChange:function(a,c){return b.handleChange("projStartMonth",a)}})),vk.createElement("div",{className:"col s12"},vk.createElement("span",{className:"erLbl",id:"startedFrom_err"}))),vk.createElement("div",{className:"row"},vk.createElement("div",{className:"input-field col s12"},vk.createElement("span",{className:"lbl required-field"},"Worked Till")),d?vk.createElement("div",null,vk.createElement("div",{className:"col s4"},vk.createElement(Bc,{id:"projEndYear",data:si.year(),prefillData:[this.state.projEndYear],placeholder:"Select Year",sortPrefix:"#",rel:"custom:workedTill",iconName:"DownArrow",onChange:function(a,c){return b.handleChange("projEndYear",a);
}})),vk.createElement("div",{className:"col s4"},vk.createElement(Bc,{id:"projEndMonth",data:si.month(this.state.projEndYear),prefillData:[this.state.projEndMonth],placeholder:"Select Month",iconName:"DownArrow",onChange:function(a,c){return b.handleChange("projEndMonth",a)}})),vk.createElement("div",{className:"col s12"},vk.createElement("span",{className:"erLbl",id:"workedTill_err"}))):vk.createElement("div",{className:"col s4"},vk.createElement("div",{className:"present-box"},"Present"))),vk.createElement("div",{className:"row"},vk.createElement("div",{className:"input-field col s12"},vk.createElement("span",{className:"lbl required-field"},"Details of Project")),vk.createElement("div",{className:"col s12"},vk.createElement("textarea",{id:"projectDetails",className:"materialize-textarea",placeholder:"Type here...",maxLength:"1000",rel:"required:projectDetails,specialChar:validChar",defaultValue:this.state.projectDetails,onChange:function(a){return b.updateTextCount("projectDetails",a.target.value)}}),vk.createElement("span",{className:"erLbl",id:"projectDetails_err"}),vk.createElement("div",{className:"textCounter right"},this.state.textCounter.projectDetails.maxChar-this.state.textCounter.projectDetails.charsFilled," Character(s) Left"))),!this.state.addMoreDetails&&vk.createElement("div",{className:"row"},vk.createElement("div",{className:"col s12"},vk.createElement("a",{href:"javascript:;",className:"fs14 fw500",onClick:function(){return b.handleChange("addMoreDetails",!0)}},"Add More Details"))),this.state.addMoreDetails&&vk.createElement("div",null,vk.createElement("div",{className:"row"},vk.createElement("div",{className:"input-field col s12"},vk.createElement("span",{className:"lbl"},"Project Location")),vk.createElement("div",{className:"col s12"},vk.createElement("input",{type:"text",id:"projectLocation",maxLength:"50",placeholder:"Enter Project Location",rel:"specialChar:validChar",defaultValue:this.state.projectLocation,onChange:function(a){return b.handleChange("projectLocation",a.target.value)}}),vk.createElement("span",{className:"erLbl",id:"projectLocation_err"}))),vk.createElement("div",{className:"row"},vk.createElement("div",{className:"input-field col s12"},vk.createElement("span",{className:"lbl"},"Project Site")),vk.createElement("div",{className:"col s4"},vk.createElement("input",{name:"isOnSiteProject",id:"offsite",className:"with-gap",type:"radio",onChange:function(){return b.handleChange("isOnSiteProject",!1)},checked:!this.state.isOnSiteProject}),vk.createElement("label",{htmlFor:"offsite"},"Offsite")),vk.createElement("div",{className:"col s4"},vk.createElement("input",{name:"isOnSiteProject",id:"onsite",className:"with-gap",type:"radio",onChange:function(){return b.handleChange("isOnSiteProject",!0)},checked:this.state.isOnSiteProject}),vk.createElement("label",{htmlFor:"onsite"},"Onsite"))),vk.createElement("div",{className:"row"},vk.createElement("div",{className:"input-field col s12"},vk.createElement("span",{className:"lbl"},"Nature of Employment")),vk.createElement("div",{className:"col s4"},vk.createElement("input",{name:"employmentType",id:"fullTime",className:"with-gap",type:"radio",onChange:function(a){return b.handleChange("employmentType","Full Time")},checked:"Full Time"==this.state.employmentType}),vk.createElement("label",{htmlFor:"fullTime"},"Full Time")),vk.createElement("div",{className:"col s4"},vk.createElement("input",{name:"employmentType",id:"partTime",className:"with-gap",type:"radio",onChange:function(a){b.handleChange("employmentType","Part Time")},checked:"Part Time"==this.state.employmentType}),vk.createElement("label",{htmlFor:"partTime"},"Part Time")),vk.createElement("div",{className:"col s4"},vk.createElement("input",{name:"employmentType",id:"contractual",className:"with-gap",type:"radio",onChange:function(a){b.handleChange("employmentType","contractual")},checked:"contractual"==this.state.employmentType}),vk.createElement("label",{htmlFor:"contractual"},"Contractual"))),vk.createElement("div",{className:"row"},vk.createElement("div",{className:"input-field col s12"},vk.createElement("span",{className:"lbl"},"Team Size")),vk.createElement("div",{className:"col s12"},vk.createElement(ld,{id:"teamSize",data:Lc,rel:"custom:teamSizeRange",prefillData:[this.state.teamSize.id],placeholder:"Select Team Size",sortPrefix:"#",iconName:"DownArrow",onChange:function(a,c){return b.handleChange("teamSize",{id:a,value:c})}})),vk.createElement("div",{className:"col s12"},vk.createElement("span",{className:"erLbl",id:"teamSize_err"}))),vk.createElement("div",{className:"row"},vk.createElement("div",{className:"input-field col s12"},vk.createElement("span",{className:"lbl"},"Role")),vk.createElement("div",{className:"col s12"},vk.createElement(ld,{id:"role",data:Mc,rel:"custom:roleRange",prefillData:[this.state.role.id],placeholder:"Select Role",sortPrefix:"#",iconName:"DownArrow",onChange:function(a,c){return b.handleChange("role",{id:a,value:c})}})),vk.createElement("div",{className:"col s12"},vk.createElement("span",{className:"erLbl",id:"role_err"}))),vk.createElement("div",{className:"row"},vk.createElement("div",{className:"input-field col s12"},vk.createElement("span",{className:"lbl"},"Role Description")),vk.createElement("div",{className:"col s12"},vk.createElement("textarea",{id:"roleDesc",className:"materialize-textarea",placeholder:"Type here...",maxLength:"250",rel:"specialChar:validChar",defaultValue:this.state.roleDesc,onChange:function(a){return b.updateTextCount("roleDesc",a.target.value)}}),vk.createElement("span",{className:"erLbl",id:"roleDesc_err"}),vk.createElement("div",{className:"textCounter right"},this.state.textCounter.roleDesc.maxChar-this.state.textCounter.roleDesc.charsFilled," Character(s) Left"))),vk.createElement("div",{className:"row"},vk.createElement("div",{className:"input-field col s12"},vk.createElement("span",{className:"lbl"},"Skills Used")),vk.createElement("div",{className:"col s12"},vk.createElement(ng,this.getSuggConfig({id:"skillsUsed",category:{skill:"skills"},relatedConceptCategory:{skill:"skills"},placeholderText:"Enter Skills Used",value:this.state.skillsUsed,rel:"specialChar:validChar",relatedConcept_dataLayer:!0,multiSearch:!0,maxlength:500,relatedConceptsLimit:5,onChange:function(a){return b.updateTextCount("skillsUsed",a.target.value)},onSelect:function(a,c,d){return b.updateTextCount("skillsUsed",d.val())}})),vk.createElement("span",{className:"erLbl",id:"skillsUsed_err"}),vk.createElement("div",{className:"textCounter right"},this.state.textCounter.skillsUsed.maxChar-this.state.textCounter.skillsUsed.charsFilled," Character(s) Left")))),vk.createElement("div",{className:"row"},vk.createElement("div",{className:"col s12 action"},vk.createElement("a",(a={className:"blue-text"},Pb(a,"className","cancelLayer mr20"),Pb(a,"href","javascript:void(0)"),Pb(a,"onClick",function(){return b.props.closeLayer()}),a),"CANCEL"),vk.createElement("button",{className:"waves-effect waves-light btn-large",type:"button",id:"submitProject",onClick:this.submitProject},"Save")))))}}]),b}(vk.PureComponent),xk=window.interfaces,yk=xk.connect,zk=function(a,b){return{projectDetails:a.myProfile.projectDetails[b.prefillId]||{},prefillId:b.prefillId||-1,profileId:a.userDetails.profileId,projectTagDD:a.myProfile.projectTagDD,origin:"pendingAction"==b.origin?"pA":"profile",messengerId:b.messengerId||null}},Ak=function(a){return a&&a.id?{id:parseInt(a.id),value:a.value}:null},Bk=function(a,b){var c=("0"+b).slice(-2);return a+"-"+c+"-01"},Ck=function(a){var b={clientName:a.clientName,startDate:Bk(a.projStartYear,a.projStartMonth),employmentType:a.employmentType,isOnSiteProject:a.isOnSiteProject,projectDetails:a.projectDetails,projectLocation:a.projectLocation,projectTitle:a.projectTitle,skills:a.skillsUsed,teamSize:Ak(a.teamSize),designation:Ak(a.role),role:a.roleDesc};if("finished"==a.projectStatus&&(b.endDate=Bk(a.projEndYear,a.projEndMonth)),a.eduExpId){var c=a.eduExpId.split("_");b.eduExpFlag=parseInt(c[0]),b.eduExpId=c[1]}else b.eduExpFlag="",b.eduExpId="";return b},Dk=function(a){var b=function(b,c){var d="success"===b?"projectMessenger":"projectFormMessenger";a({type:Ed,payload:c?{id:d,type:b,msg:c}:{id:d,type:b}}),"error"===b&&$(".msgBox").focus()},c=function(){var b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"projectFormMessenger";a({type:Fd,payload:{id:b}})},e=function(b,c,d){var e="success"===b?d:"educationEditMessenger";a({type:Ed,payload:c?{id:e,type:b,msg:c}:{id:e,type:b}})};return{submitProject:function(f,g){c();var h=Ck(g),i={accept:"application/json","Content-Type":"application/json"},j=Ra+"/profiles/"+f.profileId+"/projects";return g.projectId!=-1&&(i["X-HTTP-Method-Override"]="PUT",j+="/"+g.projectId),$.ajax({url:j,datatype:"json",data:JSON.stringify(h),method:"POST",headers:i}).then(function(c){setTimeout(function(){a(Ae.getMyProfile("MNJFlow")).then(function(c){a(Ae.getDashboard()),"pA"==g.origin?(e("success","Project Details have been successfully saved.",g.pAMessengerId),$(window).scrollTop(0)):b("success","Project Details have been successfully saved."),f.closeLayer(!1)})},10),d("spa-event","EditProfile","projects","Save")},function(a){b("error"),d("spa-event","EditProfile","projects","SaveError",a.status+a.statusText+JSON.stringify(h)+j)})},deleteProject:function(e,f){c();var g={projectId:f},h=Ra+"/profiles/"+e.profileId+"/projects/"+f;return $.ajax({url:h,datatype:"json",method:"POST",headers:{accept:"application/json","X-HTTP-Method-Override":"DELETE","Content-Type":"application/json"}}).then(function(c){b("success","Project Details have been successfully deleted."),setTimeout(function(){a(Ae.getMyProfile("MNJFlow")).then(function(b){a(Ae.getDashboard())})},10),e.confirmBoxInst.close(),e.closeLayer(!1),d("spa-event","EditProfile","projects","Delete")},function(a){e.confirmBoxInst.close(),b("error"),d("spa-event","EditProfile","projects","DeleteError",a.status+a.statusText+g+h)})},showToast:function(a,c){b(c,a)}}},Ek=yk(zk,Dk)(wk),Fk=window.interfaces.Virtual,Gk=function(a){function b(){Nb(this,b);var a=Sb(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments));return a.openLayer=function(b,c){a.addProjectInstance||(a.addProjectInstance=a.initDrawer(b.target)),a.setState({showDialog:!0,prefillId:c},function(){a.addProjectInstance.open(),d("spa-event","EditProfile","projects","EditOpen")})},a.closeLayer=function(){var b=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],c=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];c&&history.back(),a.setState({showDialog:!1}),b&&d("spa-event","EditProfile","projects","Cancel")},a.addProjectCont=null,a.addProjectInstance=null,a.state={showDialog:!1,prefillId:-1},a}return Rb(b,a),Ob(b,[{key:"attachedCallback",value:function(){f(this.props.route)}},{key:"initDrawer",value:function(a){var b=this;return $(a).lightBox({model:$(this.addProjectCont),dimens:{width:"685px"},open:{anim:"flipOpen",event:"",minTop:100},close:{layer:!1,anim:"flipClose",success:function(a){a&&27==a.keyCode&&b.closeLayer(!0,!1)}}})}},{key:"formatDate",value:function(a){if(a){var b=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],c=a.replace(/-/g,"/").match(/\d{4}\/\d{2}\/\d{2}/),d=new Date(c[0]);return b[d.getMonth()]+" "+d.getFullYear()}}},{key:"formatLocation",value:function(a,b){var c=a?"Onsite":"Offsite";return b?"("+b+" : "+c+")":"("+c+")"}},{key:"formatDuration",value:function(a,b){var c=this.formatDate(a),d=this.formatDate(b)||"Present";return c+" to "+d}},{key:"renderProjects",value:function(a){var b=this,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return a?c.map(function(a){var c=b.formatLocation(a.isOnSiteProject,a.projectLocation);return Fk.createElement("div",{key:a.projectId,className:"row project-list"},Fk.createElement("div",{className:"col s12 item title"},Fk.createElement("span",{className:"truncate ln20",title:a.projectTitle},a.projectTitle),Fk.createElement("span",{className:"edit icon",tabIndex:"0",onClick:function(c){return b.openLayer(c,a.projectId)}},"Edit")),Fk.createElement("div",{className:"col s12 item fs13"},Fk.createElement("span",{className:"truncate ln15",title:a.clientName+" "+c},a.clientName," ",c)),Fk.createElement("div",{className:"col s12 item fs13"},b.formatDuration(a.startDate,a.endDate)," (",a.employmentType,")"),Fk.createElement("div",{className:"col s12 item prefill fs13"},a.projectDetails?Fk.createElement(Ff,{text:a.projectDetails,showChars:285}):null))}):Fk.createElement("span",{className:"empty"},"Add details about projects you have done in college, internship or at work.")}},{key:"render",value:function(){var a=this,b=!(!this.props.projectList||!this.props.projectList.length),c=!(b&&this.props.projectList.length>=100);return Fk.createElement("div",{className:"project-section"},Fk.createElement("div",{className:"card"},Fk.createElement(Pd,{id:"projectMessenger",autoHideIn:"4000"}),Fk.createElement("div",{className:"cardPad"},Fk.createElement("div",{className:"widgetHead"},Fk.createElement("span",{className:"widgetTitle"},"Projects"),this.props.profileScore?Fk.createElement("span",{className:"profileComScore"},"Add ",this.props.profileScore,"%"):null,c&&Fk.createElement("span",{className:"add no-outline",tabIndex:"0",onClick:function(b){return a.openLayer(b,-1)}},"ADD PROJECT")),Fk.createElement("div",{className:"widgetCont"},this.renderProjects(b,this.props.projectList)))),Fk.createElement("div",{className:"lightbox lbWrapper profileEditDrawer",ref:function(b){a.addProjectCont=b}},Fk.createElement("div",{className:"crossLayer"},Fk.createElement("span",{className:"icon",onClick:function(){return a.closeLayer()}},"CrossLayer")),this.state.showDialog&&Fk.createElement(Ek,{origin:this.props.origin,messengerId:this.props.messengerId,prefillId:this.state.prefillId,closeLayer:this.closeLayer})))}}]),b}(Fk.PureComponent),Hk=window.interfaces,Ik=Hk.connect,Jk=function(a,b){var c=function(a){if(a&&!$.isEmptyObject(a)){var b=a.Project_Summary_details?a.Project_Summary_details.subSectionWeightage:0;return b}return 0};return{projectList:a.myProfile.self.projectList,route:a.route,profileScore:c(a.pendingAction),origin:b.origin,pAMessengerId:b.messengerId}},Kk=function(a){return{}},Lk=Ik(Jk,Kk)(Gk),Mk=function(a,b,c){var d=function(a){return a%4==0&&a%100!=0||a%400==0},e={1:31,2:28,3:31,4:30,5:31,6:30,7:31,8:31,9:30,10:31,11:30,12:31};return 2==b?d(c)?a<=29:a<=28:a<=e[b]},Nk={};Nk["profileid.notAlphaNumeric"]="Please enter only uppercase alphabets and numbers.",Nk["profileid.inValid"]="Please enter a valid value.",Nk["profileid.passport.lengthMismatch"]="Passport number should be 8 characters long.",Nk["profileid.passport.firstCharInvalid"]="First character should be an uppercase alphabet, except 'Q' and 'X'.",Nk["profileid.passport.lastCharsInvalid"]="All characters, except the first one should be numeric.",Nk["profileid.passport.recalled"]="Passport number is not valid.",Nk["profileid.pan.invalid"]="PAN number is not valid.",Nk["profileid.pan.lengthMismatch"]="PAN number should be 10 characters long.",Nk["profileid.pan.notUpperCase"]="First 5 and last character should be uppercase alphabet only.",Nk["profileid.aadhar.lengthMismatch"]="Aadhar number should be 12 characters long.",Nk["profileid.aadhar.notNumeric"]="Only numbers are allowed.",Nk["profileid.aadhar.verhoeffFail"]="Aadhar number is not valid",Nk["profileid.passport.lastCharZero"]="Last character can not be zero.";var Ok=function(a){return a-parseFloat(a)>=0},Pk=function(a){var b=/^[a-z0-9]+$/i;return b.test(a)},Qk=function(a){var b=/^[A-Z]+$/;return b.test(a)},Rk=function(a){if("Z"===a.substr(0,1)){var b=parseInt(a.substr(a.length-6));return b>0&&b<=45925}return!1},Sk=function(a){return Ok(a.substr(5,4))&&"ABCFGHLJPTK".indexOf(a.substr(3,1))>-1},Tk=function(a){var b=[[0,1,2,3,4,5,6,7,8,9],[1,2,3,4,0,6,7,8,9,5],[2,3,4,0,1,7,8,9,5,6],[3,4,0,1,2,8,9,5,6,7],[4,0,1,2,3,9,5,6,7,8],[5,9,8,7,6,0,4,3,2,1],[6,5,9,8,7,1,0,4,3,2],[7,6,5,9,8,2,1,0,4,3],[8,7,6,5,9,3,2,1,0,4],[9,8,7,6,5,4,3,2,1,0]],c=[[0,1,2,3,4,5,6,7,8,9],[1,5,7,6,2,8,3,0,9,4],[5,8,0,3,7,9,6,1,4,2],[8,9,1,6,0,4,3,5,2,7],[9,4,5,3,1,2,6,8,7,0],[4,2,8,6,5,7,3,9,0,1],[2,7,9,3,8,0,6,4,1,5],[7,0,4,6,9,1,3,2,5,8]],d=0;return a.replace(/\D+/g,"").split("").reverse().join("").replace(/[\d]/g,function(a,e,f){d=b[d][c[7&e][parseInt(a,10)]]}),0===d},Uk={passportNumber:function(a){var b=a.val();if(!b.length)return!1;var c=b.substr(0,1);b.substr(-1);return 0==b?Nk["profileid.inValid"]:Pk(b)?8!=b.length?Nk["profileid.passport.lengthMismatch"]:Qk(c)&&"0"!=c&&"Q"!=c&&"X"!=c?Ok(b.slice(1,8))?!!Rk(b)&&Nk["profileid.passport.recalled"]:Nk["profileid.passport.lastCharsInvalid"]:Nk["profileid.passport.firstCharInvalid"]:Nk["profileid.notAlphaNumeric"]},panNumber:function(a){var b=a.val();return!!b.length&&(0==b?Nk["profileid.inValid"]:Pk(b)?10!=b.length?Nk["profileid.pan.lengthMismatch"]:Qk(b.substr(0,5)+b.substr(-1))?!Sk(b)&&Nk["profileid.pan.invalid"]:Nk["profileid.pan.notUpperCase"]:Nk["profileid.notAlphaNumeric"])},aadharNumber:function(a){var b=a.val();return!!b.length&&(0==b?Nk["profileid.inValid"]:Ok(b)?12!=b.length?Nk["profileid.aadhar.lengthMismatch"]:!Tk(b)&&Nk["profileid.aadhar.verhoeffFail"]:Nk["profileid.aadhar.notNumeric"])},mailCity:{msg:"Please specify hometown.",id:"mailCity_err"},maritalStatus:{msg:"Please select marital status.",id:"maritalStatus_err"},contactAddress:{msg:"Please specify permanent address.",id:"contactAddress_err"},preferredLocation:{msg:"Please select preferred location.",id:"preferredLocation_err"},category:{msg:"Please select category.",id:"category_err"},workPermitUS:{msg:"Please select work permit.",id:"workPermitUS_err"},physicalDesc:{msg:"Please specify disability description.",id:"physicalDesc_err"},otherDisabilityType:{msg:"Please enter the type of disability you have.",id:"pd-disabilityTypeOther_err"},disabilityType:{msg:"Please enter differently abled type.",id:"pd-disabilityType_err"},subDisabilityType:{msg:"Please enter differently abled sub type.",id:"pd-subDisabilityType_err"},assistance:{msg:"Please enter any assistance that you need at workplace."},language:{msg:"Language cannot be left blank."},proficiency:{msg:"Proficiency cannot be left blank."},validChar:{msg:"Please remove Backslash(\\) & Less than(<) characters.",regEx:/^[^\\<]*$/},invalid_DOB:{msg:"Please Specify a Valid Date.",id:"dob_err"},checkDOB:function(){return function(a){var b=$("#personalDetailsEditForm #hid_pd-date").val(),c=$("#personalDetailsEditForm #hid_pd-month").val(),d=$("#personalDetailsEditForm #hid_pd-year").val();return b&&c&&d?!Mk(b,c,d)&&"invalid_DOB":!!(b||c||d)&&"invalid_DOB"}}(),maritalRange:qd("pd-maritalStatus_err","hid_pd-maritalStatus",bd),categoryRange:qd("pd-category_err","hid_pd-category",cd),disabilityRange:qd("pd-disabilityType_err","hid_pd-disabilityType",id),subDisabilityRange:qd("pd-subDisabilityType_err","hid_pd-subDisabilityType",jd),workPermitUsRange:qd("pd-workPermitUS_err","hid_pd-workPermitUS",dd),workStatusOther:qd("pd-workStatusOther_err","hid_pd-workPermitForCountry",ed),proficiencyRange0:qd("hid_pd-proficiency-0_err","hid_pd-proficiency-0",fd),proficiencyRange1:qd("hid_pd-proficiency-1_err","hid_pd-proficiency-1",fd),proficiencyRange2:qd("hid_pd-proficiency-2_err","hid_pd-proficiency-2",fd),proficiencyRange3:qd("hid_pd-proficiency-3_err","hid_pd-proficiency-3",fd),proficiencyRange4:qd("hid_pd-proficiency-4_err","hid_pd-proficiency-4",fd)},Vk=window.interfaces,Wk=Vk.Virtual,Xk=function(a){function b(){Nb(this,b);var a=Sb(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments));a.onChangeDroope=function(b,c,d){var e=c.constructor===Array||!1;a.setState(Pb({},b,{id:c,value:e?I(d).join(", "):d}))};var c=a.props,d=c.otherDetails,e=c.languages,f=Object.keys(e).filter(function(a){return"prefillId"!=a}).map(function(a){return{languageId:a,ability:e[a].ability,language:e[a].language,proficiency:e[a].proficiency}});return a.state={date:d.dobDate||"",month:d.dobMonth||"",year:d.dobYear||"",gender:Rg[d.gender]||"male",contactAddress:d.contactAddress||"",mailCity:d.mailCity||"",pincode:d.pincode||"",maritalStatus:d.maritalStatus&&d.maritalStatus||{id:"",value:""},category:d.category||{id:"",value:""},workPermitUS:d.workPermitUS||{id:"",value:""},workPermitForCountry:d.workPermitForCountry||{id:"",value:""},panNumber:d.userIdentification&&d.userIdentification.panNumber||"",aadharNumber:d.userIdentification&&d.userIdentification.aadharNumber||"",origin:a.props.origin,pAMessengerId:a.props.messengerId,panNumberEdit:"",aadharNumberEdit:"",disability:Qb({isDisabled:!1,description:"",disabilityType:{id:"",value:""},subDisabilityType:{id:"",value:""}},a.disabilityMapping(d.disability)),languagesArr:f||[]},a.state.disability&&a.state.disability.disabilityType&&a.state.disability.disabilityType.id>9999&&(a.state.disability.disabilityType.id=9999),a.formName="personalDetailsEditForm",a.personalDetailsComponentNode=null,a.yearList=Yg.year(1930,18),a}return Rb(b,a),Ob(b,[{key:"disabilityMapping",value:function(a){return Qb({},a,{isDisabled:!(!a||"Y"!=a.isDisabled)})}},{key:"attachedCallback",value:function(){this.initValidation(),d("spa-event","EditProfile","personalDetails","EditOpen")}},{key:"handleChange",value:function(a,b){var c={};c[b]=a.target.value,this.setState(c)}},{key:"initValidation",value:function(){var a=this;requirejs(["commonValidation_JQ_v16_beta"+aa],function(){a.validator=new commonValidator,a.validator.validate({formNames:[a.formName],errors:Uk,submitButton:"savePersonalDetailsBtn",focusOnError:!0,styles:{parentObjectClass:"row",maxLevel:6,errorClass:"err"}})})}},{key:"savePersonalDetails",value:function(a){var b=this;a.preventDefault(),this.validator.isValid()&&this.props.savePersonalDetails(this.props.userDetails.profileId,this.state,function(a){"success"===a&&b.props.closeDrawer()})}},{key:"updateState",value:function(a,b,c){var d={};d[a]=b,this.setState(d,function(){"undefined"!=typeof c&&c()})}},{key:"updateStateObj",value:function(a,b,c){this.setState(Pb({},a,{id:b,value:c.trim()}))}},{key:"updateDisability",value:function(a,b){var c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",d=this.state.disability;"disabilityType"==a||"subDisabilityType"==a?(d[a]={id:b,value:c},9999==b&&" Others  "===c&&(d.disabilityType.value="")):d[a]=b,this.setState(d)}},{key:"updateLanguages",value:function(a,b,c){var d=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",e=this.state.languagesArr,f=e[a];if("proficiency"==b||"subDisabilityType"==b)f[b]={id:c,value:d.trim()};else if("ability"==b){var g=f.ability,h=g.indexOf(c);h>=0?g.splice(h,1):g.push(c)}else f[b]=c;this.setState({languagesArr:e.concat([])})}},{key:"deleteLanguage",value:function(a,b){var c=this,d=function(a,b){var d=c.state.languagesArr;d.splice(b,1),c.setState({languagesArr:d.concat([])})};a.languageId&&a.languageId!=-1?this.props.deleteLanguage(this.props.userDetails.profileId,a.languageId,function(c){"success"===c&&d(a,b)}):d(a,b)}},{key:"addLanguage",value:function(){var a=this.state.languagesArr;a=a.concat([{languageId:-1,ability:[],language:"",proficiency:{id:"",value:""}}]),this.setState({languagesArr:a})}},{key:"deleteId",value:function(a){var b=this;this.props.deleteId(a,function(c){"success"===c&&b.setState(Pb({},a,""))})}},{key:"render",value:function(){var a=this,b=0===this.state.disability.disabilityType.id?9999:this.state.disability.disabilityType.id;return Wk.createElement("div",{className:"personal-details-component",ref:function(b){a.personalDetailsComponentNode=b}},Wk.createElement(Pd,{id:"personalDetailsEditMessenger"}),Wk.createElement("form",{name:"personalDetailsEditForm",id:"personalDetailsEditForm",className:"personalDetailsEditForm lbpadding",action:"javascript:void(0)",noValidate:!0},Wk.createElement("div",{className:"row mb10"},Wk.createElement("div",{className:"hdn-bold col s12"},"Personal Details")),Wk.createElement("div",{className:"row mb10"},Wk.createElement("div",{className:"input-field col s12"},Wk.createElement("span",{className:"lbl"},"Date of Birth")),Wk.createElement("div",{className:"col s4"},Wk.createElement(ld,{id:"pd-date",rel:"custom:checkDOB",placeholder:"Date",data:gd,sortPrefix:"#",prefillData:[this.state.date],iconName:"DownArrow",title:"true",onChange:function(b,c){a.updateState("date",b)},onError:function(a){},getInstance:function(a){}})),Wk.createElement("div",{className:"col s4"},Wk.createElement(ld,{id:"pd-month",placeholder:"Month",rel:"custom:checkDOB",data:hd,sortPrefix:"#",prefillData:[this.state.month],iconName:"DownArrow",title:"true",onChange:function(b,c){a.updateState("month",b)},onError:function(a){},getInstance:function(a){}})),Wk.createElement("div",{className:"col s4"},Wk.createElement(Bc,{id:"pd-year",placeholder:"Year",data:this.yearList,sortPrefix:"#",prefillData:[this.state.year],iconName:"DownArrow",title:"true",onChange:function(b,c){a.updateState("year",b)},onError:function(a){},getInstance:function(a){}})),Wk.createElement("div",{className:"col s12 err-container mt10"},Wk.createElement("span",{className:"erLbl",id:"dob_err"}))),Wk.createElement("div",{className:"row mb0"},Wk.createElement("div",{className:"input-field col s12"},Wk.createElement("span",{className:"lbl"},"Gender")),Wk.createElement("p",{className:"col s4 mt0"},Wk.createElement("input",{className:"with-gap",name:"gender-male",type:"radio",id:"gender-male",checked:"male"===this.state.gender,onClick:function(b){a.updateState("gender","male")}}),Wk.createElement("label",{className:"radio-lbl",htmlFor:"gender-male"},"Male")),Wk.createElement("p",{className:"col s4 mt0"},Wk.createElement("input",{className:"with-gap",name:"gender-female",type:"radio",id:"gender-female",checked:"female"===this.state.gender,onClick:function(b){a.updateState("gender","female")}}),Wk.createElement("label",{className:"radio-lbl",htmlFor:"gender-female"},"Female"))),Wk.createElement("div",{className:"row"},Wk.createElement("div",{className:"input-field col s12"},Wk.createElement("span",{className:"lbl"},"Permanent Address"),Wk.createElement("input",{id:"pd-permanent-address",type:"text",rel:"specialChar:validChar",maxLength:"150",placeholder:"Enter your Permanent Address",value:this.state.contactAddress,onChange:function(b){a.updateState("contactAddress",b.target.value)}}),Wk.createElement("div",{className:"err-container"},Wk.createElement("span",{className:"erLbl",id:"pd-permanent-address_err"})))),Wk.createElement("div",{className:"row"},Wk.createElement("div",{className:"input-field col s12"},Wk.createElement("span",{className:"lbl"},"Hometown"),Wk.createElement("input",{id:"pd-hometown",type:"text",rel:"specialChar:validChar",maxLength:"25",placeholder:"Enter your Hometown",value:this.state.mailCity,onChange:function(b){a.updateState("mailCity",b.target.value)}}),Wk.createElement("div",{className:"err-container"},Wk.createElement("span",{className:"erLbl",id:"pd-hometown_err"})))),Wk.createElement("div",{className:"row"},Wk.createElement("div",{className:"input-field col s12"},Wk.createElement("span",{className:"lbl"},"Pincode"),Wk.createElement("input",{id:"pd-pincode",type:"text",rel:"specialChar:validChar",maxLength:"10",placeholder:"Enter your Pincode",value:this.state.pincode,onChange:function(b){a.updateState("pincode",b.target.value)}}),Wk.createElement("div",{className:"err-container"},Wk.createElement("span",{className:"erLbl",id:"pd-pincode_err"})))),Wk.createElement("div",{className:"row"},Wk.createElement("div",{className:"input-field col s12"},Wk.createElement("span",{className:"lbl"},"Marital Status")),Wk.createElement("div",{className:"col s12"},Wk.createElement(ld,{id:"pd-maritalStatus",placeholder:"Select Marital Status",data:bd,rel:"custom:maritalRange",sortPrefix:"#",prefillData:[this.state.maritalStatus.id],iconName:"DownArrow",title:"true",onChange:function(b,c){a.updateStateObj("maritalStatus",b,c)},onError:function(a){},getInstance:function(a){}}),Wk.createElement("div",{className:"err-container"},Wk.createElement("span",{className:"erLbl",id:"pd-maritalStatus_err"})))),Wk.createElement("div",{className:"row"},Wk.createElement("div",{className:"input-field col s12"},Wk.createElement("span",{className:"lbl"},"Category")),Wk.createElement("div",{className:"col s6"},Wk.createElement(ld,{id:"pd-category",placeholder:"Select Category",data:cd,rel:"custom:categoryRange",sortPrefix:"#",prefillData:[this.state.category.id],iconName:"DownArrow",title:"true",onChange:function(b,c){a.updateStateObj("category",b,c)},onError:function(a){},getInstance:function(a){}}),Wk.createElement("div",{className:"err-container"},Wk.createElement("span",{className:"erLbl",id:"pd-category_err"})))),Wk.createElement("div",{className:"row mb10"},Wk.createElement("div",{className:"input-field col s12"},Wk.createElement("span",{className:"lbl"},"Differently Abled")),Wk.createElement("p",{className:"col s4 mt0"},Wk.createElement("input",{className:"with-gap",name:"challenged-yes",type:"radio",id:"challenged-yes",checked:this.state.disability.isDisabled,onClick:function(b){a.updateDisability("isDisabled",!0)}}),Wk.createElement("label",{className:"radio-lbl",htmlFor:"challenged-yes"},"Yes")),Wk.createElement("p",{className:"col s4 mt0"},Wk.createElement("input",{className:"with-gap",name:"challenged-no",type:"radio",id:"challenged-no",checked:!this.state.disability.isDisabled,onClick:function(b){a.updateDisability("isDisabled",!1)}}),Wk.createElement("label",{className:"radio-lbl",htmlFor:"challenged-no"},"No")),this.state.disability.isDisabled&&Wk.createElement("div",{className:"col s12 pad0"},Wk.createElement("div",{className:"row"},Wk.createElement("div",{className:"input-field col s12"},Wk.createElement("span",{className:"lbl required-field"},"Type")),Wk.createElement("div",{className:"col s12"},Wk.createElement(ld,{id:"pd-disabilityType",placeholder:"Select Differently Abled Type",data:id,sortPrefix:"#",rel:"required:disabilityType,custom:disabilityRange",prefillData:[b],iconName:"DownArrow",title:"true",onChange:function(b,c){a.updateDisability("disabilityType",b,c)},onError:function(a){},getInstance:function(a){}}),Wk.createElement("div",{className:"err-container"},Wk.createElement("span",{className:"erLbl",id:"pd-disabilityType_err"})))),[3,5,6,8,9].indexOf(b&&parseInt(b))!=-1&&Wk.createElement("div",{className:"row"},Wk.createElement("div",{className:"input-field col s12"},Wk.createElement("span",{className:"lbl required-field"},"Sub Type"),Wk.createElement(ld,{id:"pd-subDisabilityType",placeholder:"Select Differently Abled Sub Type",data:jd,rel:"required:subDisabilityType,custom:subDisabilityRange",prefillParent:b,sortPrefix:"#",prefillData:[this.state.disability.subDisabilityType.id],iconName:"DownArrow",title:"true",onChange:function(b,c){a.updateDisability("subDisabilityType",b,c)},onError:function(a){},getInstance:function(a){}}),Wk.createElement("div",{className:"err-container"},Wk.createElement("span",{className:"erLbl",id:"pd-subDisabilityType_err"})))),9999==b&&Wk.createElement("div",{className:"row"},Wk.createElement("div",{className:"input-field col s12"},Wk.createElement("span",{className:"lbl required-field"},"Describe"),Wk.createElement("input",{id:"pd-disabilityTypeOther",type:"text",rel:"required:otherDisabilityType,specialChar:validChar",maxLength:"150",placeholder:"Enter your Differently Abled type",value:this.state.disability.disabilityType.value,onChange:function(b){a.updateDisability("disabilityType",9999,b.target.value)}}),Wk.createElement("div",{className:"err-container"},Wk.createElement("span",{className:"erLbl",id:"pd-disabilityTypeOther_err"})))),Wk.createElement("div",{className:"row"},Wk.createElement("div",{className:"input-field col s12"},Wk.createElement("span",{className:"lbl required-field"},"What assistance do you need at workplace"),Wk.createElement("textarea",{className:"materialize-textarea mnj-textarea",id:"pd-disabilityDesc",type:"text",rel:"required:assistance,specialChar:validChar",maxLength:"250",
placeholder:"Type here...",value:this.state.disability.description,onChange:function(b){a.updateDisability("description",b.target.value)}}),Wk.createElement("span",{className:"textCounter right"},250-this.state.disability.description.length," Character(s) Left"),Wk.createElement("div",{className:"err-container"},Wk.createElement("span",{className:"erLbl",id:"pd-disabilityDesc_err"})))))),Wk.createElement("div",{className:"row"},Wk.createElement("div",{className:"input-field col s12"},Wk.createElement("span",{className:"lbl"},"Work Permit for USA")),Wk.createElement("div",{className:"col s12"},Wk.createElement(ld,{id:"pd-workPermitUS",placeholder:"Select Work Permit",data:dd,rel:"custom:workPermitUsRange",sortPrefix:"#",prefillData:[this.state.workPermitUS.id],iconName:"DownArrow",title:"true",onChange:function(b,c){a.updateStateObj("workPermitUS",b,c)},onError:function(a){},getInstance:function(a){}}),Wk.createElement("div",{className:"err-container"},Wk.createElement("span",{className:"erLbl",id:"pd-workPermitUS_err"})))),Wk.createElement("div",{className:"row"},Wk.createElement("div",{className:"input-field col s12"},Wk.createElement("span",{className:"lbl"},"Work Permit for Other Countries")),Wk.createElement("div",{className:"col s12"},Wk.createElement(ld,{id:"pd-workPermitForCountry",data:ed,rel:"custom:workStatusOther",prefillData:this.state.workPermitForCountry.id,placeholder:"Select Countries",checkBox:!0,tags:!1,maxSelection:3,sortPrefix:"#",iconName:"DownArrow",preText:"You have selected",onChange:function(b,c){return a.onChangeDroope("workPermitForCountry",b,c)},onError:function(a){}})),Wk.createElement("div",{className:"col s12"},Wk.createElement("label",null,"You can choose 3 countries at max")),Wk.createElement("div",{className:"err-container col s12"},Wk.createElement("span",{className:"erLbl",id:"pd-workStatusOther_err"}))),Wk.createElement("div",{className:"row mb0 mt50"},Wk.createElement("div",{className:"hdn-bold col s12"},(this.state.languagesArr.filter(function(a){return a.languageId!=-1}).length,"Language"))),this.state.languagesArr.map(function(b,c){return Wk.createElement("div",{className:"row"},Wk.createElement("div",{className:"input-field col s6 pad0"},Wk.createElement("div",{className:"row"},Wk.createElement("div",{className:"col s12"},Wk.createElement("span",{className:"lbl required-field"},"Language"),Wk.createElement("input",{id:"pd-language-"+c,type:"text",rel:"required:language,specialChar:validChar",maxLength:"10",placeholder:"Enter Language",value:b.language,onChange:function(b){a.updateLanguages(c,"language",b.target.value)}}),Wk.createElement("div",{className:"err-container"},Wk.createElement("span",{className:"erLbl",id:"pd-language-"+c+"_err"}))))),Wk.createElement("div",{className:"input-field col s6 pad0"},Wk.createElement("div",{className:"row"},Wk.createElement("div",{className:"col s12"},Wk.createElement("span",{className:"lbl required-field"},"Proficiency"),Wk.createElement(ld,{id:"pd-proficiency-"+c,placeholder:"Select Proficiency",data:fd,sortPrefix:"#",rel:"required:proficiency,custom:proficiencyRange"+c,prefillData:[b.proficiency.id],iconName:"DownArrow",title:"true",onChange:function(b,d){a.updateLanguages(c,"proficiency",b,d)},onError:function(a){},getInstance:function(a){}}),Wk.createElement("span",{className:"erLbl",id:"hid_pd-proficiency-"+c+"_err"})))),Wk.createElement("div",{className:"col s12"},Wk.createElement("div",{className:"row"},Wk.createElement("div",{className:"col s3"},Wk.createElement("input",{name:"pd-ability-read-"+c,id:"pd-ability-read-"+c,className:"filled-in",type:"checkbox",onChange:function(b){a.updateLanguages(c,"ability","read")},checked:b.ability.indexOf("read")>=0}),Wk.createElement("label",{htmlFor:"pd-ability-read-"+c},"Read")),Wk.createElement("div",{className:"col s3"},Wk.createElement("input",{name:"pd-ability-write-"+c,id:"pd-ability-write-"+c,className:"filled-in",type:"checkbox",onChange:function(b){a.updateLanguages(c,"ability","write")},checked:b.ability.indexOf("write")>=0}),Wk.createElement("label",{htmlFor:"pd-ability-write-"+c},"Write")),Wk.createElement("div",{className:"col s3"},Wk.createElement("input",{name:"pd-ability-speak-"+c,id:"pd-ability-speak-"+c,className:"filled-in",type:"checkbox",onChange:function(b){a.updateLanguages(c,"ability","speak")},checked:b.ability.indexOf("speak")>=0}),Wk.createElement("label",{htmlFor:"pd-ability-speak-"+c},"Speak")),Wk.createElement("div",{className:"col s3"},Wk.createElement("a",{className:"right",href:"javascript:void(0)",onClick:function(){a.deleteLanguage(b,c)}},"Delete")))))}),this.state.languagesArr.length<5&&Wk.createElement("div",{className:"row mb10"},Wk.createElement("div",{className:"col s12"},Wk.createElement("a",{id:"add-new-language",href:"javascript:void(0)",onClick:this.addLanguage.bind(this)},this.state.languagesArr.length?"Add Another Language":"Add Language"))),Wk.createElement("div",{className:"row"},Wk.createElement("div",{className:"action"},Wk.createElement("div",{className:"col s12"},Wk.createElement("a",{href:"javascript:void(0)",onClick:this.props.closeDrawer,"data-ga-track":"spa-event|EditProfile|PersonalDetails|Cancel"},"CANCEL"),Wk.createElement("button",{id:"savePersonalDetailsBtn",href:"javascript:void(0)",onClick:this.savePersonalDetails.bind(this),type:"button",className:"waves-effect waves-light btn-large blue-btn"},"SAVE"))))))}}]),b}(Wk.PureComponent),Yk=window.interfaces,Zk=Yk.connect,$k=function(a,b){return{userDetails:a.userDetails,otherDetails:a.myProfile.otherDetails,languages:a.myProfile.languages,origin:"pendingAction"==b.origin?"pA":"profile",messengerId:b.messengerId||null}},_k=function(a){var b={profiles:{}};return a.year&&a.month&&a.date&&(a.month=parseInt(a.month)<10?"0"+parseInt(a.month):a.month,a.date=parseInt(a.date)<10?"0"+parseInt(a.date):a.date,b.profiles.birthDate=a.year+"-"+a.month+"-"+a.date),b.profiles.gender=Sg[a.gender],b.profiles.contactAddress=a.contactAddress,b.profiles.mailCity=a.mailCity,b.profiles.pincode=a.pincode,b.profiles.maritalStatus=a.maritalStatus,b.profiles.category=a.category,b.profiles.workStatus=a.workPermitUS,b.profiles.workPermitForCountry=r(a.workPermitForCountry),a.panNumberEdit&&(b.userIdentification=b.userIdentification||{},b.userIdentification.panNumber=a.panNumberEdit),a.aadharNumberEdit&&(b.userIdentification=b.userIdentification||{},b.userIdentification.aadharNumber=a.aadharNumberEdit),a.disability&&(b.disability={},b.disability.disabilityId=a.disability.disabilityId||-1,b.profiles.disability=b.profiles.disability||{},b.profiles.disability.isDisabled=a.disability.isDisabled?"Y":"N",b.disability.disabled=a.disability.isDisabled?"Y":"N",a.disability.isDisabled&&(b.disability.disabilityTypeId=a.disability.disabilityType.id,b.disability.subDisabilityTypeId=[3,5,6,8,9].indexOf(b.disability.disabilityTypeId&&parseInt(b.disability.disabilityTypeId))!=-1?a.disability.subDisabilityType.id:0,b.profiles.disability.description=a.disability.description,9999==a.disability.disabilityType.id&&(b.disability.disabilityType=a.disability.disabilityType.value))),a.languagesArr.length&&(b.languages=[],a.languagesArr.forEach(function(a){a.language&&b.languages.push({languageId:a.languageId,ability:a.ability,lang:a.language,proficiency:a.proficiency})})),b},al=function(a){var b="";return a.forEach(function(a){a.birthDate&&a.birthDate.message.indexOf("must be a valid date")>=0&&(b=b.length?b+", ":b,b+="Please Specify a Valid Date.")}),b.length?b:"Something went wrong. Please try again."},bl=function(a){var b=function(){a(Ae.getMyProfile("MNJFlow")).then(function(b){a(Ae.getDashboard())})},c=function(b){var c=b.type,d=b.msg,e=b.id,f=b.title;e=e||("success"===c?"personalDetailsMessenger":"personalDetailsEditMessenger"),f=f||"",a({type:Ed,payload:d?{id:e,type:c,msg:d,title:f}:{id:e,type:c,title:f}}),"error"===c&&$(".msgBox").focus()},e=function(){var b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"personalDetailsEditMessenger";a({type:Fd,payload:{id:b}})},f=function(b,c,d){var e="success"===b?d:"personalDetailsEditMessenger";a({type:Ed,payload:c?{id:e,type:b,msg:c}:{id:e,type:b}})};return{savePersonalDetails:function(a,g,h){var i=_k(g);return e(),$.ajaxPromise({url:Ra+"/fullProfile/"+a,datatype:"json",data:JSON.stringify(i),method:"POST",headers:{accept:"application/json","X-HTTP-Method-Override":"PUT","Content-Type":"application/json"}}).then(function(a){b(),"pA"==g.origin?(f("success","Personal Details have been successfully saved.",g.pAMessengerId),setTimeout(function(){$(window).scrollTop(0)},10),d("spa-event","PendingAction","personalDetails","Save")):(c({type:"success",msg:"Personal Details have been successfully saved."}),d("spa-event","EditProfile","personalDetails","Save")),"undefined"!=typeof h&&h("success")},function(a){var b=a.jqXHR.responseJSON;c(b&&b.error&&b.error.validationErrorDetails?{type:"error",msg:al(b.error.validationErrorDetails),title:"Error"}:{type:"error"}),"undefined"!=typeof h&&h("error")})},deleteId:function(a,f){return e(),$.ajaxPromise({url:"/jobseekerapi/v1/identity/"+a,datatype:"json",method:"POST",headers:{accept:"application/json","X-HTTP-Method-Override":"DELETE","Content-Type":"application/json"}}).then(function(a){b(),d("spa-event","EditProfile","personalDetails","DeleteID"),"undefined"!=typeof f&&f("success")},function(){c({type:"error"}),"undefined"!=typeof f&&f("error")})},deleteLanguage:function(a,f,g){return e(),$.ajaxPromise({url:"/jobseekerapi/v1/user/profiles/"+a+"/languages/"+f,datatype:"json",method:"POST",headers:{accept:"application/json","X-HTTP-Method-Override":"DELETE","Content-Type":"application/json"}}).then(function(a){b(),d("spa-event","EditProfile","personalDetails","DeleteLanguage"),"undefined"!=typeof g&&g("success")},function(){c({type:"error"}),"undefined"!=typeof g&&g("error")})}}},cl=Zk($k,bl)(Xk),dl=window.interfaces,el=dl.Virtual,fl=function(a){function b(){Nb(this,b);var a=Sb(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments));return a.state={renderLightbox:!1},a.drawers={personalDetails:{triggerNode:null,container:null,closeNodeSel:".crossLayer,.cancel",settings:{model:null,dimens:{width:"685px"},open:{minTop:100,event:"click",anim:"flipOpen",success:function(){a.setState({renderLightbox:!0},function(){$(window).resize()})}},close:{layer:!1,anim:"flipClose",nodes:null,success:function(){a.setState({renderLightbox:!1})}}}}},a}return Rb(b,a),Ob(b,[{key:"openDrawer",value:function(a){var b=this.drawers[a];b.instance||(b.settings.model=$(b.container),b.settings.close.nodes=$(b.closeNodeSel),b.instance=$(b.triggerNode).lightBox(b.settings)),b.instance.open()}},{key:"closeDrawer",value:function(a){window.history.back()}},{key:"getFormattedDate",value:function(a,b,c){if(a&&b&&c){var d={1:"Jan",2:"Feb",3:"Mar",4:"Apr",5:"May",6:"Jun",7:"Jul",8:"Aug",9:"Sep",10:"Oct",11:"Nov",12:"Dec"};return a=a<10?"0"+a:a,b=d[b],a+" "+b+" "+c}return""}},{key:"focusTarget",value:function(a){a&&window.setTimeout(function(){var b=document.querySelector(a);b&&b.focus()},500)}},{key:"render",value:function(){var a=this,b=this.props,c=b.otherDetails,d=b.languages,e=Object.keys(d).filter(function(a){return"prefillId"!=a}),f={dob:{label:"Date of Birth",value:this.getFormattedDate(c.dobDate,c.dobMonth,c.dobYear),focusTarget:"#personalDetailsEditForm #pd-date input"},contactAddress:{label:"Permanent Address",value:c.contactAddress||"",focusTarget:"#personalDetailsEditForm input#pd-permanent-address"},gender:{label:"Gender",value:c.gender?Rg[c.gender]:""},pincode:{label:"Area Pin Code",value:c.pincode||"",focusTarget:"#personalDetailsEditForm input#pd-pincode"},maritalStatus:{label:"Marital Status",value:c.maritalStatus&&c.maritalStatus.value||"",focusTarget:"#personalDetailsEditForm #pd-maritalStatus input"},mailCity:{label:"Hometown",value:c.mailCity||"",focusTarget:"#personalDetailsEditForm input#pd-hometown"},category:{label:"Category",value:c.category&&c.category.value||"",focusTarget:"#personalDetailsEditForm #pd-category input"},workPermitUS:{label:"Work permit for USA",value:c.workPermitUS&&c.workPermitUS.value||"",focusTarget:"#personalDetailsEditForm #pd-workPermitUS input"},workPermitForCountry:{label:"Work permit of other country",value:c.workPermitForCountry&&c.workPermitForCountry.value||"",focusTarget:"#personalDetailsEditForm #pd-workPermitForCountry input"}};return el.createElement("div",null,el.createElement("div",{className:"personalDetails card"},el.createElement(Pd,{id:"personalDetailsMessenger",autoHideIn:"4000"}),el.createElement("div",{className:"cardPad"},el.createElement("div",{className:"widgetHead"},el.createElement("span",{className:"widgetTitle"},"Personal Details"),el.createElement("span",{className:"hide",ref:function(b){a.drawers.personalDetails.triggerNode=b}},"ADD"),el.createElement("span",{className:"icon edit",onClick:function(b){a.openDrawer("personalDetails")}},"Edit")),el.createElement("div",{className:"widgetCont"},el.createElement("div",{className:"row hori-list"},Object.keys(f).map(function(b){return el.createElement("div",{className:"col s6"},el.createElement("div",{className:"title"},f[b].label),f[b].value.trim()?el.createElement("div",{className:"desc elps",title:f[b].value},f[b].value):el.createElement("a",{className:"fs13 fw500",onClick:function(c){a.openDrawer("personalDetails"),a.focusTarget(f[b].focusTarget)},href:"javascript:void(0)"},"Add ",f[b].label))}),el.createElement("div",{className:"col s12"},el.createElement("div",{className:"title"},"Differently Abled"),c.disability&&"Y"===c.disability.isDisabled?el.createElement("div",{className:"desc"},c.disability.disabilityType&&c.disability.disabilityType.value&&c.disability.disabilityType.value+" - ",c.disability.description):el.createElement("div",{className:"desc"},"None")),el.createElement("div",{className:"col s12"},0==e.length&&el.createElement("div",{className:"fs13"},"Languages"),e.length>0&&el.createElement("ul",{className:"language-list"},el.createElement("li",{className:"collection head"},el.createElement("span",{className:"col s3"},"Languages"),el.createElement("span",{className:"col s3"},"Proficiency"),el.createElement("span",{className:"col s2"},"Read"),el.createElement("span",{className:"col s2"},"Write"),el.createElement("span",{className:"col s2"},"Speak")),e.map(function(a){return el.createElement("li",{className:"collection"},el.createElement("span",{className:"col s3 language"},d[a].language),el.createElement("span",{className:"col s3 proficiency"},d[a].proficiency.value||"-"),el.createElement("span",{className:"col s2 read"},d[a].ability.indexOf("read")>=0?el.createElement("span",{className:"icon green-text"},"tick"):el.createElement("span",{className:"icon red-text"},"Cross")),el.createElement("span",{className:"col s2 write"},d[a].ability.indexOf("write")>=0?el.createElement("span",{className:"icon green-text"},"tick"):el.createElement("span",{className:"icon red-text"},"Cross")),el.createElement("span",{className:"col s2speak"},d[a].ability.indexOf("speak")>=0?el.createElement("span",{className:"icon green-text"},"tick"):el.createElement("span",{className:"icon red-text"},"Cross")))})),e.length<5&&el.createElement("a",{className:"fw500",onClick:function(b){a.openDrawer("personalDetails"),a.focusTarget("#personalDetailsEditForm #add-new-language")},href:"javascript:void(0)"},"Add Languages")))),el.createElement("div",{className:"lightbox profileEditDrawer",ref:function(b){a.drawers.personalDetails.container=b}},el.createElement("div",{className:"crossLayer","data-ga-track":"spa-event|EditProfile|PersonalDetails|Cancel"},el.createElement("span",{className:"icon"},"CrossLayer")),el.createElement("div",{className:"drawer-content"},this.state.renderLightbox&&el.createElement(cl,{origin:this.props.origin,messengerId:this.props.messengerId,closeDrawer:this.closeDrawer.bind(this,"personalDetails")}))))))}}]),b}(el.PureComponent),gl=window.interfaces,hl=gl.connect,il=function(a,b){return{userDetails:a.userDetails,otherDetails:a.myProfile.otherDetails,languages:a.myProfile.languages,origin:b.origin,pAMessengerId:b.messengerId}},jl=function(a){return{}},kl=hl(il,jl)(fl),ll=window.interfaces.Virtual,ml=function(a){function b(){return Nb(this,b),Sb(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return Rb(b,a),Ob(b,[{key:"createdCallback",value:function(){}},{key:"attachedCallback",value:function(){f(this.props.route),this.checkEmailVerification(),vc.init(),this.props.clearPushDown()}},{key:"componentWillMount",value:function(){}},{key:"checkEmailVerification",value:function(){var a=this.props.userData.basicDetails.emailId||"",b=q("primaryEmailVerify",this.props.route.current);"success"==b?this.props.showMessenger("profilePageMessenger","success","Your email "+a+" has been succesfully verified."):"failure"==b?this.props.showMessenger("profilePageMessenger","error","Something went wrong, Please try again."):this.props.hideMessenger()}},{key:"getDashboardTemplate",value:function(){var a="";return a="fresher"==this.props.userData.basicDetails.workStatus?"<Education />":"<Employment />"}},{key:"redirectToFreeSearch",value:function(){this.props.redirectToFreeSearch()}},{key:"render",value:function(){var a=this;return ll.createElement("div",{className:"profilePage"},ll.createElement("div",{className:"wrapper"},ll.createElement(Pd,{id:"profilePageMessenger",autoHideIn:"4000"}),ll.createElement(uf,null),ll.createElement("div",{className:"row"},ll.createElement("div",{className:"col s12 pad0"},ll.createElement("div",{className:"col s6 pad0 fs13"},this.props.userData.otherDetails&&this.props.userData.otherDetails.lastModAgo&&ll.createElement("div",null,ll.createElement("span",{className:""},"Profile Last updated")," - ",ll.createElement("span",{className:"fw700"},this.props.userData.otherDetails.lastModAgo))),ll.createElement("div",{className:"col s6 pad0 right-align fs14"},this.props.userDetail.pc>=80?ll.createElement("a",{target:"_blank",href:"https://freesearch.naukri.com/search/ezSearch",onClick:function(){a.redirectToFreeSearch()}},"Check out how recruiters search for candidates like you"):ll.createElement("a",{target:"_blank",href:"https://freesearch.naukri.com/search/ezSearch",onClick:function(){a.redirectToFreeSearch()}},"Sample Profiles with 100% Profile Strength"))),ll.createElement("div",{className:"col s3 widgets pl0"},ll.createElement(lg,null)),ll.createElement("div",{className:"col s9 widgets pr0"},ll.createElement(nc,{resizeOnLoad:!0,id:"lazyAttachCV",component:Xh}),ll.createElement(nc,{resizeOnLoad:!0,id:"lazyResumeHead",component:Nf}),ll.createElement(nc,{resizeOnLoad:!0,id:"lazyKeySkills",component:Ng}),ll.createElement(nc,{resizeOnLoad:!0,id:"lazyEmployment",component:Ki}),ll.createElement(nc,{resizeOnLoad:!0,id:"lazyEducation",component:_i}),ll.createElement(nc,{resizeOnLoad:!0,id:"lazyITSkills",component:ni}),ll.createElement(nc,{resizeOnLoad:!0,id:"lazyProject",component:Lk}),ll.createElement(nc,{resizeOnLoad:!0,id:"lazyProfileSummary",component:cg}),ll.createElement(nc,{resizeOnLoad:!0,id:"lazyAccomplishment",component:tk}),ll.createElement(nc,{resizeOnLoad:!0,id:"lazyDesiredProfile",component:lh}),ll.createElement(nc,{resizeOnLoad:!0,id:"lazyPersonalDetail",component:kl})))))}}]),b}(ll.PureComponent),nl=window.interfaces,ol=nl.connect,pl=function(a){return{route:a.route,userType:a.myProfile.basicDetails.workStatus,userDetail:a.userDetails,userData:a.myProfile}},ql=function(a){var b=function(){var b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"profilePageMessenger",c=arguments[1],d=arguments[2];a({type:Ed,payload:d?{id:b,type:c,msg:d}:{id:b,type:c}})},c=function(){var b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"profilePageMessenger";a({type:Fd,payload:{id:b}})};return{showMessenger:function(a,c,d){b(a,c,d)},hideMessenger:function(){c()},redirectToFreeSearch:function(){d("spa-event","EditProfile","Sample Profiles/How Recruiters Search","Click")},clearPushDown:function(){a({type:Kd,payload:{}})}}},rl=ol(pl,ql)(ml),sl=window.interfaces.Virtual,tl=function(a){function b(){Nb(this,b);var a=Sb(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments));return a.zedoSticky=function(){setTimeout(function(){$(".profWrapper .zedoBanner").sticky({topLimit:$(".profWrapper").prev(),"class":"sticky profSticky",relatedTo:"top",bottomLimit:$(".targetedCard .card").eq(-3)})},300)},a.pageSize=20,a.helpTextArr=[{title:"Naukri Profile Viewed",desc:"Recruiter searched & viewed your complete Naukri profile"},{title:"Resume downloaded",desc:"Your Resume was downloaded by recruiter"},{title:"Resume Viewed",desc:"Recruiter downloaded & viewed your Resume"},{title:"Contact Viewed",desc:"Recruiter viewed your contact details"},{title:"Contacted by Email",desc:"Recruiter sent you an email"}],a.state={pageNo:1,isFetching:!1,allFetched:!1,totalViews:"",keySkills:[],ffData:[],keySkillsCount:"",jobseekerActivityList:[]},a}return Rb(b,a),Ob(b,[{key:"checkTime",value:function(){var a=(new Date).valueOf(),b=localStorage.getItem("profilePerformanceAPI");return!b||a>parseInt(b)}},{key:"attachedCallback",value:function(){this.getProfileViews(),this.getKeySkills(),this.checkTime()&&this.getFFData(),f(this.props.routeName),(adsbygoogle=window.adsbygoogle||[]).push({}),(adsbygoogle=window.adsbygoogle||[]).push({}),this.zedoSticky()}},{key:"createdCallback",value:function(){document.title="Profile Action | Mynaukri"}},{key:"getKeySkills",value:function(){var a=this;this.props.getKeySkills(function(b,c){"success"==b&&a.setState({keySkills:c.keywords,keySkillsCount:c.count})})}},{key:"getFFData",value:function(){var a=this;this.props.getFFData(function(b,c){"success"==b&&c&&c.data&&c.data.length&&a.setState({ffData:c.data})})}},{key:"getProfileViews",value:function(){var a=this;if(this.state.isFetching)return!1;this.setState({isFetching:!0});var b={size:this.pageSize,page:this.state.pageNo};this.props.getProfileViews(b,function(b,c){if("success"==b){var d=parseInt(c.totalViews)<10?"0"+c.totalViews:c.totalViews;c.jobseekerActivityList.length?(1==a.state.pageNo&&c.jobseekerActivityList.length<a.pageSize&&a.setState({allFetched:!0}),a.setState({totalViews:d,jobseekerActivityList:a.state.jobseekerActivityList.concat(c.jobseekerActivityList),pageNo:a.state.pageNo+1})):a.setState({allFetched:!0}),a.zedoSticky()}a.setState({isFetching:!1})})}},{key:"getParsedDate",value:function(a){var b=new Date(a),c={1:"Jan",2:"Feb",3:"Mar",4:"Apr",5:"May",6:"Jun",7:"Jul",8:"Aug",9:"Sep",10:"Oct",11:"Nov",12:"Dec"};return"[object Date]"===Object.prototype.toString.call(b)?isNaN(b.getTime())?"":b.getDate()+" "+c[b.getMonth()+1]+" "+b.getFullYear():""}},{key:"getSendMsgUrl",value:function(a){return"/recruiters/"+a.slugPrimary+"?xz=0_0_14&fsrc=mnjpp&smID=sendMsg_"+a.id}},{key:"getRecruiterUrl",value:function(a){return"/recruiters/"+a.slugPrimary}},{key:"followUnfollow",value:function(a){var b=this;a.isFollowUnfollowInProgress||(a.isFollowUnfollowInProgress=!0,this.props.followUnfollow({recruiterId:a.id,userFollowing:1==a.userFollowing},function(c){"success"==c&&(1==a.userFollowing?(a.userFollowing=0,a.followerCount=a.followerCount>0?a.followerCount-1:0):(a.userFollowing=1,a.followerCount++)),a.isFollowUnfollowInProgress=!1,b.setState({jobseekerActivityList:b.state.jobseekerActivityList.concat([])})}))}},{key:"render",value:function(){var a=this;return sl.createElement("div",{className:"profilePerformancePage"},sl.createElement("div",{className:"headerbg"}),sl.createElement("div",{className:"wrapper"},sl.createElement("div",{className:"row header mb0"},sl.createElement("div",{className:"hdn col s6 white-text"},"Profile Performance")),sl.createElement("div",{className:"row content"},sl.createElement("div",{className:"col s12 card grey-text info-header"},sl.createElement("span",{className:"count"},this.state.totalViews),sl.createElement("span",{className:"fs13"},"Profile Action(s)"),sl.createElement("span",{className:"right fs13 mt17"},"Actions taken on your profile in the last 30 days")),sl.createElement("div",{className:"col s12 pl0"},sl.createElement("a",{className:"fs13",target:"_blank",href:"//resume.naukri.com/resume-display?fftid=profperf_rd_linking"},"Professional assistance can help you increase views for your resume.")),sl.createElement("div",{className:"row"},sl.createElement("div",{className:"col s8 list grey-text pl0 targetedCard"},this.state.jobseekerActivityList.length?this.state.jobseekerActivityList.map(function(b){var c=b.company,d=b.activities,e=b.vcard;return sl.createElement("div",{className:"card list-item"},sl.createElement("div",{className:"row top-card mrg0"},sl.createElement("div",{className:"col s12 mb5"},sl.createElement("span",{className:"hdn2 company",title:c.name},c.name),sl.createElement("a",{target:"_blank",href:"/search?id=&xz=8_0_0&qc="+c.id,className:"right fs13 fw500"},"View jobs by this company")),sl.createElement("div",{className:"col s12 mb5"},sl.createElement("span",{className:"sector fs13",title:c.industry},c.industry),sl.createElement("a",{href:"//my.naukri.com/BlockCompany/view?id=&inputBoxValue="+c.name,className:"fs13 fw500 right"},"Block this company")),sl.createElement("div",{className:"col s12 mb10"},sl.createElement("em",{className:"icon grey-text-light pr5"},"Location"),sl.createElement("span",{className:"location fs13"},c.city)),Object.keys(d).length>0&&sl.createElement("div",{className:"col s12 chips"},Object.keys(d).map(function(b){return sl.createElement("span",{className:"action-chip"},sl.createElement("div",{className:"date grey-text"},sl.createElement("small",null,a.getParsedDate(d[b].date))),sl.createElement("div",{className:"action"},sl.createElement("b",null,d[b].label)))}))),e.name?sl.createElement("div",{className:"row vcard"},sl.createElement("div",{className:"col s1 pad0"},sl.createElement("a",{href:a.getRecruiterUrl(e),target:"_blank"},sl.createElement("img",{className:"user-img",src:e.photoPath||ha}))),sl.createElement("div",{className:"col s6"},sl.createElement("div",null,sl.createElement("a",{className:"grey-text ellipsis300",href:a.getRecruiterUrl(e),target:"_blank",title:e.name},sl.createElement("b",null,e.name))),sl.createElement("div",{className:"fs11 ellipsis300",title:e.designation},e.designation),sl.createElement("div",{className:"fs11"},sl.createElement("a",{className:"grey-text ellipsis300",href:e.companyUrl,target:"_blank",title:e.companyName+(e.location?" | "+e.location:"")},e.companyName,e.location&&" | "+e.location))),sl.createElement("div",{className:"col s5 action mt10"},sl.createElement("a",{target:"_blank",className:"right fs13 fw500 send-msg ml20",title:"Send a personalized message to "+e.name,href:a.getSendMsgUrl(e)},"SEND MESSAGE"),sl.createElement("span",{className:"right center"},sl.createElement("a",{title:"Follow "+e.name+" to get instant job updates",href:"javascript:void(0)",onClick:function(){a.followUnfollow(e)}},1==e.userFollowing?"FOLLOWING":"FOLLOW"),sl.createElement("div",{className:"fs11 grey-text-light"},e.followerCount," Followers")))):sl.createElement("div",{className:"row vcard"},sl.createElement("div",{className:"col s1 pad0"},sl.createElement("img",{className:"user-img",src:ha})),sl.createElement("div",{className:"col s11 no-info"},sl.createElement("b",null,"No Recruiter Information"))))}):sl.createElement("div",{className:"center no-views grey-text-light"},sl.createElement("span",null,"No Views")),!this.state.allFetched&&sl.createElement("div",{className:"center mt10"},sl.createElement("span",{className:"btn",onClick:function(){a.getProfileViews()},disabled:this.state.isFetching},this.state.isFetching?"Loading...":"More")),sl.createElement("div",{className:"help-wrapper row grey-text"},this.helpTextArr.map(function(a){return sl.createElement("div",{className:"col s4"},sl.createElement("b",{className:"fs13"},a.title),sl.createElement("div",{className:"fs11"},a.desc))}))),sl.createElement("div",{className:"col s4 sidebar pr0"},this.state.keySkills&&this.state.keySkills.length>0&&sl.createElement("div",{className:"skill-wdt card"},sl.createElement("div",{className:"row"},sl.createElement("span",{className:"col s12 fs13 pr0"},"Recruiters last searched & viewed your profile using these keywords")),sl.createElement("div",{className:"chips"},this.state.keySkills.map(function(a){return sl.createElement("span",{className:"action-chip"},a)})),sl.createElement("div",{className:"btn-wrapper"},sl.createElement("a",{className:"right fs14 fw500",href:"/mnjuser/profile"},"EDIT SKILLS"))),sl.createElement("div",{className:"ff-wdt card"},sl.createElement("div",{className:"row"},sl.createElement("a",{href:"https://resume.naukri.com"},sl.createElement("img",{src:"//img.naukimg.com/s/4/123/i/ffLogo.png",style:{width:"120px"}}))),sl.createElement("div",{className:"hdn mb20"},"Naukri Services you might be interested in"),this.state.ffData.length>0?sl.createElement("div",null,this.state.ffData.map(function(a){return sl.createElement("div",{className:"mb20"},sl.createElement("b",null,a.title),sl.createElement("div",{className:"grey-text fs13"},a.comm),sl.createElement("div",{className:"btn-wrapper"},sl.createElement("a",{target:"_blank",className:" fs13 fw500 right",href:a.url},"KNOW MORE")))})):sl.createElement("div",null,sl.createElement("div",{className:"mb20"},sl.createElement("b",null,"Be a Priority Applicant"),sl.createElement("div",{className:"grey-text fs13"},"Increase your chances of getting shortlisted for the applied jobs and receiving calls from recruiters."),sl.createElement("div",{className:"btn-wrapper"},sl.createElement("a",{target:"_blank",className:" fs13 fw500 right",href:"//resume.naukri.com/priority-job-application?fftid=home_rtp_display"},"KNOW MORE"))),sl.createElement("div",{className:"mb20"},sl.createElement("b",null,"Increase your visibility by up to 3 times."),sl.createElement("div",{className:"grey-text fs13"},"Get your profile marked as 'Featured' and get a higher rank when recruiters search for resumes."),sl.createElement("div",{className:"btn-wrapper"},sl.createElement("a",{target:"_blank",className:" fs13 fw500 right",href:"//resume.naukri.com/resume-display?fftid=home_rtp_display"},"KNOW MORE"))),sl.createElement("div",{className:"mb20"},sl.createElement("b",null,"Missing out on Jobs?"),sl.createElement("div",{className:"grey-text fs13"},"Let Naukri experts send the best jobs for you on mail and sms within 30 minutes."),sl.createElement("div",{className:"btn-wrapper"},sl.createElement("a",{target:"_blank",className:" fs13 fw500 right",href:"//resume.naukri.com/job-alerts-on-mobile-mail?fftid=home_rtp_display"},"KNOW MORE"))),sl.createElement("div",null,sl.createElement("b",null,"Enhance your Resume"),sl.createElement("div",{className:"grey-text fs13"},"Get a Naukri Expert to craft a professional resume that highlights your achievements and experience."),sl.createElement("div",{className:"btn-wrapper"},sl.createElement("a",{target:"_blank",className:"fs13 fw500 right",href:"//resume.naukri.com/visual-resume-writing-services?fftid=home_rtp_display"},"KNOW MORE")))),sl.createElement("div",{className:"row grey-text fw500"},"Call 1800-3010-5557 now! (Toll-free)")),sl.createElement("div",{className:"ff-wdt profWrapper"},sl.createElement("div",{className:"zedoBanner sticky profSticky"},sl.createElement("ins",{className:"adsbygoogle",style:{display:"inline-block",width:"300px",height:"300px"},"data-ad-client":"ca-pub-5696983841850722","data-ad-slot":"9364468647","data-override-format":"true","data-page-url":"https://www.naukri.com"}))))),sl.createElement("div",{className:"row"},sl.createElement("ins",{className:"adsbygoogle",style:{display:"inline-block",width:"970px",height:"250px"},"data-ad-client":"ca-pub-5696983841850722","data-ad-slot":"1655388106","data-override-format":"true","data-page-url":"https://www.naukri.com"})))),sl.createElement("div",{className:"row"}))}}]),b}(sl.PureComponent),ul=window.interfaces,vl=ul.connect,wl=function(a){return{routeName:a.route}},xl=function(a){var b=function(){return""};return{
getProfileViews:function(a,b){var c=a.page,d=a.size;return $.ajaxPromise({url:"/jobseekerapi/v1/profileViews?size="+d+"&page="+c,datatype:"json",headers:{accept:"application/json"}}).then(function(a){var c=a.data;"undefined"!=typeof b&&b("success",c)},function(a){"undefined"!=typeof b&&b("error")})},getKeySkills:function(a){return $.ajaxPromise({url:"/jobseekerapi/v1/profileViews/keySkills",datatype:"json",headers:{accept:"application/json"}}).then(function(b){var c=b.data;"undefined"!=typeof a&&a("success",c)},function(b){"undefined"!=typeof a&&a("error")})},followUnfollow:function(a,c){var d=a.recruiterId,e=a.userFollowing;return $.ajaxPromise({contentType:"application/json",url:b()+"/recruiters/rpapi/v1/rp/"+d+"/follower",headers:{"Source-Page":"Profile Performance"},method:e?"DELETE":"POST",abortOnRouteChange:!1,reAttemptOnReLogin:!0,customLoginTitle:"Login"}).then(function(a){var b=a.data;"undefined"!=typeof c&&c("success",b)},function(a){"undefined"!=typeof c&&c("error")})},getFFData:function(a){var b=new Date,c=b.setDate(b.getDate()+1);return localStorage.setItem("profilePerformanceAPI",c),$.ajaxPromise({url:"//resume.naukri.com/profile-performance?inventory=ProfPerf&apptype=DESK&servcount=5",datatype:"json",headers:{accept:"application/json"}}).then(function(b){var c=b.data;"undefined"!=typeof a&&a("success",c)},function(b){"undefined"!=typeof a&&a("error")})}}},yl=vl(wl,xl)(tl),zl=function(){window.__insp=window.__insp||[],__insp.push(["wid",22757929]);var a=function(){if("undefined"==typeof window.__inspld){window.__inspld=1;var a=document.createElement("script");a.type="text/javascript",a.async=!0,a.id="inspsync",a.src=("https:"==document.location.protocol?"https":"http")+"://cdn.inspectlet.com/inspectlet.js?wid=22757929&r="+Math.floor((new Date).getTime()/36e5);var b=document.getElementsByTagName("script")[0];b.parentNode.insertBefore(a,b)}};setTimeout(a,0)},Al=5,Bl=function(a){var b=localStorage.getItem("timerWindow-"+a);if(b)return b=JSON.parse(b),V(b,a);var c=[T()];return localStorage.setItem("timerWindow-"+a,JSON.stringify(c)),!1},Cl=window.interfaces.Virtual,Dl=function(a){function b(){return Nb(this,b),Sb(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return Rb(b,a),Ob(b,[{key:"attachedCallback",value:function(){this.props.getDNC(),this.getMNJData(),setTimeout(function(){vc.init()},300),zl(),this.props.userDetails&&this.props.userDetails.username&&Bl(this.props.userDetails.username)}},{key:"createdCallback",value:function(){document.title="Profile | Mynaukri"}},{key:"getMNJData",value:function(){var a=this,b=this,c=!(!this.props.userDetails||!this.props.userDetails.isLoggedIn),d=c?function(){a.props.getMyProfileData("MNJFlow")}:function(c){"success"===c?(a.props.getMyProfileData("MNJFlow"),b.props.dispatchUserLoggedIn()):b.props.dispatchUserLoggedOut()};this.props.getDashboardData(d)}},{key:"render",value:function(){var a=this.props.routeName,b=a.routeName,c=(a.actionName,null);"profile"==b?c=Cl.createElement(rl,null):"profileperformance"==b&&(c=Cl.createElement(yl,null));var d=this.props.dncData.data;return Cl.createElement("div",null,d&&!this.props.dncView?Cl.createElement(se,{redirectUrl:this.props.redirectUrl,dncData:this.props.dncData}):Cl.createElement("div",{className:"mnjFlow"},c))}}]),b}(Cl.PureComponent),El="USER_LOGGEDIN",Fl="USER_LOGGEDOUT",Gl=window.interfaces.connect,Hl=function(a){return{redirectUrl:a.route.routePath,dncView:a.dncData.viewed,dncData:a.dncData,routeName:a.route,userDetails:a.userDetails}},Il=function(a){return{getDNC:function(){return a(Ae.dncPageApi())},dispatchUserLoggedIn:function(){a({type:El,payload:{email:"",authId:""}})},dispatchUserLoggedOut:function(){a({type:Fl})},getDashboardData:function(b){return a(Ae.getDashboard(b))},getMyProfileData:function(b){a(Ae.getMyProfile(b))}}},Jl=Gl(Hl,Il)(Dl),Kl={previewDetails:[{},{},{}]},Ll=function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Kl,b=arguments[1];switch(b.type){case Ud:var c=b.payload.profilePerformace;return Qb({},a,c);case"USER_LOGGEDOUT":return Kl;default:return a}},Ml=function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},b=arguments[1];switch(b.type){case Xd:return Qb({},a,b.payload);case"USER_LOGGEDOUT":return{};default:return a}},Nl=function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{list:[]},b=arguments[1];switch(b.type){case Zd:var c=W(b.payload.inbox,b.payload.unreadCount);return Qb({},a,c);case Yd:var d=W(b.payload.inbox,b.payload.unreadCount),e={list:a.list.concat(d.list)};return b.payload.hasOwnProperty("unreadCount")&&(e.unreadCount=b.payload.unreadCount),Qb({},a,e);case $d:var f=b.payload,g={list:a.list};return g.list.splice(f,1),Qb({},a,g);case _d:var h=b.payload,i={list:a.list};return i.list[h].isRead=!0,Qb({},a,i);case"USER_LOGGEDOUT":return{list:[]};default:return a}},Ol=function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},b=arguments[1];switch(b.type){case ae:return[].concat(Tb(b.payload.list));case"USER_LOGGEDOUT":return{};default:return a}},Pl=function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},b=arguments[1];switch(b.type){case ce:return Qb({},a,b.payload);case de:return{};default:return a}},Ql=Object.freeze({profilePerformance:Ll,inbox:Nl,conversation:Ol,lastScroll:Ml,resumeParser:Pl}),Rl={MNJFlowContainer:Jl,reducer:Ql};return Rl});